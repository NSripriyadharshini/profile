(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/Sql":function(e,t){},DJyZ:function(e,t,r){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r("ma9I"),r("wLYn"),r("NBAS"),r("ExoC"),r("TWNs"),r("rB9j"),r("JfAA"),r("hByQ"),r("SYor"),r("R5XZ"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(n,l,i):n[l]=e[l]}n.default=e,r&&r.set(e,n);return n}(r("q1tI")),o=r("/MKj"),l=h(r("I94b"));r("Rs2y");var i=r("nP3w"),s=h(r("QfBB")),c=h(r("gx/r")),u=r("i4pm"),f=r("K74c"),d=r("WqhB"),p=h(r("OccB")),m=r("kzYf");function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(g=function(e){return e?r:t})(e)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function E(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=S(e);if(t){var n=S(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return v(this,r)}}function v(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r("Ooez");var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(u,e);var t,r,a,o=w(u);function u(e,t){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(r=o.call(this,e,t)).onlyAlpa=function(e){var t,a=r.props.dataLocale,n=a.THIS_IS_REQUIRED_FIELD,o=a.SPECIAL_CHARACTERS_NOT_ALLOWED;return e&&e.trim()?/^[(a-zA-Z )]+$/.test(e)||(t=o):t=n,t},r.onlyAlpaNotRequired=function(e){var t,a=r.props.dataLocale.SPECIAL_CHARACTERS_NOT_ALLOWED;return/^([^0-9]*).*(?=.*[a-zA-Z]).*$/.test(e)&&/^([^0-9]*)$/.test(e)||(t=a),t},r.getInitialData=function(){return{referalCode:null!==r.urlParam("ir_co")&&0!==r.urlParam("ir_co")?r.urlParam("ir_co"):null}},r.doRegister=function(e){var t=r.props,a=t.registerActions,n=t.selectedOffer,o=t.isOffer,l=t.sendCampaignUserData,i=t.login,s=t.userInfo,c=t.firstDealUserExists,u=r.state.currentPhoneCodeSelected;if(o){var f={email:e.email||"",gender:e.gender||"",mobileNumber:e.mobile||"",name:"".concat(e.firstName?e.firstName:""," ").concat(e.lastName?e.lastName:"").trim(),category:n&&n.cat_name||""};i&&s&&s.result&&s.result.telephone&&(f.mobileNumber=s.result.telephone),l(f),setTimeout((function(){i&&s&&s.result&&s.result.telephone&&c(s.result.telephone)}),1e3)}i||(window.dtm.LenskartRewamp&&window.dtm.LenskartRewamp.loginPopup.load.loginPopupSignUpConfirm(),e.phoneCode=u,a.registerUser(e))},r.handleRegister=function(e){r.doRegister(e)},r.required=function(e){var t,a=r.props.dataLocale.THIS_IS_REQUIRED_FIELD;return e&&e.trim()||(t=a),t},r.isValidMobile=function(e){var t,a=r.props,n=a.dataLocale,o=a.localeInfo,l=n.THIS_IS_REQUIRED_FIELD,i=n.PLEASE_ENTER_VALID_MOBILE_NUMBER_EG;return e&&e.trim()?!o.regex.test(e)&&e&&(e.length>o.maxMobileNumberLength||e.length<o.minMobileNumberLength)&&(t=i):t=l,t},r.isValidEmail=function(e){var t,a=r.props.dataLocale,n=a.THIS_IS_REQUIRED_FIELD,o=a.PLEASE_ENTER_VALID_EMAIL_ADDRESS_EG;return e&&e.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)||(t=o):t=n,t},r.isValidPassword=function(e){var t,a=r.props.dataLocale,n=a.THIS_IS_REQUIRED_FIELD,o=a.PASSWORD_SHOULD_BE_MORE_THAN;return e&&e.trim()?e.length<6&&(t=o):t=n,t},r.changeCountryCode=function(e){r.setState({currentPhoneCodeSelected:e})};var a=r.props,l=a.openTab,i=a.redisCommonData,s=a.localeInfo,c=m.langCodeAllowed[s.countryCode].phoneCode,f=i.WHATSAPP_OPTIN?JSON.parse(i.WHATSAPP_OPTIN):{};return f=f.Desktop.Register||{},r.inputPassword=n.default.createRef(),r.state={openTab:l,whatsappOptin:f,isUserOptInForWhatsapp:"ON"===f.toggle,showReferralInput:!1,currentPhoneCodeSelected:c},r.pageInfo="page: ".concat(document.location.pathname).concat(document.location.search),r.getCheckBoxStatus=r.getCheckBoxStatus.bind(_(r)),r.changeCountryCode=r.changeCountryCode.bind(_(r)),r}return t=u,(r=[{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.register,a=t.hideLogin,n=t.commonActions,o=t.registerError,l=t.setCurrentWhatsappStatus,i=this.state.isUserOptInForWhatsapp;r&&!e.register&&(a(),window.localStorage.setItem("reloadRequired",!0),n.getUserInfo(),_gaq.push(["_trackEvent","SIGNUP POPUP","Register Success",this.pageInfo]),_gaq.push(["ninja._trackEvent","SIGNUP POPUP","Register Success",this.pageInfo]),l(i),window.prevUrl&&window.history.back()),null===o&&e.registerError&&(_gaq.push(["_trackEvent","SIGNUP POPUP","Register Failure",this.pageInfo]),_gaq.push(["ninja._trackEvent","SIGNUP POPUP","Register Failure",this.pageInfo]))}},{key:"componentWillUnmount",value:function(){this.props.changeUserExistsValue(null)}},{key:"getCheckBoxStatus",value:function(e){this.setState({isUserOptInForWhatsapp:e})}},{key:"urlParam",value:function(e){var t=this.props.location,r=new RegExp("[?&]".concat(e,"=([^&#]*)")).exec(t.search);return null===r?null:null!==r?r[1]||0:void 0}},{key:"render",value:function(){var e=this,t=this.props,r=t.localeInfo,a=t.registerError,o=t.loading,u=t.dataLocale,d=t.isOffer,m=t.bannerImg,h=t.checkUserExists,g=t.isUserExists,E=t.showSignIn,b=t.hasPlacedOrder,w=t.login,v=t.productData,_=t.isDesktopPdp,S=t.productOfferDetails,P=t.redisCommonData,O=P.BANNER_IMAGE,C=P.AVAILABLE_NEIGHBOUR_COUNTRIES,N=u.EMAIL_ADDRESS,k=u.FIRST_NAME,L=u.LAST_NAME,I=u.MOBILE,A=u.PASSWORD,T=u.OPTIONAL,R=u.REGISTER,j=u.CONTINUE,U=u.REFERRAL_CODE,D=u.BANNER,x=u.LOGO,M=this.state,W=M.openTab,B=M.whatsappOptin,V=M.showReferralInput,F="ae"!==r.countryCode,q=C?(0,f.phoneCodeToShow)(JSON.parse(C)):{},G=JSON.parse(O).signUpUrl;return n.default.createElement("div",{className:"register-wrapper display-flex"},n.default.createElement("div",{className:"auth-section_left-col"},_?n.default.createElement(p.default,{dataLocale:u,offerText:S&&S.text1,productData:v}):n.default.createElement("img",{alt:D,className:"res-img",src:m||G,style:{height:"100%"}})),n.default.createElement("div",{className:"auth-section_right-col"},n.default.createElement(i.Form,{validateOnBlur:!0,initialValues:this.getInitialData(),render:function(t){var u=t.handleSubmit,f=t.submitting;return n.default.createElement("form",{noValidate:!0,className:"form-SLA",name:"register",onSubmit:u},n.default.createElement(i.Field,{name:"firstName",validate:e.onlyAlpa},(function(e){var t=e.input,r=e.meta;return n.default.createElement("div",{className:"form-SLA_field-row ".concat(r.invalid&&r.touched?"form-SLA_field-row_invalid":"")},n.default.createElement("input",y({},t,{autoComplete:"firstName",className:r.valid||r.error&&r.dirty?"form-SLA_field-row_label":"",type:"text"})),n.default.createElement("label",null,k),r.error&&r.touched&&n.default.createElement("span",{className:"form-SLA_field-row_error"},r.error))})),n.default.createElement(i.Field,{name:"lastName",validate:e.onlyAlpaNotRequired},(function(e){var t=e.input,r=e.meta;return n.default.createElement("div",{className:"form-SLA_field-row ".concat(r.invalid&&r.touched?"form-SLA_field-row_invalid":"")},n.default.createElement("input",y({},t,{autoComplete:"lastName",className:r.dirty?"form-SLA_field-row_label":"",type:"text"})),n.default.createElement("label",null,L),r.error&&r.touched&&n.default.createElement("span",{className:"form-SLA_field-row_error"},r.error))})),d&&n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:"margin-b15 labels"},n.default.createElement(i.Field,{component:"input",name:"gender",type:"radio",validate:e.required,value:"male"},(function(e){var t=e.input;return n.default.createElement("label",null,n.default.createElement("input",y({},t,{name:"gender",type:"radio",value:"male"})),n.default.createElement("span",{className:"margin-l10"},"Male"))})),n.default.createElement(i.Field,{component:"input",name:"gender",type:"radio",value:"female"},(function(e){var t=e.input;return n.default.createElement("label",null,n.default.createElement("input",y({},t,{name:"gender",type:"radio",value:"female"})),n.default.createElement("span",{className:"margin-l10"},"Female"))}))),n.default.createElement(i.Field,{name:"gender"},(function(e){var t=e.meta;return t.error&&t.touched?n.default.createElement("span",{className:"form-SLA_field-row_error",style:{marginTop:"-15px"}},t.error):n.default.createElement("span",null)}))),!w&&n.default.createElement(i.Field,{name:"mobile",validate:e.isValidMobile},(function(t){var a=t.input,o=t.meta;return n.default.createElement("div",{className:"form-SLA_field-row ".concat(o.invalid&&o.touched?"form-SLA_field-row_invalid":"")},n.default.createElement("div",{className:"display-flex pos-rel"},n.default.createElement(c.default,{changeDropDown:e.changeCountryCode,countryConfig:q,inputCssClass:"inline-block margin-r5 country-code-display-35 pos-abs fw-bold",inputCssStyle:{bottom:"7px"},imgCssStyle:{height:"6px",top:"14px"},localeInfo:r,selectCssClass:"inline-block margin-r5 country-code-display-50 pos-abs fw-bold text-center moz-left",selectCssStyle:{left:"0px",top:"1px",height:"100%"},showDownArrow:F}),n.default.createElement("input",y({},a,{autoComplete:"mobile",className:o.valid||o.error&&o.dirty?"form-SLA_field-row_label":"",maxLength:r.maxMobileNumberLength,minLength:r.minMobileNumberLength,type:"text",onChange:function(e){a.onChange(e.target.value),e.target.value.trim().length>=r.maxMobileNumberLength&&d&&h(e.target.value)}})),n.default.createElement("label",null,I)),o.error&&o.touched&&n.default.createElement("span",{className:"form-SLA_field-row_error"},o.error))})),g&&!b&&!w&&n.default.createElement("div",{className:"user-exists-container mr-b15"},n.default.createElement("div",{className:"display-flex justify-space-between align-items-center pd-t12 pd-b12 pd-r15 pd-l15 bora-4"},n.default.createElement("div",{className:"fsp15 flex-basis-64 lh-22 text-cool_grey"},"Oops! You already have an account with us."),n.default.createElement("span",{className:"fsp14 text-topaz text-uppercase fw500 cursor-pointer",onClick:function(){return E()}},"Sign In"))),n.default.createElement(i.Field,{name:"email",validate:e.isValidEmail},(function(e){var t=e.input,r=e.meta;return n.default.createElement("div",{className:"form-SLA_field-row ".concat(r.invalid&&r.touched?"form-SLA_field-row_invalid":"")},n.default.createElement("input",y({},t,{autoComplete:"email",className:r.valid||r.error&&r.dirty?"form-SLA_field-row_label":"",type:"email"})),n.default.createElement("label",null,N),r.error&&r.touched&&n.default.createElement("span",{className:"form-SLA_field-row_error"},r.error))})),!w&&n.default.createElement(i.Field,{name:"password",validate:e.isValidPassword},(function(t){var r=t.input,a=t.meta;return n.default.createElement("div",{className:"form-SLA_field-row ".concat(a.invalid&&a.touched?"form-SLA_field-row_invalid":"")},n.default.createElement("input",y({},r,{ref:e.inputPassword,autoComplete:"password",className:a.valid||a.error&&a.dirty?"form-SLA_field-row_label":"",type:"password"})),n.default.createElement("label",null,A),n.default.createElement("div",{className:"row-left checkbox show-password"},n.default.createElement("input",{id:"show_password",name:"show_password",type:"checkbox"}),n.default.createElement("label",{htmlFor:"show_password",onClick:function(){"password"===e.inputPassword.current.type?e.inputPassword.current.type="text":e.inputPassword.current.type="password"}},n.default.createElement("span",null))),a.error&&a.touched&&n.default.createElement("span",{className:"form-SLA_field-row_error"},a.error))})),!w&&n.default.createElement(n.default.Fragment,null,!V&&n.default.createElement("div",{className:"margin-b18"},n.default.createElement("a",{className:"fs-11 fw400",href:"",onClick:function(t){t.preventDefault(),e.setState({showReferralInput:!0})}},"Got a Referral Code?")),V&&n.default.createElement(i.Field,{name:"referalCode"},(function(e){var t=e.input,r=e.meta;return n.default.createElement("div",{className:"referal-code-section form-SLA_field-row ".concat(r.invalid&&r.touched?"form-SLA_field-row_invalid":"")},n.default.createElement("input",y({},t,{ref:"referalCode",autoComplete:"referalCode",className:"form-SLA_field-row_label",placeholder:U,type:"text"})),n.default.createElement("span",{className:"referal-optinal"},"(",T,")"))}))),n.default.createElement("div",{className:"buttons text-center"},o?n.default.createElement("img",{alt:x,src:"//static.lenskart.com/skin/frontend/base/default/images/loader2.gif"}):n.default.createElement("button",{className:"form-SLA_field-row_submit ".concat(g&&"disabled-register"),disabled:g||f,type:"submit"},d&&w?j:R)),a&&n.default.createElement("div",{className:"alert alert-danger"},a&&a.message),!w&&B.showWidget&&"sg"!==r.countryCode&&n.default.createElement(s.default,{WHATSAPP_OPTIN:B,checkBoxStatus:e.getCheckBoxStatus,page:"Desktop-Register"}),!w&&n.default.createElement(l.default,y({},e.props,{loginValue:W})))},onSubmit:this.handleRegister})))}}])&&E(t.prototype,r),a&&E(t,a),u}(n.Component),O=(0,o.connect)((function(e){return{localeInfo:e.common.localeInfo,isUserExists:e.offerCampaign.isUserExists}}),(function(e){return{setCurrentWhatsappStatus:function(t){return e((0,u.setCurrentWhatsappStatus)(t))},checkUserExists:function(t){return e((0,d.checkUserExists)(t))},firstDealUserExists:function(t){return e((0,d.firstDealUserExists)(t))},changeUserExistsValue:function(t){return e((0,d.changeUserExistsValue)(t))},sendCampaignUserData:function(t){return e((0,d.sendCampaignUserData)(t))}}}))(P);t.default=O},I94b:function(e,t,r){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r("ma9I"),r("sMBO"),r("NBAS"),r("ExoC"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(n,l,i):n[l]=e[l]}n.default=e,r&&r.set(e,n);return n}(r("q1tI")),o=i(r("17x9")),l=i(r("RMLc"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function c(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=p(e);if(t){var n=p(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return d(this,r)}}function d(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r("/Sql");var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(i,e);var t,r,a,o=f(i);function i(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,e,t)).state={facebookLoginError:{errorMsg:""}},r}return t=i,(r=[{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.social,a=t.hideLogin,n=t.socialError,o=t.commonActions;!e.social&&r&&(a(),window.localStorage.setItem("reloadRequired",!0),o.getUserInfo(),o.shortlist("","get","?attributes=true"),l.default.setCookieWithDomain("isLogined",1,78894e5),l.default.setCookie("log_in_status","loggedin",30),window.prevUrl&&window.history.back()),null===e.socialError&&n&&n.message&&alert(n.message)}},{key:"componentClicked",value:function(e,t){var r="".concat(t," with ").concat(e);window.dtm.LenskartRewamp&&window.dtm.LenskartRewamp.loginPopup.load.socialLogin(e,r)}},{key:"responseFacebook",value:function(e){if(e){var t=this.props,r=t.registerActions,a=t.dataLocale,n=a.HI,o=a.PLEASE_ALLOW_EMAIL_PERMISSION,l=a.USER_CANCELLED_LOGIN;if(e&&e.accessToken&&void 0!==e.email){var i={accessToken:e.accessToken,expires:e.expiresIn,idToken:null};r.socialAuth({data:i,account:"facebook"})}else e&&e.accessToken&&void 0===e.email?this.setState({facebookLoginError:{errorMsg:"".concat(n,", ").concat(e.name?e.name:""," ").concat(o)}}):this.setState({facebookLoginError:{errorMsg:l}})}}},{key:"responseGoogle",value:function(e,t){var r=e.props.registerActions;if(t&&t.tokenObj&&t.tokenObj.access_token){var a={accessToken:t.tokenObj.access_token,expires:t.tokenObj.expires_in,idToken:t.tokenObj.id_token};r.socialAuth({data:a,account:"google"})}}},{key:"render",value:function(){var e=this.props,t=e.dataLocale,r=e.localeInfo,a=t.T_C_APPLY,o=r.domainUrl;return n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:"social-login"},n.default.createElement("div",{className:"title"}),""!==this.state.facebookLoginError.errorMsg&&n.default.createElement("p",{className:"text-red margin-t5 clear-both float-left"},this.state.facebookLoginError.errorMsg)),n.default.createElement("div",{className:"terms"},n.default.createElement("a",{href:"sg"!==r.countryCode?"//".concat(o,"/terms-conditions"):"//".concat(o,"/sg-terms-of-sale"),rel:"noopener noreferrer",target:"_blank"},"*","sg"!==r.countryCode?a:n.default.createElement("span",{dangerouslySetInnerHTML:{__html:a}}))))}}])&&c(t.prototype,r),a&&c(t,a),i}(n.Component);m.propTypes={social:o.default.object,socialError:o.default.object,hideLogin:o.default.func,commonActions:o.default.object,registerActions:o.default.object};var h=m;t.default=h},LEkf:function(e,t){},LyLc:function(e,t,r){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r("ma9I"),r("yq1k"),r("4mDm"),r("NBAS"),r("ExoC"),r("07d7"),r("JTJg"),r("3bBZ"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(n,l,i):n[l]=e[l]}n.default=e,r&&r.set(e,n);return n}(r("q1tI")),l=r("/MKj"),i=(n=r("17x9"))&&n.__esModule?n:{default:n},s=r("3CYF");r("Rs2y");var c=r("nP3w");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=y(e);if(t){var n=y(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return g(this,r)}}function g(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(l,e);var t,r,a,n=h(l);function l(){var e;d(this,l);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(e=n.call.apply(n,[this].concat(r))).close=function(){(0,e.props.hideLogin)()},e.forgotPasswordSubmit=function(t){e.props.forgotPasswordAction({email:t.forgotemail})},e.isValidEmail=function(t){var r=e.props.dataLocale,a=r.THIS_IS_REQUIRED_FIELD,n=r.PLEASE_ENTER_VALID_EMAIL;return t?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?void 0:n:a},e}return t=l,(r=[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.forgotpassError,r=e.dontAlert,a=e.dataLocale;null!==t||r||(alert(a.AN_EMAIL_HAS_BEEN_SENT),this.close())}},{key:"render",value:function(){var e=this,t=this.props,r=t.notFromHome,a=t.showLoginCallback,n=t.emailStatus,l=t.forgotpassError,i=t.dataLocale,s=i.BACK_TO_LOGIN,u=i.SUBMIT,d=i.NO_CUSTOMER_FOUND,p=i.PLEASE_ENTER_EMAIL_BELOW,m=i.PLEASE_ENTER_YOUR_EMAIL,h=i.RESET_YOUR_PASSWORD,g=i.RECOVERY_MAIL_HAS_BEEN_SENT,y=i.AN_ERROR_OCCUR_EMAIL,E=i.BANNER;this.emailSentMessage="","sent"===n?this.emailSentMessage=g:"fail"===n&&(this.emailSentMessage=y);var b="true"===r?o.default.createElement("div",null):o.default.createElement("div",{className:"auth-section_left-col"},o.default.createElement("img",{alt:E,className:"res-img",src:"//static.lenskart.com/media/wysiwyg/sign-register/sign-in-offer.jpg"})),w="true"===r?o.default.createElement("div",null):o.default.createElement("li",{className:"back-to-login"},o.default.createElement("a",{onClick:function(){a()}},o.default.createElement("i",{"aria-hidden":"true",className:"fa fa-arrow-left"})," ",s));return o.default.createElement("div",{className:"forgot-password-wrapper"},b,o.default.createElement("div",{className:"auth-section_right-col"},o.default.createElement(c.Form,{render:function(t){var r=t.handleSubmit,a=t.values;return o.default.createElement("form",{noValidate:!0,className:"form-SLA",name:"for-pass",onSubmit:r},o.default.createElement("div",null,o.default.createElement("h3",null,h),o.default.createElement("p",{className:"forgot-content"},p)),o.default.createElement("ul",{className:"lenskart-tabsup "},o.default.createElement("li",{className:"input-filed-col"},o.default.createElement(c.Field,{name:"forgotemail",validate:e.isValidEmail},(function(e){var t=e.input,r=e.meta;return o.default.createElement("div",{className:"form-SLA_field-row ".concat(r.invalid&&r.touched?"form-SLA_field-row_invalid":"")},o.default.createElement("input",f({},t,{autoComplete:"email",className:r.valid||r.error&&r.dirty?"form-SLA_field-row_label":"",type:"email"})),o.default.createElement("label",{className:a.forgotemail?"active":"",htmlFor:"forgot_email"},m),r.error&&r.touched&&o.default.createElement("span",{className:"form-SLA_field-row_error"},r.error))})),l&&o.default.createElement("span",{className:"text-red"},d)),w,o.default.createElement("div",{className:"buttons"},o.default.createElement("button",{className:"form-SLA_field-row_submit",name:"send3",type:"submit"},u)),o.default.createElement("div",{className:e.emailSentMessage.includes("error")?"email-sent-error":"email-sent-sucess"},o.default.createElement("p",null,e.emailSentMessage))))},onSubmit:this.forgotPasswordSubmit})))}}])&&p(t.prototype,r),a&&p(t,a),l}(o.Component);E.propTypes={forgotpassError:i.default.object,emailStatus:i.default.string,registerActions:i.default.any,showLoginCallback:i.default.func,hideLogin:i.default.func,notFromHome:i.default.string};var b=(0,l.connect)((function(e){return{forgotpassError:e.auth.forgotpassError,emailStatus:e.auth.emailStatus,dataLocale:e.locale}}),(function(e){return{forgotPasswordAction:function(t){return e((0,s.forgotPasswordAction)(t))}}}))(E);t.default=b},OccB:function(e,t,r){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r("J30X"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.productData,r=e.dataLocale,a=e.offerText,o=r.BANNER,i=(u=(0,n.useState)({}),f=2,function(e){if(Array.isArray(e))return e}(u)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(a=r.next()).done)&&(o.push(a.value),!t||o.length!==t);l=!0);}catch(e){i=!0,n=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw n}}return o}}(u,f)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(u,f)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=i[0],c=i[1];var u,f;return(0,n.useEffect)((function(){var e={};document.getElementById("productName")&&(e.productName=document.getElementById("productName").textContent),document.getElementById("lenskartPrice")&&(e.lenskartPrice=document.getElementById("lenskartPrice").textContent),document.getElementById("marketPrice")&&(e.marketPrice=document.getElementById("marketPrice").textContent),c(e)}),[]),n.default.createElement("div",{className:"display-flex align-items-center justify-content-center padding-l30",style:{flexDirection:"column",height:"100%"}},t&&n.default.createElement("img",{alt:o,className:"res-img",src:t.image}),n.default.createElement("div",{className:"margin-t24",style:{width:"100%",background:"lightgray",height:"1px"}}),n.default.createElement("div",{className:"margin-t24 fs14 fw400"},s.productName),n.default.createElement("div",{className:"margin-t24 fs12 fw700",style:{color:"#2EC99F"}},n.default.createElement("span",null,a),n.default.createElement("span",{className:"margin-l5"},s.lenskartPrice),n.default.createElement("span",{className:"fs12 fw400 margin-l5",style:{textDecoration:"line-through",color:"#C2C2C2"}},s.marketPrice)))};var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=l?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r("q1tI"));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}},Ooez:function(e,t){},QfBB:function(e,t,r){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r("yq1k"),r("wLYn"),r("NBAS"),r("ExoC"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r("q1tI"))&&n.__esModule?n:{default:n},l=r("i4pm"),i=r("oswX"),s=r("/MKj");function c(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=m(e);if(t){var n=m(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return d(this,r)}}function d(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r("y0N5");var h=["Success","OrderList"],g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(l,e);var t,r,a,n=f(l);function l(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),t=n.call(this,e);var r=e.page,a=e.checkCurrentWhatsappStatus,o=e.isOptWhatsApp,i=e.WHATSAPP_OPTIN,s=h.includes(r);return s&&a(),t.state={isUserOptInForWhatsapp:s?o:"ON"===i.toggle},t.setWhatsappOptIn=t.setWhatsappOptIn.bind(p(t)),t}return t=l,(r=[{key:"componentDidUpdate",value:function(e){var t=this.props,r=(t.setToastMessage,t.isOptWhatsApp,t.isUserAction,t.error,t.dataLocale);r.YOU_WILL_START_RECEIVING_UPDATE,r.YOU_WILL_NOT_RECEIVE_UPDATES,r.UNABLE_TO_SERVE_YOUR_REQUEST,e.isOptWhatsApp,e.error}},{key:"setWhatsappOptIn",value:function(){var e=this,t=this.state.isUserOptInForWhatsapp,r=this.props,a=r.isOptWhatsApp,n=r.setCurrentWhatsappStatus,o=r.checkBoxStatus,l=r.page;h.includes(l)?n(!a):this.setState({isUserOptInForWhatsapp:!t},(function(){o(e.state.isUserOptInForWhatsapp)}))}},{key:"render",value:function(){var e=this.props,t=e.page,r=e.isOptWhatsApp,a=e.WHATSAPP_OPTIN,n=e.dataLocale.RECEIVE_ORDER_UPDATES_WHATSAPP,l=this.state.isUserOptInForWhatsapp,i=h.includes(t);return o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:"whatsappBlock text-center margin-t20"},i?o.default.createElement("label",{className:"toggle-style display-flex align-items-center justify-content-center",htmlFor:"toggleStatus",onClick:this.setWhatsappOptIn},o.default.createElement("div",{className:"inline-block whatsapp-logo"},o.default.createElement("img",{alt:"whatsapp",src:"https://static.lenskart.com/media/desktop/img/25-July-19/whatsapp.png"})),o.default.createElement("span",{className:"fw500"},a.message||n),o.default.createElement("div",{className:"switch inline-block cursor-pointer"},o.default.createElement("div",{className:"".concat(r?"active":""," block toggleswitch"),id:"toggleStatus"},o.default.createElement("span",{className:"block handle"})))):o.default.createElement("label",{className:"login-window-whatsapp display-flex align-items-center justify-content-center margin-b15",htmlFor:"checkboxStatus"},o.default.createElement("div",{className:"inline-block margin-r5"},o.default.createElement("input",{"aria-label":"Click to subscribe or unsubscribe for status of your orders",checked:l,id:"checkboxStatus",type:"checkbox",onChange:this.setWhatsappOptIn}),o.default.createElement("span",{className:"checkmark"})),o.default.createElement("span",{className:"fw400 padding-l22 pd-l20"},a.message||n),o.default.createElement("div",{className:"inline-block whatsapp-logo-login"},o.default.createElement("img",{alt:"whatsapp",src:"https://static.lenskart.com/media/desktop/img/25-July-19/whatsapp.png"})))))}}])&&c(t.prototype,r),a&&c(t,a),l}(o.default.PureComponent),y=(0,s.connect)((function(e){return{isOptWhatsApp:e.gupshupWhatsapp.isOptWhatsApp,isUserAction:e.gupshupWhatsapp.isUserAction,error:e.gupshupWhatsapp.error,dataLocale:e.locale}}),(function(e){return{checkCurrentWhatsappStatus:function(){return e((0,l.checkCurrentWhatsappStatus)())},setCurrentWhatsappStatus:function(t){return e((0,l.setCurrentWhatsappStatus)(t,!0))},setToastMessage:function(t){return e((0,i.setToastMessage)(t))}}}))(g);t.default=y},dzL6:function(e,t,r){e.exports=r.p+"chevron/chevron-d014603602bbe8dd07f03d2fddc32ca7.svg"},"gx/r":function(e,t,r){"use strict";r("2B1R"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(r("q1tI")),n=o(r("dzL6"));function o(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t,r=e.countryConfig,o=e.currentPhoneCode,l=e.localeInfo,i=e.changeDropDown,s=e.selectCssStyle,c=e.selectCssClass,u=e.inputCssClass,f=e.inputCssStyle,d=e.imgCssStyle,p=e.showDownArrow;return a.default.createElement(a.default.Fragment,null,r.availableCountries&&r.availableCountries.length>0?a.default.createElement("select",{className:c,defaultValue:o,name:"countryCodes",style:s,onChange:function(e){return i&&i(e.target.value)},id:"selectDropDown"},null===(t=r.availableCountries)||void 0===t?void 0:t.map((function(e){return a.default.createElement("option",{key:e.code,value:e.code},e.code)}))):a.default.createElement("input",{className:u,disabled:"disabled",placeholder:l.phoneCode,style:f,title:l.phoneCode,type:"tel",value:l.phoneCode}),a.default.createElement("img",{alt:"down-arrow",className:"down-arrow ".concat(p?"display-none":""),src:n.default,style:d,onClick:function(){return e=document.getElementById("selectDropDown"),(t=document.createEvent("MouseEvents")).initMouseEvent("mousedown",!0,!0,window),void e.dispatchEvent(t);var e,t}}))};t.default=l},i4pm:function(e,t,r){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.checkCurrentWhatsappStatus=function(){return{type:n.CHECK_CURRENT_WHATSAPP_OPTIN_STATUS}},t.setCurrentWhatsappStatus=function(e,t){return{type:n.SET_WHATSAPP_OPTIN_STATUS,status:e,isUserAction:t}};var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=l?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r("fbl0"));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}},rnQl:function(e,t,r){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r("yXV3"),r("NBAS"),r("ExoC"),r("rB9j"),r("hByQ"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=h(r("q1tI")),o=r("/MKj"),l=r("ANjH"),i=p(r("iSBa")),s=p(r("zPP5"));r("LEkf");var c=h(r("3CYF")),u=h(r("oswX")),f=p(r("DJyZ")),d=r("yWgo");function p(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(n,l,i):n[l]=e[l]}return n.default=e,r&&r.set(e,n),n}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function y(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=v(e);if(t){var n=v(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return w(this,r)}}function w(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(l,e);var t,r,a,o=b(l);function l(e,t){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(r=o.call(this,e,t)).close=function(){var e=r.props,t=e.hideLogin,a=e.location,n=e.isDesktopPdp,o=e.renderOfferModal;n&&o&&o(!1);var l=(0,d.getQueryParam)(a.search.substr(1),"type");0!==a.pathname.indexOf("/customer/")&&"login"!==l||(window.location.href="/"),t(),clearInterval(window.secondsTimer),_gaq.push(["_trackEvent","SIGNUP POPUP","Close",r.pageInfo]),_gaq.push(["ninja._trackEvent","SIGNUP POPUP","Close",r.pageInfo])},r.showSignIn=function(){r.props.registerActions.resetMobileLoginProps(),window.dtm.LenskartRewamp&&window.dtm.LenskartRewamp.loginPopup.load.loginPopupSignIn(),r.setState({openTab:"signin"}),_gaq.push(["_trackEvent","SIGNUP POPUP","Show Login",r.pageInfo]),_gaq.push(["ninja._trackEvent","SIGNUP POPUP","Show Login",r.pageInfo])},r.showSignUp=function(){var e=r.props.registerActions;window.dtm.LenskartRewamp&&window.dtm.LenskartRewamp.loginPopup.load.loginPopupSignUp(),clearTimeout(window.timeOutTimer),e.resetMobileLoginProps(),r.setState({openTab:"signup"}),_gaq.push(["_trackEvent","SIGNUP POPUP","Create Account",r.pageInfo]),_gaq.push(["ninja._trackEvent","SIGNUP POPUP","Create Account",r.pageInfo])},r.loadThirdPartyScript=function(){(0,d.appendScriptToDOM)("https://www.google.com/recaptcha/api.js?render=explicit","",!1,null)};var a=r.props,n=a.openTab,i=a.isOffer;return r.state={showModal:!0,openTab:n,selectedOffer:null},i&&sessionStorage.getItem("offerSelected")&&(r.state.selectedOffer=JSON.parse(sessionStorage.getItem("offerSelected"))),r}return t=l,(r=[{key:"componentDidMount",value:function(){var e=this.state.openTab;window.dtm.LenskartRewamp&&("signin"===e?window.dtm.LenskartRewamp.loginPopup.load.loginPopupSignIn():window.dtm.LenskartRewamp.loginPopup.load.loginPopupSignUp()),this.props.login||this.loadThirdPartyScript()}},{key:"componentDidUpdate",value:function(e){e.userInputErr!==this.props.userInputErr&&this.props.userInputErr&&401===this.props.userInputErr.status&&u.setJunoSession()}},{key:"render",value:function(){var e=this,t=this.state,r=t.showModal,a=t.openTab,o=t.selectedOffer,l=this.props,c=l.hideLogin,u=l.allowSignUp,d=l.dataLocale,p=l.isOffer,m=l.login,h=d.SIGN_IN,y=d.SIGN_UP;return n.default.createElement(i.default,{backdrop:"static",dialogClassName:"auth-modal",hideHandler:this.close,showModal:r,size:"large"},n.default.createElement("div",{className:"auth-section"},n.default.createElement("div",{className:"dialog-close"},n.default.createElement("a",{className:"title",onClick:this.close},"X")),(!p&&"forgotpasswod"!==a||p&&!m)&&n.default.createElement("ul",{className:"auth-section_nav"},u&&n.default.createElement("li",{className:"signup"===a?"TabbedPanelsTab TabbedPanelsTabSelected":"TabbedPanelsTab"},n.default.createElement("div",{onClick:this.showSignUp},y)),n.default.createElement("li",{className:"signin"===a?"TabbedPanelsTab TabbedPanelsTabSelected":"TabbedPanelsTab"},n.default.createElement("div",{onClick:this.showSignIn},h))),"signup"===a&&n.default.createElement(f.default,g({},this.props,{bannerImg:p&&o&&o.cat_big_banner?o.cat_big_banner:null,selectedOffer:o,showSignIn:this.showSignIn})),"signin"===a&&n.default.createElement(s.default,g({dataLocale:d},this.props,{bannerImg:p&&o&&o.cat_big_banner?o.cat_big_banner:null,hideLogin:function(){c()},loginValue:a,showPassCallback:function(){_gaq.push(["_trackEvent","SIGNUP POPUP","Forget Password",e.pageInfo]),_gaq.push(["ninja._trackEvent","SIGNUP POPUP","Forget Password",e.pageInfo])},showSignUp:this.showSignUp}))))}}])&&y(t.prototype,r),a&&y(t,a),l}(n.Component);var S=(0,o.connect)((function(e){return{registerError:e.auth.registerError,register:e.auth.register,redisCommonData:e.common.redisCommonData,login:e.common.login,loginError:e.auth.loginError,user:e.auth.user,loading:e.auth.loading,userInputValidate:e.auth.userInputValidate,oTPSent:e.auth.oTPSent,userInputErr:e.auth.userInputErr,forgotpassError:e.auth.forgotpassError,emailStatus:e.auth.emailStatus,username:e.auth.username,oTPLoginSuccess:e.auth.oTPLoginSuccess,social:e.auth.social,socialError:e.auth.socialError,location:e.router.location,dataLocale:e.locale}}),(function(e){return{registerActions:(0,l.bindActionCreators)(c,e),commonActions:(0,l.bindActionCreators)(u,e)}}))(_);t.default=S},viwG:function(e,t){},y0N5:function(e,t){},zPP5:function(e,t,r){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r("ma9I"),r("wLYn"),r("NBAS"),r("ExoC"),r("rB9j"),r("hByQ"),r("R5XZ"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=w(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(n,l,i):n[l]=e[l]}n.default=e,r&&r.set(e,n);return n}(r("q1tI")),o=r("/MKj"),l=b(r("17x9")),i=b(r("I94b"));r("viwG"),r("Rs2y");var s=r("nP3w"),c=b(r("QfBB")),u=b(r("gx/r")),f=r("i4pm"),d=r("kzYf"),p=b(r("OccB")),m=b(r("20nU")),h=r("sreN"),g=r("yWgo"),y=r("K74c"),E=b(r("LyLc"));function b(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(w=function(e){return e?r:t})(e)}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function _(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=N(e);if(t){var n=N(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return O(this,r)}}function O(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return C(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(l,e);var t,r,a,o=P(l);function l(e,t){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var a=e.redisCommonData,n=e.localeInfo,i=d.langCodeAllowed[n.countryCode].phoneCode,s=a.WHATSAPP_OPTIN?JSON.parse(a.WHATSAPP_OPTIN):{};return s=s.Desktop&&s.Desktop.Login||{},(r=o.call(this,e,t)).setTimeout=function(){var e=document.querySelector(".otpPasswordField");e&&e.focus();var t=r.props.redisCommonData.timerForWalletResendOTP/1e3;window.secondsTimer=setInterval((function(){t>"0"&&(t-=1)<"10"&&(t="0".concat(t)),"00"===t&&(r.setState({showEditText:!0}),r.resetTimeOUt()),document.getElementById("otpTimer")&&!isNaN(t)&&(document.getElementById("otpTimer").innerHTML="00:".concat(t))}),1e3)},r.setCaptcha=function(e){r.setState({captchaResponse:e})},r.forgotPassword=function(){(0,r.props.showPassCallback)(),r.setState({showForgotPass:!0}),window.dtm.LenskartRewamp&&window.dtm.LenskartRewamp.checkout.load.loginForgotPassword("account")},r.verifyCaptchaCallback=function(e){0!==e.length&&r.setState({isCaptchaVerified:!0,captchaResponse:e})},r.handleLogin=function(e){var t=C(r),a=t.emailValid,n=t.phoneValid,o=r.props,l=o.registerActions,i=o.userInputValidate,s=o.localeInfo,c=r.state.currentPhoneCodeSelected,u=d.langCodeAllowed[s.countryCode],f=u.maxMobileNumberLength,p=u.minMobileNumberLength,m={username:e.emailOrPhone};r.props.oTPSent||(e.otppassword=""),r.props.userInputValidate||(e.password=""),e.password&&(m.password=e.password),e.otppassword&&(m.code=e.otppassword),isNaN(m.username)&&!a?(m.validBlock="email",m.phoneCode=c,l.validateUserInput(m)):!n&&m.username&&m.username.length<=f&&m.username.length>=p&&(window.timeOutTimer=null,m.validBlock="mobile",m.phoneCode=c,l.validateUserInput(m)),!n||""===e.otppassword||"SEND_OTP"!==i.result.type&&"VALIDATE_OTP"!==i.result.type||r.fnSendValidateOtp(m,"VALIDATE_OTP"),a&&""!==e.password&&r.doLogin(m,"emailValid"),!n&&m.username&&(m.username.length>f||m.username.length<p)&&r.isMobileEmail(m.username)},r.editValue=function(e){var t=r.props.registerActions;r.resetTimeOUt(),t.resetMobileLoginProps(),"resend-otp"!==e&&(r.emailValid=!1,r.phoneValid=!1,r.toggleBlock=!1,r.setState({showEditText:!1}),r.errorPassword=null,r.otpResent=""),window.dtm.LenskartRewamp&&window.dtm.LenskartRewamp.loginPopup.load.loginPopupEditEmailNumber("email")},r.makeLoginApiCall=function(e,t,a,n){var o=r.props.registerActions;r.otpResent="",("emailValid"===n&&!a||"phoneValid"===n&&!a)&&o.authenticateUser(e)},r.doLogin=function(e,t){var a=C(r),n=a.errorPassword,o=a.errorEmail;r.otpResent="","emailValid"===t&&(r.errorPassword=null,r.resetTimeOUt(),r.makeLoginApiCall(e,n,o,t))},r.fnSendValidateOtp=function(e,t,a){var n=r.props.registerActions,o=r.state.currentPhoneCodeSelected;window.dtm.LenskartRewamp&&("Resend"===a?window.dtm.LenskartRewamp.loginPopup.load.loginPopupResendOtp(e.data.username):"VALIDATE_OTP"!==t&&window.dtm.LenskartRewamp.loginPopup.load.loginPopupEnterOtp(e.data.username)),e.type=t,e.phoneCode=o,e.captchaKey=r.state.captchaResponse,e.occurence=a,n.sendValidateOtp(e)},r.resetTimeOUt=function(){clearInterval(window.secondsTimer)},r.required=function(e){return e?void 0:r.props.dataLocale.THIS_IS_REQUIRED_FIELD},r.isMobileEmail=function(e){var t=r.props,a=t.localeInfo,n=t.dataLocale,o=d.langCodeAllowed[a.countryCode],l=o.regex,i=o.maxMobileNumberLength,s=o.minMobileNumberLength,c=null;return(!l.test(e)||e&&(e.length>i||e.length<s))&&!(0,g.emailCriteriaFulfilled)(e)&&(c=n.PLEASE_ENTER_VALID_EMAIL_MOBILE),e&&((0,g.emailCriteriaFulfilled)(e)||!(0,g.onlyNumbersEntered)(e)||e.length>i)?r.setState({showCountryCode:!1}):e?r.setState({showCountryCode:!0}):r.setState({showCountryCode:!1}),c},r.resetCaptcha=function(){window.grecaptcha.reset(),r.setState({isCaptchaVerified:!1,captchaResponse:null})},r.changePhoneCode=function(e){r.setState({currentPhoneCodeSelected:e})},r.renderCaptcha=function(){window.grecaptcha.render("recaptcha",{sitekey:m.default.siteKey,theme:"light",callback:r.verifyCaptchaCallback,"expired-callback":r.resetCaptcha}),r.setState({isCaptchaVerified:!1})},r.errorUsername=null,r.otpResent="",r.errorPassword=null,r.emailValid=!1,r.phoneValid=!1,r.triggerOfferGa=!0,r.toggleBlock=!1,r.username="",r.state={showEditText:!1,showForgotPass:!1,whatsappOptin:s,isUserOptInForWhatsapp:"ON"===s.toggle,isCaptchaVerified:!1,captchaResponse:null,showCountryCode:!1,currentPhoneCodeSelected:i},r.getCheckBoxStatus=r.getCheckBoxStatus.bind(C(r)),r.verifyCaptchaCallback=r.verifyCaptchaCallback.bind(C(r)),r.renderCaptcha=r.renderCaptcha.bind(C(r)),r.changePhoneCode=r.changePhoneCode.bind(C(r)),r}return t=l,(r=[{key:"componentDidMount",value:function(){this.props.registerActions.resetAuthData(),this.props.isCaptchaRequired&&this.renderCaptcha()}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.userInputValidate,a=t.oTPSent,n=t.oTPLoginSuccess,o=t.user,l=t.commonActions,i=t.hideLogin,s=t.loginFromCL,c=t.setCurrentWhatsappStatus,u=t.isDesktopPdp,f=t.showSignUp,d=t.hasPlacedOrder,p=this.state.isUserOptInForWhatsapp;e.userInputValidate!==r&&r&&0===r.result.accounts.length&&window.dtm.LenskartRewamp?window.dtm.LenskartRewamp.loginPopup.load.loginPopupAccountNotFound():e.userInputValidate!==r&&r&&r.result.accounts.length>0&&"mobile"===r.result.data.validBlock&&this.fnSendValidateOtp(r.result,"SEND_OTP"),e.oTPSent!==a&&!0===a&&this.setTimeout(),(!e.user&&o||e.oTPLoginSuccess!==n&&!0===n)&&(window.dtm.LenskartRewamp.loginSuccess.success(),r.result&&r.result.data&&"mobile"===r.result.data.validBlock&&c(p),(i&&!u||d)&&i(),u&&!d&&f(),l.getUserInfo(),l.shortlist("","get","?attributes=true"),s||_gaq.push(["_trackEvent","SIGNUP POPUP","Login Success","page: ".concat(document.location.pathname).concat(document.location.search)]),_gaq.push(["ninja._trackEvent","SIGNUP POPUP","Login Success","page: ".concat(document.location.pathname).concat(document.location.search)]),window.prevUrl&&window.history.back()),e.isCaptchaRequired!==this.props.isCaptchaRequired&&this.props.isCaptchaRequired?this.renderCaptcha():e.isCaptchaRequired===this.props.isCaptchaRequired&&this.props.isCaptchaRequired&&this.state.isCaptchaVerified&&e.oTPSent!==this.props.oTPSent?this.resetCaptcha():e.isCaptchaRequired===this.props.isCaptchaRequired||this.props.isCaptchaRequired||this.setCaptcha(null);var m=sessionStorage.getItem("offerSelected");if(this.phoneValid&&m&&this.triggerOfferGa){var g,y={event:"lead form",pageName:"otp lead",pageType:"lead form",category:"",channel:"",subSection1:"",PageUrl:(null===(g=window)||void 0===g?void 0:g.location.href)||"",LkUserType:"lkNew",loginStatus:"guest"};(0,h.pushDataLayerEvent)(y),this.triggerOfferGa=!1}this.username!==this.props.username&&(this.username=this.props.username)}},{key:"componentWillUnmount",value:function(){window.secondsTimer&&clearInterval(window.secondsTimer)}},{key:"getCheckBoxStatus",value:function(e){this.setState({isUserOptInForWhatsapp:e})}},{key:"render",value:function(){var e=this,t=this.props,r=t.redisCommonData,a=t.userInputValidate,o=t.oTPSent,l=t.otpType,f=t.loginError,d=t.userInputErr,m=t.username,h=t.loading,g=t.loginFromCL,b=t.localeInfo,w=t.dataLocale,_=t.bannerImg,S=t.isDesktopPdp,P=t.productData,O=t.productOfferDetails,C=t.isCaptchaRequired,N=w.VERIFY,k=w.EDIT_EMAIL,L=w.OTP,I=w.ACCOUNT_DOES_NOT_EXIST,A=w.MOBILE_EMAIL_TEXT,T=w.BACK,R=w.WE_HAVE_SENT_AN_OTP,j=w.HYPHEN,U=w.PLEASE_ENTER_OTP,D=w.EDIT_NUMBER,x=w.A_NEW_OTP_SENT,M=w.RESEND,W=w.PLEASE_ENTER_PASSWORD,B=w.EMAIL_ADDRESS,V=w.FORGOT_PASSWORD,F=w.PASSWORD,q=w.PROCEED,G=w.BANNER,H=w.LOGO,Y=this.state,J=Y.showEditText,Q=Y.whatsappOptin,z=Y.showCountryCode,K=Y.currentPhoneCodeSelected,X=r.timerForWalletResendOTP,Z=r.AVAILABLE_NEIGHBOUR_COUNTRIES,$=Z?(0,y.phoneCodeToShow)(JSON.parse(Z)):{},ee="ae"!==b.countryCode;return null!=a&&a.result.accounts.length>0&&"email"===a.result.data.validBlock&&(this.emailValid=!0,this.toggleBlock=!0,this.errorUsername=null,this.phoneValid=!1),a&&0===a.result.accounts.length&&(this.errorUsername=I),o&&!0===o&&(this.errorUsername=null,this.emailValid=!1,this.phoneValid=!0,this.toggleBlock=!0),null!==d&&d.message&&null===a&&(this.errorUsername=d.message,this.otpResent=""),"boolean"!=typeof o&&o.error&&(this.errorPassword=o.error.message,this.otpResent=""),f&&(this.errorPassword=f.message,this.otpResent="",g||_gaq.push(["_trackEvent","SIGNUP POPUP","Login Failure","page: ".concat(document.location.pathname).concat(document.location.search)]),_gaq.push(["ninja._trackEvent","SIGNUP POPUP","Login Failure","page: ".concat(document.location.pathname).concat(document.location.search)])),this.state.showForgotPass?n.default.createElement(E.default,v({},this.props,{showLoginCallback:function(){e.setState({showForgotPass:!1}),clearTimeout(window.timeOutTimer)}})):n.default.createElement("div",{className:"login-wrapper display-flex"},!g&&n.default.createElement("div",{className:"auth-section_left-col"},S?n.default.createElement(p.default,{dataLocale:w,offerText:O&&O.text1,productData:P}):n.default.createElement("img",{alt:G,className:"res-img",src:_||"https://static.lenskart.com/media/wysiwyg/sign-register/sign-in-offer.jpg",style:{height:"100%"}})),n.default.createElement("div",{className:"auth-section_right-col"},n.default.createElement(s.Form,{initialValues:{emailOrPhone:this.username&&m||"",otppassword:"",email:m||"",password:""},render:function(t){var r=t.handleSubmit,f=t.submitting;return n.default.createElement("form",{noValidate:!0,className:"form-SLA frm-login",name:"register",onSubmit:r},n.default.createElement("ul",{className:e.toggleBlock?"screen-hidden":""},n.default.createElement("li",{className:"input-filed-col"},n.default.createElement(s.Field,{name:"emailOrPhone",validate:e.isMobileEmail},(function(t){var r=t.input,a=t.meta;return n.default.createElement("div",{className:"form-SLA_field-row ".concat(a.invalid&&a.touched?"form-SLA_field-row_invalid":"")},n.default.createElement("div",{className:"display-flex pos-rel"},n.default.createElement(u.default,{changeDropDown:e.changePhoneCode,countryConfig:$,imgCssStyle:{display:z&&!ee?"block":"none"},inputCssClass:"inline-block margin-r5 pos-abs fw-bold ".concat(z?"country-code-display-35":""),inputCssStyle:{bottom:"7px",display:z?"block":"none"},localeInfo:b,selectCssClass:"inline-block margin-r5 ".concat(z?"country-code-display-50":""," pos-abs fw-bold text-center moz-left"),selectCssStyle:{height:"100%",left:"0",top:"1px",display:z?"block":"none"}}),n.default.createElement("input",v({},r,{autoComplete:"emailOrPhone",className:a.valid||a.error&&a.dirty?"form-SLA_field-row_label":"",placeholder:A,title:A,type:"text",onFocus:function(){e.errorUsername=null}}))),a.error&&a.touched||o.error&&o.error.message&&"SEND_OTP"===l&&n.default.createElement("span",{className:"form-SLA_field-row_error"},a.error||o.error.message))})),(a||d)&&e.errorUsername&&n.default.createElement("div",{className:"custom-error"},e.errorUsername))),e.phoneValid&&n.default.createElement("ul",null,n.default.createElement("li",{"aria-hidden":"true",className:"arrow-back",onClick:function(){e.editValue("edit-email")}},n.default.createElement("i",{className:"fa fa-arrow-left"}),T),n.default.createElement("li",{className:"input-filed-col margin-t18 margin-b18"},n.default.createElement("span",null,R," ",K," ",j," ",m," ",n.default.createElement("span",{className:"edit phone pull-right",onClick:function(){e.editValue("edit-phone"),window.dtm.LenskartRewamp&&window.dtm.LenskartRewamp.loginPopup.load.loginPopupEditEmailNumber("phone")}}," ",D))),n.default.createElement("li",{className:"input-filed-col otppassword clearboth"},n.default.createElement(s.Field,{name:"otppassword",validate:e.required},(function(t){var r=t.input,o=t.meta;return n.default.createElement("div",{className:"form-SLA_field-row ".concat(o.invalid&&o.touched?"form-SLA_field-row_invalid":"")},n.default.createElement("input",v({},r,{autoComplete:"otppassword",className:o.valid||o.error&&o.dirty?"form-SLA_field-row_label otpPasswordField":"",maxLength:"6",placeholder:U,title:L,type:"text",onFocus:function(){e.errorPassword=null}})),n.default.createElement("span",{className:"margin-t5 pull-right resend ".concat(!e.state.isCaptchaVerified&&C?"resend-disable":""),onClick:function(){e.fnSendValidateOtp(a.result,"SEND_OTP","Resend"),e.errorPassword=null,e.otpResent=x,e.setState({showEditText:!1})}},n.default.createElement("span",{className:"display-timer margin-r5",id:"otpTimer"},X/1e3>=10?"00:".concat(X/1e3):"00:0".concat(X/1e3)),n.default.createElement("span",{className:"resend-text"},M)),o.error&&o.touched&&n.default.createElement("span",{className:"form-SLA_field-row_error"},o.error))}))),n.default.createElement("li",{className:"overflow-h ".concat(J?"input-filed-col":"input-filed-col resend-list")},e.errorPassword&&n.default.createElement("div",{className:"custom-error custom-phone-error"},e.errorPassword),""!==e.otpResent&&n.default.createElement("div",{className:"validation-advice otp-resent"},e.otpResent))),e.emailValid&&n.default.createElement("ul",null,n.default.createElement("li",{"aria-hidden":"true",className:"arrow-back",onClick:function(){e.editValue("edit-email")}},n.default.createElement("i",{className:"fa fa-arrow-left"}),T),n.default.createElement("li",{className:"input-filed-col"},n.default.createElement(s.Field,{name:"email"},(function(e){var t=e.input,r=e.meta;return n.default.createElement("div",{className:"form-SLA_field-row ".concat(r.invalid&&r.touched?"form-SLA_field-row_invalid":"")},n.default.createElement("input",v({},t,{autoComplete:"otppassword",className:r.valid||r.error&&r.dirty?"form-SLA_field-row_label validate-email":"validate-email",disabled:"disabled",title:B,type:"email",value:m})))})),n.default.createElement("span",{className:"edit",onClick:function(){e.editValue("edit-email")}},k)),n.default.createElement("li",{className:"input-filed-col col-current-password"},n.default.createElement(s.Field,{name:"password",validate:e.required},(function(t){var r=t.input,a=t.meta;return n.default.createElement("div",{className:"form-SLA_field-row ".concat(a.invalid&&a.touched?"form-SLA_field-row_invalid":"")},n.default.createElement("input",v({},r,{autoComplete:"current-password",className:a.valid||a.error&&a.dirty?"form-SLA_field-row_label validate-password":"validate-password",placeholder:W,title:F,type:"password",onFocus:function(){e.errorPassword=null}})),a.error&&a.touched&&n.default.createElement("span",{className:"form-SLA_field-row_error"},a.error))})),!g&&n.default.createElement("a",{className:"pull-right display-ib margin-t5 margin-b15 btn-forgot-password",onClick:e.forgotPassword},V),e.errorPassword&&n.default.createElement("div",{className:"custom-error display-ib"},e.errorPassword))),e.props.isCaptchaRequired&&n.default.createElement("div",{id:"recaptcha"}),e.props.isCaptchaRequired&&e.props.oTPSent&&n.default.createElement("button",{className:"margin-t5 pull-left verify-btn ".concat(e.state.isCaptchaVerified?"isEnabled":""),disabled:!e.state.isCaptchaVerified&&e.props.isCaptchaRequired,onClick:function(){e.fnSendValidateOtp(a.result,"SEND_OTP","Resend"),e.errorPassword=null,e.otpResent=x,e.setState({showEditText:!1})}},n.default.createElement("span",{className:"resend-text"},N)),n.default.createElement("div",{className:e.phoneValid?"clearboth phone-valid":"clearboth"},n.default.createElement("div",{className:"padding-t15 text-center"},h?n.default.createElement("img",{alt:H,src:"//static.lenskart.com/skin/frontend/base/default/images/loader2.gif"}):n.default.createElement("button",{className:"form-SLA_field-row_submit",disabled:f||!e.state.isCaptchaVerified&&e.props.isCaptchaRequired&&!o,name:"send",type:"submit"},q)),Q.showWidget&&"sg"!==b.countryCode&&n.default.createElement(c.default,{WHATSAPP_OPTIN:Q,checkBoxStatus:e.getCheckBoxStatus,page:"Desktop-Login"}),!g&&n.default.createElement(i.default,e.props)))},onSubmit:this.handleLogin})))}}])&&_(t.prototype,r),a&&_(t,a),l}(n.Component);k.propTypes={showPassCallback:l.default.func,hideLogin:l.default.func,userInfo:l.default.object,login:l.default.bool,loginError:l.default.string,user:l.default.object,registerActions:l.default.any,commonActions:l.default.any,redisCommonData:l.default.object,userInputValidate:l.default.object,oTPSent:l.default.any,userInputErr:l.default.object,oTPLoginSuccess:l.default.any,loginFromCL:l.default.bool};var L=(0,o.connect)((function(e){return{localeInfo:e.common.localeInfo,isCaptchaRequired:e.auth.isCaptchaRequired,otpType:e.auth.otpType}}),(function(e){return{setCurrentWhatsappStatus:function(t){return e((0,f.setCurrentWhatsappStatus)(t))}}}))(k);t.default=L}}]);