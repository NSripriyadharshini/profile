((self||this)["webpackJsonp@sprinklr/chat-web-client"]=(self||this)["webpackJsonp@sprinklr/chat-web-client"]||[]).push([[11],{1008:function(t,e,n){"use strict";var r=n(101),o=n.n(r);const i=t=>t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&");e.a=(t,e)=>{if(o()(e))return!1;try{return new RegExp(`^${t.split(/\*+/).map(i).join(".*")}$`).test(e)}catch(n){return console.warn("Wrong wild card string in filter"),!1}}},1012:function(t,e,n){"use strict";e.__esModule=!0,e.default=e.EXITING=e.ENTERED=e.ENTERING=e.EXITED=e.UNMOUNTED=void 0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(378)),o=c(n(315)),i=c(n(401)),a=n(1013);n(1014);function c(t){return t&&t.__esModule?t:{default:t}}e.UNMOUNTED="unmounted";e.EXITED="exited";e.ENTERING="entering";e.ENTERED="entered";e.EXITING="exiting";var s=function(t){var e,n;function r(e,n){var r;r=t.call(this,e,n)||this;var o,i=n.transitionGroup,a=i&&!i.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?a?(o="exited",r.appearStatus="entering"):o="entered":o=e.unmountOnExit||e.mountOnEnter?"unmounted":"exited",r.state={status:o},r.nextCallback=null,r}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=r.prototype;return a.getChildContext=function(){return{transitionGroup:null}},r.getDerivedStateFromProps=function(t,e){return t.in&&"unmounted"===e.status?{status:"exited"}:null},a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?"entering"!==n&&"entered"!==n&&(e="entering"):"entering"!==n&&"entered"!==n||(e="exiting")}this.updateStatus(!1,e)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var t,e,n,r=this.props.timeout;return t=e=n=r,null!=r&&"number"!==typeof r&&(t=r.exit,e=r.enter,n=void 0!==r.appear?r.appear:e),{exit:t,enter:e,appear:n}},a.updateStatus=function(t,e){if(void 0===t&&(t=!1),null!==e){this.cancelNextCallback();var n=i.default.findDOMNode(this);"entering"===e?this.performEnter(n,t):this.performExit(n)}else this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},a.performEnter=function(t,e){var n=this,r=this.props.enter,o=this.context.transitionGroup?this.context.transitionGroup.isMounting:e,i=this.getTimeouts(),a=o?i.appear:i.enter;e||r?(this.props.onEnter(t,o),this.safeSetState({status:"entering"},(function(){n.props.onEntering(t,o),n.onTransitionEnd(t,a,(function(){n.safeSetState({status:"entered"},(function(){n.props.onEntered(t,o)}))}))}))):this.safeSetState({status:"entered"},(function(){n.props.onEntered(t)}))},a.performExit=function(t){var e=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(t),this.safeSetState({status:"exiting"},(function(){e.props.onExiting(t),e.onTransitionEnd(t,r.exit,(function(){e.safeSetState({status:"exited"},(function(){e.props.onExited(t)}))}))}))):this.safeSetState({status:"exited"},(function(){e.props.onExited(t)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},a.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,e.nextCallback=null,t(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(t,e,n){this.setNextCallback(n);var r=null==e&&!this.props.addEndListener;t&&!r?(this.props.addEndListener&&this.props.addEndListener(t,this.nextCallback),null!=e&&setTimeout(this.nextCallback,e)):setTimeout(this.nextCallback,0)},a.render=function(){var t=this.state.status;if("unmounted"===t)return null;var e=this.props,n=e.children,r=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(e,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"===typeof n)return n(t,r);var i=o.default.Children.only(n);return o.default.cloneElement(i,r)},r}(o.default.Component);function d(){}s.contextTypes={transitionGroup:r.object},s.childContextTypes={transitionGroup:function(){}},s.propTypes={},s.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:d,onEntering:d,onEntered:d,onExit:d,onExiting:d,onExited:d},s.UNMOUNTED=0,s.EXITED=1,s.ENTERING=2,s.ENTERED=3,s.EXITING=4;var l=(0,a.polyfill)(s);e.default=l},1013:function(t,e,n){"use strict";function r(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==t&&void 0!==t&&this.setState(t)}function o(t){this.setState(function(e){var n=this.constructor.getDerivedStateFromProps(t,e);return null!==n&&void 0!==n?n:null}.bind(this))}function i(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof t.getDerivedStateFromProps&&"function"!==typeof e.getSnapshotBeforeUpdate)return t;var n=null,a=null,c=null;if("function"===typeof e.componentWillMount?n="componentWillMount":"function"===typeof e.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof e.componentWillReceiveProps?a="componentWillReceiveProps":"function"===typeof e.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"===typeof e.componentWillUpdate?c="componentWillUpdate":"function"===typeof e.UNSAFE_componentWillUpdate&&(c="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==c){var s=t.displayName||t.name,d="function"===typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+s+" uses "+d+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==c?"\n  "+c:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof t.getDerivedStateFromProps&&(e.componentWillMount=r,e.componentWillReceiveProps=o),"function"===typeof e.getSnapshotBeforeUpdate){if("function"!==typeof e.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=i;var l=e.componentDidUpdate;e.componentDidUpdate=function(t,e,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;l.call(this,t,e,r)}}return t}n.r(e),n.d(e,"polyfill",(function(){return a})),r.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0},1014:function(t,e,n){"use strict";e.__esModule=!0,e.classNamesShape=e.timeoutsShape=void 0;var r;(r=n(378))&&r.__esModule;e.timeoutsShape=null;e.classNamesShape=null},1015:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=c(n(378)),o=c(n(315)),i=n(1013),a=n(1420);function c(t){return t&&t.__esModule?t:{default:t}}function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var l=Object.values||function(t){return Object.keys(t).map((function(e){return t[e]}))},u=function(t){var e,n;function r(e,n){var r,o=(r=t.call(this,e,n)||this).handleExited.bind(d(d(r)));return r.state={handleExited:o,firstRender:!0},r}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=r.prototype;return i.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},i.componentDidMount=function(){this.appeared=!0,this.mounted=!0},i.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(t,e){var n=e.children,r=e.handleExited;return{children:e.firstRender?(0,a.getInitialChildMapping)(t,r):(0,a.getNextChildMapping)(t,n,r),firstRender:!1}},i.handleExited=function(t,e){var n=(0,a.getChildMapping)(this.props.children);t.key in n||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState((function(e){var n=s({},e.children);return delete n[t.key],{children:n}})))},i.render=function(){var t=this.props,e=t.component,n=t.childFactory,r=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,["component","childFactory"]),i=l(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===e?i:o.default.createElement(e,r,i)},r}(o.default.Component);u.childContextTypes={transitionGroup:r.default.object.isRequired},u.propTypes={},u.defaultProps={component:"div",childFactory:function(t){return t}};var f=(0,i.polyfill)(u);e.default=f,t.exports=e.default},1028:function(t,e,n){var r=n(756);t.exports=function(t){return r(t,5)}},1036:function(t,e,n){"use strict";n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return l}));var r=n(749),o=n(391),i=n(342),a=n(357);const c=(t,e)=>`${a.a.getParnterId(e)}_${a.a.getAppId(e)}_${i.a.getId(o.a.getChatUser(t))}_${Date.now()}_${Math.random().toString(16).substr(2,8)}`;let s;const d=(t,e)=>{const n=o.a.getChatSessionToken(t),i=c(t,e),a=o.a.getInboxServerUrl(t),d=o.a.getUserInbox(t);return s=new r.a({userName:n,clientId:i,inboxServerUrl:a,userInbox:d}),s},l=()=>s},1037:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(563),o=n(809),i=n(694),a=n(342),c=n(349);const s={[c.b.CONTACT_DETAILS_FORM]:{NAME:({user:t})=>a.a.getName(t),FIRST_NAME:({user:t})=>a.a.getFirstName(t),LAST_NAME:({user:t})=>a.a.getLastName(t),EMAIL:({user:t})=>a.a.getEmail(t),PHONE_NO:({user:t})=>a.a.getPhoneNo(t)}},d={[c.b.CONTACT_DETAILS_FORM]:(t,e)=>{const n=o.a.getFields(i.a.getForm(t)),r=s[c.b.CONTACT_DETAILS_FORM];return n.reduce((t,n)=>{const{id:o}=n,i=r[o];return i&&(t[o]=i(e)),t},{})}},l=(t,e)=>{const n=d[r.a.getType(t)];return n?n(t,e):{}}},1038:function(t,e,n){"use strict";e.a={CALL_INITIATED:"VIDEO_CALL_INITIATED",CALL_STARTING:"VIDEO_CALL_STARTING",CALL_OFFER_ACCEPTED:"VIDEO_CALL_OFFER_ACCEPTED",CALL_CONNECTED:"VIDEO_CALL_CONNECTED",CALL_DECLINED:"VIDEO_CALL_DECLINED",CALL_ENDED:"VIDEO_CALL_ENDED",CALL_MISSED:"VIDEO_CALL_MISSED"}},1263:function(t,e,n){"use strict";var r=n(101),o=n.n(r),i=n(412),a=n.n(i),c=n(1007),s=n.n(c);const d=(t,e)=>s()(t)&&s()(e)?t-e:a()(t)&&a()(e)?t.localeCompare(e):-1,l=(t,e)=>{if(o()(e))return!1;return d(e,t)<=-1},u=(t,e)=>{if(o()(e))return!1;return d(e,t)>=1},f=(t,e)=>{if(o()(e))return!1;return 0===d(e,t)};var p=n(360),b=n.n(p),h=n(525),g=n(374),O=n(343),y=n(505);var m=class{constructor(t){this.matches=(t,e)=>{const{logOnSuccess:n,logOnFailure:r}=e,o=O.a.getField(this._filter),i=b()(O.a.getValues(this._filter)),a=Object(h.a)({currentValueMap:t,filter:this._filter});let c;switch(O.a.getFilterType(this._filter)){case y.a.LT:c=l(i,a);break;case y.a.LTE:c=l(i,a)||f(i,a);break;case y.a.GT:c=u(i,a);break;case y.a.GTE:c=u(i,a)||f(i,a);break;case y.a.EQUALS:c=f(i,a);break;case y.a.NOT_EQUALS:c=!f(i,a);break;default:c=!1}return c&&n&&Object(g.a)(`Range Filter succeed for ${o} with value ${a}`),!c&&r&&Object(g.a)(`Range Filter failed for ${o} with value ${a}`),c},this.clear=()=>{},this._filter=t}};var j=(t,e)=>{if(o()(e))return!1;try{return!!new RegExp(t).test(e)}catch(n){return Object(g.a)("Wrong regex in filter"),!1}},v=n(1008),I=n(154),E=n.n(I),C=n(565),_=n.n(C);var S=class{constructor(t){this.matches=(t,e)=>{const{logOnSuccess:n,logOnFailure:r}=e,o=O.a.getField(this._filter),i=O.a.getValues(this._filter),a=Object(h.a)({currentValueMap:t,filter:this._filter}),c=E()(O.a.getDetails(this._filter),"valueAdditional.isJsRegex"),s=_()(i,t=>c?j(t,a):Object(v.a)(t,a));return s&&n&&Object(g.a)(`Regex Filter succeed for ${o} with value ${a}`),!s&&r&&Object(g.a)(`Regex Filter failed for ${o} with value ${a}`),s},this.clear=()=>{},this._filter=t}};var T=(t,e)=>!o()(e)&&!!t.includes(e);var A=class{constructor(t){this.matches=(t,e)=>{const{logOnSuccess:n,logOnFailure:r}=e,o=O.a.getField(this._filter),i=O.a.getValues(this._filter),a=Object(h.a)({currentValueMap:t,filter:this._filter}),c=T(i,a);return c&&n&&Object(g.a)(`In Filter succeed for ${o} with value ${a}`),!c&&r&&Object(g.a)(`In Filter failed for ${o} with value ${a}`),c},this.clear=()=>{},this._filter=t}};var N=(t,e)=>!o()(e)&&!t.includes(e);var R=class{constructor(t){this.matches=(t,e)=>{const{logOnSuccess:n,logOnFailure:r}=e,o=O.a.getField(this._filter),i=O.a.getValues(this._filter),a=Object(h.a)({currentValueMap:t,filter:this._filter}),c=N(i,a);return c&&n&&Object(g.a)(`NotIn Filter succeed for ${o} with value ${a}`),!c&&r&&Object(g.a)(`NotIn Filter failed for ${o} with value ${a}`),c},this.clear=()=>{},this._filter=t}};class x{}x.createFilterAction=t=>{switch(O.a.getFilterType(t)){case y.a.LTE:case y.a.LT:case y.a.GT:case y.a.GTE:case y.a.NOT_EQUALS:return new m(t);case y.a.REGEX:return new S(t);case y.a.CONTAINS:case y.a.IN:return new A(t);case y.a.NIN:return new R(t);default:return new m(t)}};var D=x;var L=class{constructor(t,{subscribe:e}){this.matches=(t,e)=>this._filterAction.matches(t,e),this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=t,this._unSubscribeFn=e?e(t):null,this._filterAction=D.createFilterAction(this._filter)}},w=n(358),k=n.n(w),P=n(419);var U=class{constructor(t,{subscribe:e}){this.matches=(t,e)=>{const n=O.a.getDetails(this._filter);let r=t;return n&&!k()(n.noOfAgentsAvailable)&&(r={[P.a.AVAILABLE_AGENTS]:n.noOfAgentsAvailable}),this._filterAction.matches(r,e)},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=t,this._unSubscribeFn=e?e(t):null,this._filterAction=D.createFilterAction(t)}};var F=class{constructor(t,{subscribe:e}){this.matches=(t,e)=>{const n=O.a.getDetails(this._filter);let r=t;return n&&!k()(n.numberOfPendingCases)&&(r={[P.a.AGENT_OUT_OF_CAPACITY]:n.numberOfPendingCases}),this._filterAction.matches(r,e)},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=t,this._unSubscribeFn=e?e(t):null,this._filterAction=D.createFilterAction(t)}},M=n(36),B=n.n(M);var z=class{constructor(t,{subscribe:e}){this.matches=(t,e)=>{const n=O.a.getDetails(this._filter);let r=t;return!n||B()(n)||k()(n.timeToBusinessHours)||(r={[P.a.BUSINESS_HOURS]:n.timeToBusinessHours}),this._filterAction.matches(r,e)},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null};const n=(t=>{switch(O.a.getFilterType(t)){case y.a.IN:return b()(O.a.getValues(t))?Object.assign({},t,{filterType:y.a.LTE,values:[0]}):Object.assign({},t,{filterType:y.a.GT,values:[0]});default:return t}})(t);this._filter=n,this._unSubscribeFn=e?e(n):null,this._filterAction=D.createFilterAction(n)}};var W=class{constructor(t,{subscribe:e}){this.matches=(t,e)=>this._filterAction.matches(t,e),this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null};const n=(t=>{switch(O.a.getFilterType(t)){case y.a.IN:return b()(O.a.getValues(t))?Object.assign({},t,{filterType:y.a.GTE,values:[1]}):Object.assign({},t,{filterType:y.a.LTE,values:[0]});default:return t}})(t);this._filter=n,this._unSubscribeFn=e?e(n):null,this._filterAction=D.createFilterAction(n)}};var G=class{constructor(t,{subscribe:e,parentFilter:n}){this.matches=(t,e)=>{let n=t;switch(this._parentFilter&&O.a.getField(this._parentFilter)){case P.a.INTERCEPT_ENGAGED_IN_SESSION_KEY:{const e=b()(O.a.getValues(this._parentFilter)),r=t[P.a.INTERCEPT_ENGAGED_IN_SESSION_KEY],o=Date.now()-(r[e].actionTime||0);n=Object.assign({},n,{[P.a.DEPENDENT_DURATION_KEY]:o});break}case P.a.INTERCEPT_CLOSED_IN_SESSION_KEY:{const e=b()(O.a.getValues(this._parentFilter)),r=t[P.a.INTERCEPT_CLOSED_IN_SESSION_KEY],o=Date.now()-(r[e].actionTime||0);n=Object.assign({},n,{[P.a.DEPENDENT_DURATION_KEY]:o});break}}return this._filterAction.matches(n,e)},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=t,this._parentFilter=n,this._unSubscribeFn=e?e(t,n):null,this._filterAction=D.createFilterAction(t)}};var V=class{constructor(t,e){this.matches=(t,e)=>{const n=b()(O.a.getValues(this._filter)),r=t[P.a.INTERCEPT_ENGAGED_IN_SESSION_KEY],o=this._filterAction.matches({[P.a.INTERCEPT_ENGAGED_IN_SESSION_KEY]:r[n]?n:""},e);if(o){const n=O.a.getDetails(this._filter);if(n&&!B()(n.dependentFilter))return null===this._dependentFilterAction&&(this._dependentFilterAction=this._filterOptions.getFilterBuilder(n.dependentFilter,Object.assign({},this._filterOptions,{parentFilter:this._filter}))),this._dependentFilterAction.matches(t,e)}return o},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._dependentFilterAction&&this._dependentFilterAction.clear(),this._unSubscribeFn=null};const{subscribe:n}=e;this._filter=t,this._filterOptions=e,this._unSubscribeFn=n?n(t):null,this._filterAction=D.createFilterAction(t),this._dependentFilterAction=null}};var $=class{constructor(t,e){this.matches=(t,e)=>{const n=b()(O.a.getValues(this._filter)),r=t[P.a.INTERCEPT_CLOSED_IN_SESSION_KEY],o=this._filterAction.matches({[P.a.INTERCEPT_CLOSED_IN_SESSION_KEY]:r[n]?n:""},e);if(o){const n=O.a.getDetails(this._filter);if(n&&!B()(n.dependentFilter))return null===this._dependentFilterAction&&(this._dependentFilterAction=this._filterOptions.getFilterBuilder(n.dependentFilter,Object.assign({},this._filterOptions,{parentFilter:this._filter}))),this._dependentFilterAction.matches(t,e)}return o},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._dependentFilterAction&&this._dependentFilterAction.clear(),this._unSubscribeFn=null};const{subscribe:n}=e;this._filter=t,this._filterOptions=e,this._unSubscribeFn=n?n(t):null,this._filterAction=D.createFilterAction(t),this._dependentFilterAction=null}},K=n(338);const H="PIXEL";var Y=class{constructor(t,{subscribe:e}){this.matches=(t,e)=>{const n=E()(O.a.getDetails(this._filter),"valueAdditional.valueType"),r=O.a.getField(this._filter),{scrollDepth:o,scrollPercent:i}=t[r]||K.a,a={[r]:n===H?o:i};return this._filterAction.matches(a,e)},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=t,this._unSubscribeFn=e?e(t):null,this._filterAction=D.createFilterAction(t)}};var q=class{constructor(t,{subscribe:e}){this.matches=(t,e)=>0===Object(h.a)({currentValueMap:t,filter:this._filter}),this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._unSubscribeFn=null},this._filter=t,this._unSubscribeFn=e?e(t):null}};var J=class{constructor(t,{subscribe:e}){this.matches=(t,e)=>0===Object(h.a)({currentValueMap:t,filter:this._filter}),this.clear=()=>{this._unsubscribeFn&&this._unsubscribeFn(),this._unsubscribeFn=null},this._filter=t,this._unsubscribeFn=e?e(t):null}};class X{}X.createFilterAction=(t,e)=>{switch(O.a.getField(t)){case P.a.AVAILABLE_AGENTS:return new U(t,e);case P.a.AGENT_OUT_OF_CAPACITY:return new F(t,e);case P.a.BUSINESS_HOURS:return new z(t,e);case P.a.IS_CONVERSATION_OPEN:return new W(t,e);case P.a.DEPENDENT_DURATION_KEY:return new G(t,e);case P.a.INTERCEPT_CLOSED_IN_SESSION_KEY:return new $(t,e);case P.a.INTERCEPT_ENGAGED_IN_SESSION_KEY:return new V(t,e);case P.a.CURRENT_URL:case P.a.TOTAL_TIME_SPENT:case P.a.ACTIVE_TIME_SPENT:case P.a.INACTIVE_TIME_SPENT:case P.a.DEVICE_TYPE:case P.a.USER_IP_DETAILS_COUNTRY:case P.a.USER_IP_DETAILS_CITY:case P.a.USER_IP_DETAILS_REGION:return new L(t,e);case P.a.HORIZONTAL_PAGE_SCROLL_DEPTH:case P.a.VERTICAL_PAGE_SCROLL_DEPTH:return new Y(t,e);case P.a.TIME_SPENT_ON_SESSION:return new q(t,e);case P.a.NUM_SNOOZE_ALLOWED:return new J(t,e);default:return}};var Q=X,Z=n(96),tt=n.n(Z),et=n(350),nt=n.n(et);var rt=class{constructor(t,e){this.matches=(t,e)=>{let n=!0;return nt()(this._filterActions,r=>!!r.matches(t,e)||(n=!1,!1)),n},this.clear=()=>{nt()(this._filterActions,t=>t.clear()),this._filterActions=[]},this._filterActions=tt()(O.a.getFilters(t),t=>e.getFilterBuilder(t,e))}};var ot=class{constructor(t,e){this.matches=(t,e)=>{let n=!1;return nt()(this._filterActions,r=>!r.matches(t,e)||(n=!0,!1)),n},this.clear=()=>{nt()(this._filterActions,t=>t.clear()),this._filterActions=[]},this._filterActions=tt()(O.a.getFilters(t),t=>e.getFilterBuilder(t,e))}};let it=0;class at{}at.createFilterAction=(t,e)=>{const n=(t=>(it+=1,Object.assign({},t,{id:it})))(t),r=Q.createFilterAction(n,e);if(r)return r;switch(O.a.getFilterType(n)){case y.a.AND:return new rt(t,e);case y.a.OR:return new ot(t,e);default:return D.createFilterAction(n)}};e.a=at},1264:function(t,e,n){"use strict";var r=n(315),o=n.n(r),i=n(319),a=n(750),c=n(316);const s=o.a.createContext("MODERN");var d=t=>Object(c.jsx)(s.Provider,{value:t.skin},t.children),l=n(800),u=n(801),f=n(328);var p=n(36),b=n.n(p),h=n(470),g=n.n(h),O=n(350),y=n.n(O),m=n(417),j=n.n(m),v=n(1431),I=n.n(v),E=n(1432),C=n.n(E),_=n(11),S=n.n(_),T=n(38),A=n.n(T),N=n(616),R=n.n(N),x=n(561),D=n.n(x),L=n(528),w=n(1035);var k=n(154),P=n.n(k),U=n(368),F=n(692),M=n(381),B=n(407),z=n(617),W=n(318);const G=z.a.CROSS;function V(t){return Object(U.e)(t)||Object(U.d)(t)?t:L.a.charcoal}const $=z.a.CHEVRON;function K(t){return Object(U.e)(t)||Object(U.d)(t)?t:L.a.charcoal}const H={CLASSIC:t=>{const{colors:e,typography:{fontSizes:n,fontFamily:r},styles:o}=t,i=Object(U.b)(e.primary),a=(Object(U.g)(.1,e.primary,e.white),Object(U.c)(e.primary)),c=V(e.primary),s=function(t){const e=V(t);return e?Object(U.l)(Object(U.d)(e)?.95:.85,e):""}(e.primary),d=P()(o,"chatConversation.body.backgroundColor",e.white),l=Object(U.c)(d),u=Object(W.e)("trigger.closeIcon.type")({theme:t})||G,f=P()(o,"chatMessage.secondary.backgroundColor",e.azure);return{frame:{borderRadius:"8px",height:"600px",width:380,maximizedWidth:688,zIndex:2147483001,translateZ:1e5},call:{height:"240px",card:{appointmentBlock:{borderRadius:20,background:"linear-gradient(107deg, rgba(216, 201, 255, 0.25) 1%, rgba(213, 230, 255, 0.3))",paddingTop:12,paddingBottom:12,paddingLeft:20,paddingRight:20,marginTop:16,button:{size:B.c.MEDIUM,variant:B.d.PRIMARY,overrides:{marginTop:18}}}}},body:{backgroundColor:e.white,color:a,fontFamily:r,fontSize:"1.2rem",lineHeight:1.4,letterSpacing:-.12,gradients:P()(o,"header.gradients",`linear-gradient(64deg, ${Object(M.b)(e.primary).join(",")})`)},page:{backgroundColor:Object(U.g)(.5,Object(U.l)(.85,e.charcoal),Object(U.l)(.95,e.primary))},button:{standard:{default:{display:"flex",justifyContent:"center",alignItems:"center",fontWeight:600,textAlign:"center"},[B.d.PRIMARY]:{backgroundColor:e.primary,borderColor:e.primary,color:a,fill:a,":hover":{backgroundColor:e.primary,borderColor:e.primary,position:"relative","::after":{backgroundColor:Object(U.d)(e.primary)?"rgba(71, 71, 71, 0.2)":"rgba(71, 71, 71, 0.1)",top:0,bottom:0,left:0,right:0,position:"absolute",display:"block",content:'""',borderRadius:"inherit"}},":disabled":{backgroundColor:e.primary,borderColor:e.primary,opacity:"0.5"},":selected":{backgroundColor:e.primary,borderColor:e.primary}},[B.d.SECONDARY]:{backgroundColor:e.white,borderColor:e.white,color:e.charcoal,fill:e.charcoal,":hover":{backgroundColor:e.white,borderColor:e.charcoal},":disabled":{backgroundColor:e.white,borderColor:e.white,opacity:"0.5"},":selected":{backgroundColor:e.primary,borderColor:e.primary,color:a,fill:a}},[B.d.TERTIARY]:{backgroundColor:e.white,borderColor:e.primary,color:e.charcoal,fill:e.charcoal,":hover":{backgroundColor:Object(U.d)(e.primary)?Object(U.i)(e.primary,.02):Object(U.i)(e.primary,.1)},":disabled":{backgroundColor:e.white,opacity:"0.5"},":selected":{backgroundColor:"#555555",borderColor:"#555555",color:e.white,fill:e.white}},[B.c.LARGE]:{minHeight:36,minWidth:88,paddingTop:8,paddingLeft:24,paddingBottom:8,paddingRight:24,borderRadius:18,fontSize:n.md},[B.c.MEDIUM]:{minHeight:32,minWidth:72,paddingTop:4,paddingLeft:16,paddingBottom:4,paddingRight:16,borderRadius:16,fontSize:n.xs}}},card:{backgroundColor:e.white,borderRadius:"4px",lg:{paddingTop:24,paddingRight:20,paddingBottom:24,paddingLeft:20,title:{paddingTop:0,paddingRight:36,paddingBottom:0,paddingLeft:36,fontSize:n.lg,fontWeight:600,gutterWidth:20,textAlign:"center",color:e.charcoal}},sm:{paddingTop:24,paddingRight:20,paddingBottom:24,paddingLeft:20,title:{paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,fontSize:n.lg,fontWeight:500,gutterWidth:20,textAlign:"left",color:e.charcoal}},newConversation:{hand:{backgroundColor:"#FFEDF1"}},existingConversation:{header:{paddingTop:16,paddingRight:16,paddingBottom:0,paddingLeft:16,fontWeight:600,fontSize:n.lg,color:e.charcoal},summaryCard:{paddingTop:16,paddingRight:16,paddingBottom:16,paddingLeft:16},arrow:{icon:{fill:e.primary}},hoverStyles:{backgroundColor:e.water}}},notification:{color:e.white,backgroundColor:e.blue},actionDialog:{minWidth:"200",maxWidth:"300",borderRadius:"4",actionItem:{fontWeight:"normal",fontSize:n.sm,paddingTop:"8",paddingRight:"16",paddingBottom:"8",paddingLeft:"16"}},confirmationBox:{backgroundColor:e.white,borderRadius:"8px",maxWidth:"316",margin:"28",paddingTop:"20",paddingRight:"20",paddingBottom:"20",paddingLeft:"20",header:{paddingBottom:"10",title:{fontSize:"16",fontWeight:"600"},iconButton:{icon:{height:"14",width:"14"},button:{height:"24",width:"24"}}},description:{fontSize:"13",paddingBottom:"24",minHeight:"0"},buttonGroup:{align:"end",size:"lg",gutterWidth:"12"}},chatMessage:{borderRadius:"4px",paddingTop:"12px",paddingRight:"12px",paddingBottom:"12px",paddingLeft:"12px",primary:{backgroundColor:e.primary,borderColor:e.primary,color:a},secondary:{backgroundColor:f,borderColor:e.azure,color:e.charcoal},sender:{height:32,width:32,align:"bottom",gutterWidth:12},timeStamp:{align:F.d.VERTICAL},senderName:{align:F.c.BOTTOM},attachment:{size:F.a.FIXED,card:{title:{color:e.charcoal,fontWeight:700,textAlign:"center",fontSize:n.sm,paddingTop:20,paddingBottom:0,paddingLeft:8,paddingRight:8},description:{fontSize:n.sm,textAlign:"left"},color:e.charcoal,paddingTop:0,paddingLeft:0,paddingRight:0,paddingBottom:6,titleAndDescriptionGutterWidth:16,contentAndButtonGutterWidth:16,buttonGroupGutterWidth:6,buttonAlign:B.a.CENTER,button:{size:B.c.LARGE,variant:B.d.SECONDARY,overrides:{paddingTop:8,paddingBottom:8,paddingLeft:8,paddingRight:8,marginTop:0,marginLeft:6,marginRight:6,marginBottom:0,borderRadius:10}}},form:{title:{color:e.charcoal,alignSelf:"center",fontWeight:600,textAlign:"center",fontSize:n.sm},paddingTop:20,paddingBottom:20,paddingLeft:12,paddingRight:12,titleAndFieldsGutterWidth:20,fieldGroupGutterWidth:20,buttonAndFieldsGutterWidth:8,button:{size:B.c.MEDIUM,variant:B.d.PRIMARY}},appointment:{paddingTop:12,paddingBottom:12,paddingLeft:12,paddingRight:12,title:{fontSize:13,marginBottom:8},selectedDate:{marginBottom:8},timeSlots:{marginBottom:12,button:{size:B.c.MEDIUM,variant:B.d.SECONDARY}},calendar:{marginBottom:8,paddingTop:10,paddingBottom:10,paddingLeft:4,paddingRight:4,borderRadius:8,weekdays:{borderBottomColor:e.azure,fontWeight:400},date:{width:24,height:24,backgroundColor:e.white,marginTop:10,borderRadius:12,disabledStyles:{color:e.ash},selectedStyles:{backgroundColor:e.primary,color:e.white},neighboringMonth:{color:e.anchor}}}}}},chatConversation:{body:{backgroundColor:e.white,backgroundUrl:""},dateBubble:{color:l,backgroundColor:d,borderRadius:"20px",boxShadow:"0 2px 8px 0 rgba(10, 10, 20, 0.2)"},faq:{paddingTop:8,paddingRight:24,paddingBottom:14,paddingLeft:24,borderTopWidth:1,borderTopColor:e.azure,option:{fontSize:n.md,paddingTop:16,paddingBottom:16,fontWeight:500,color:e.charcoal,borderBottomWidth:1,borderBottomColor:e.silver}},footer:{marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,chatMessageComposer:{borderRadius:"0 0 8px 8px",paddingTop:"18px",paddingRight:"24px",paddingBottom:"18px",paddingLeft:"24px",fontSize:n.md,backgroundColor:e.white,placeholder:{color:e.fossil},disabledStyles:{backgroundColor:f},button:{default:{fontSize:n.md},primary:{color:e.blue}},iconButton:{default:{button:{height:"36px",width:"36px"},icon:{height:"20px",width:"20px"}},primary:{button:{},icon:{fill:e.primary}},secondary:{button:{},icon:{fill:e.fossil,hoverStyles:{fill:e.primary}}}}},actions:{iconButton:{default:{button:{height:28,width:28,marginRight:8,borderRadius:20,backgroundColor:e.blue},icon:{height:16,width:16,fill:e.white}}}}},notification:{backgroundColor:"rgba(10, 10, 20, 0.7)"}},snackBar:{paddingTop:8,paddingRight:16,paddingBottom:8,paddingLeft:16,backgroundColor:e.charcoal,borderRadius:4},errorScreen:{icon:{height:40,width:40,fill:e.red},label:{fontSize:n.md,fontWeight:600,minHeight:0},button:{marginTop:32}},header:{backgroundColor:e.primary,buttonGroupGutterWidth:"0",color:a,minHeight:"72px",paddingTop:"0px",paddingRight:"15px",paddingBottom:"0px",paddingLeft:"15px",title:{fontWeight:"500",fontSize:n.md,color:a},description:{fontSize:n.xs,color:a},icon:{fill:a,height:"14",width:"14",hoverStyles:{fill:a}},button:{width:"40",height:"40",backgroundColor:"transparent",hoverStyles:{backgroundColor:i}},lg:{paddingTop:28,paddingBottom:0,paddingLeft:28,paddingRight:28,logo:{marginBottom:20,height:32},title:{fontWeight:300,fontSize:n.xxxxl},description:{marginTop:8,marginBottom:0,marginRight:0,marginLeft:0,fontWeight:400,fontSize:n.lg}}},chatMessageComposer:{borderColor:e.primary,placeholderColor:e.fossil},input:{default:{borderColor:e.ash,fontSize:n.xs,paddingTop:0,paddingBottom:0,paddingLeft:8,paddingRight:8,minHeight:32,borderRadius:4,backgroundColor:e.white,color:e.charcoal,placeholderColor:e.fossil,hoverStyles:{borderColor:e.fossil},focusStyles:{borderColor:e.primary},errorStyles:{borderColor:e.red}},textArea:{paddingTop:8,paddingBottom:8,minHeight:64},selectBox:{optionsList:{paddingTop:4,paddingBottom:4,maxHeight:140},chevron:{height:10,width:10,fill:e.fossil,hoverStyles:{fill:e.primary}},option:{borderLeftWidth:2,borderLeftColor:"transparent",paddingLeft:12,paddingRight:12,paddingTop:8,paddingBottom:8,hoverStyles:{backgroundColor:s},selectedStyles:{fontWeight:600,backgroundColor:s,borderLeftWidth:2,borderLeftColor:c}}},phoneInput:{countrySelectBox:{width:50,backgroundColor:e.water,hoverStyles:{backgroundColor:e.azure},focusStyles:{backgroundColor:e.azure},selectedStyles:{backgroundColor:e.azure}}},checkboxGroup:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0,checkboxesGutterWidth:12,backgroundColor:e.azure,checkbox:{width:14,height:14,borderRadius:1,boxAndOptionGutterWidth:8,selectedStyles:{fill:e.primary,borderColor:e.primary,backgroundColor:e.primary}},option:{fontSize:n.xs,color:e.charcoal}}},inputLabel:{fontSize:n.xs,fontWeight:500,color:e.anchor,labelAndInputGutterWidth:4,errorColor:e.anchor,activeColor:e.anchor},trigger:{align:"right",backgroundColor:e.primary,borderWidth:1,borderColor:e.primary,backgroundHoverColor:i,size:60,boxShadow:"0px 1px 6px 0px rgba(0, 0, 0, 0.09), 0px 2px 32px 0px rgba(0, 0, 0, 0.15)",overlayIconButton:{button:{height:24,width:24},icon:{height:12,width:12},fontSize:n.xs},removeIcon:{backgroundColor:e.charcoal,fill:e.white},icon:{type:"mic",color:a,height:26,width:26},closeIcon:{type:u,color:a,height:F.e[u].height,width:F.e[u].width}},link:{color:P()(o,["link","color"],"#007bff")},proactivePrompt:{maxWidth:304,paddingTop:0,paddingLeft:8,paddingBottom:0,paddingRight:8,direction:"column",removeIconButton:{marginBottom:12,marginTop:0,marginLeft:0,marginRight:0,button:{height:28,width:28,backgroundColor:Object(U.i)(e.charcoal,.6)},icon:{height:8,width:8}},message:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.2)",borderRadius:10,paddingTop:20,paddingLeft:20,paddingBottom:20,paddingRight:20,fontSize:n.md},replyBox:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.09)"},button:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.09)"}}}},MODERN:t=>{const{colors:e,typography:{fontSizes:n,fontFamily:r},styles:o}=t,i=Object(U.b)(e.primary),a=(Object(U.g)(.1,e.primary,e.white),Object(U.c)(e.primary)),c=K(e.primary),s=function(t){const e=K(t);return e?Object(U.l)(Object(U.d)(e)?.95:.85,e):""}(e.primary),d=P()(o,"chatConversation.body.backgroundColor",e.white),l=Object(U.c)(d),u=Object(W.e)("trigger.closeIcon.type")({theme:t})||$,f=P()(o,"chatMessage.secondary.backgroundColor",e.azure);return{frame:{borderRadius:"16px",height:"700px",width:380,maximizedWidth:688,zIndex:2147483001,translateZ:1e5},call:{height:"240px",card:{appointmentBlock:{borderRadius:20,background:"linear-gradient(107deg, rgba(216, 201, 255, 0.25) 1%, rgba(213, 230, 255, 0.3))",paddingTop:12,paddingBottom:12,paddingLeft:20,paddingRight:20,marginTop:16,button:{size:B.c.MEDIUM,variant:B.d.PRIMARY,overrides:{marginTop:18}}}}},body:{backgroundColor:e.white,color:a,fontFamily:r,fontSize:"1.2rem",lineHeight:1.4,letterSpacing:-.12,gradients:P()(o,"header.gradients",`linear-gradient(64deg, ${Object(M.b)(e.primary).join(",")})`)},page:{backgroundColor:Object(U.g)(.5,Object(U.l)(.85,e.charcoal),Object(U.l)(.95,e.primary))},button:{standard:{default:{display:"flex",justifyContent:"center",alignItems:"center",fontWeight:600,textAlign:"center"},[B.d.PRIMARY]:{backgroundColor:e.primary,borderColor:e.primary,color:a,fill:a,":hover":{backgroundColor:e.primary,borderColor:e.primary,position:"relative","::after":{backgroundColor:Object(U.d)(e.primary)?"rgba(71, 71, 71, 0.2)":"rgba(71, 71, 71, 0.1)",top:0,bottom:0,left:0,right:0,position:"absolute",display:"block",content:'""',borderRadius:"inherit"}},":disabled":{backgroundColor:e.primary,borderColor:e.primary,opacity:"0.5"},":selected":{backgroundColor:e.primary,borderColor:e.primary}},[B.d.SECONDARY]:{backgroundColor:e.white,borderColor:e.white,color:e.charcoal,fill:e.charcoal,":hover":{backgroundColor:e.white,borderColor:e.charcoal},":disabled":{backgroundColor:e.white,borderColor:e.white,opacity:"0.5"},":selected":{backgroundColor:e.primary,borderColor:e.primary,color:a,fill:a}},[B.d.TERTIARY]:{backgroundColor:e.white,borderColor:e.primary,color:e.charcoal,fill:e.charcoal,":hover":{backgroundColor:Object(U.d)(e.primary)?Object(U.i)(e.primary,.02):Object(U.i)(e.primary,.1)},":disabled":{backgroundColor:e.white,opacity:"0.5"},":selected":{backgroundColor:"#555555",borderColor:"#555555",color:e.white,fill:e.white}},[B.c.LARGE]:{minHeight:36,minWidth:88,paddingTop:8,paddingLeft:24,paddingBottom:8,paddingRight:24,borderRadius:10,fontSize:n.md},[B.c.MEDIUM]:{minHeight:32,minWidth:72,paddingTop:4,paddingLeft:16,paddingBottom:4,paddingRight:16,borderRadius:8,fontSize:n.xs}}},card:{backgroundColor:e.white,borderRadius:"10px",boxShadow:"0px 2px 15px 0px rgba(0, 0, 0, 0.15)",lg:{paddingTop:20,paddingRight:20,paddingBottom:20,paddingLeft:20,title:{paddingTop:20,paddingRight:10,paddingBottom:0,paddingLeft:10,fontSize:n.xxl,fontWeight:600,gutterWidth:42,textAlign:"left",color:e.charcoal}},sm:{paddingTop:20,paddingRight:20,paddingBottom:20,paddingLeft:20,title:{paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,fontSize:n.lg,fontWeight:600,gutterWidth:16,textAlign:"left",color:e.charcoal}},newConversation:{hand:{backgroundColor:"#FFEDF1"}},existingConversation:{header:{paddingTop:20,paddingRight:12,paddingBottom:12,paddingLeft:20,fontSize:n.lg,fontWeight:600,color:e.charcoal},summaryCard:{paddingTop:12,paddingRight:12,paddingBottom:12,paddingLeft:20},arrow:{icon:{fill:e.primary}},hoverStyles:{backgroundColor:e.water}}},notification:{color:e.white,backgroundColor:e.red},actionDialog:{minWidth:"200",maxWidth:"300",borderRadius:"4",actionItem:{fontSize:n.sm,fontWeight:"normal",paddingTop:"8",paddingRight:"16",paddingBottom:"8",paddingLeft:"16"}},confirmationBox:{backgroundColor:e.white,borderRadius:"8px",maxWidth:"316",margin:"28",paddingTop:"20",paddingRight:"20",paddingBottom:"20",paddingLeft:"20",header:{paddingBottom:"10",title:{fontSize:"16",fontWeight:600},iconButton:{icon:{height:"14",width:"14"},button:{height:"24",width:"24"}}},description:{fontSize:"13",paddingBottom:"24",minHeight:"0"},buttonGroup:{align:"end",size:"md",gutterWidth:"12"}},chatMessage:{borderRadius:"10px",paddingTop:"12px",paddingRight:"12px",paddingBottom:"12px",paddingLeft:"12px",primary:{backgroundColor:e.primary,borderColor:e.primary,color:a},secondary:{backgroundColor:f,borderColor:e.azure,color:e.charcoal},sender:{height:32,width:32,align:"bottom",gutterWidth:12},timeStamp:{align:F.d.VERTICAL},senderName:{align:F.c.BOTTOM},attachment:{size:F.a.FIXED,card:{title:{color:e.charcoal,fontWeight:700,textAlign:"center",fontSize:n.sm,paddingTop:20,paddingBottom:0,paddingLeft:8,paddingRight:8},description:{fontSize:n.sm,textAlign:"left"},color:e.charcoal,paddingTop:0,paddingLeft:0,paddingRight:0,paddingBottom:6,titleAndDescriptionGutterWidth:16,contentAndButtonGutterWidth:16,buttonGroupGutterWidth:6,buttonAlign:B.a.CENTER,button:{size:B.c.LARGE,variant:B.d.SECONDARY,overrides:{paddingTop:8,paddingBottom:8,paddingLeft:8,paddingRight:8,marginTop:0,marginLeft:6,marginRight:6,marginBottom:0,borderRadius:10}}},form:{title:{color:e.charcoal,alignSelf:"center",fontWeight:600,textAlign:"left",fontSize:n.sm},paddingTop:16,paddingBottom:20,paddingLeft:12,paddingRight:12,titleAndFieldsGutterWidth:20,fieldGroupGutterWidth:16,buttonAndFieldsGutterWidth:4,button:{size:B.c.MEDIUM,variant:B.d.PRIMARY}},appointment:{paddingTop:12,paddingBottom:12,paddingLeft:12,paddingRight:12,title:{fontSize:13,marginBottom:8},selectedDate:{marginBottom:8},timeSlots:{marginBottom:12,button:{size:B.c.MEDIUM,variant:B.d.SECONDARY}},calendar:{marginBottom:8,paddingTop:10,paddingBottom:10,paddingLeft:4,paddingRight:4,borderRadius:8,weekdays:{borderBottomColor:e.azure,fontWeight:400},date:{width:24,height:24,backgroundColor:e.white,marginTop:10,borderRadius:12,disabledStyles:{color:e.ash},selectedStyles:{backgroundColor:e.primary,color:e.white},neighboringMonth:{color:e.anchor}}}}}},chatConversation:{body:{backgroundColor:e.white,backgroundUrl:""},dateBubble:{color:l,backgroundColor:d,borderRadius:"14px",boxShadow:"0px 0px 6px 0px rgba(0, 0, 0, 0.15)"},faq:{paddingTop:8,paddingRight:24,paddingBottom:14,paddingLeft:24,borderTopWidth:1,borderTopColor:e.azure,option:{fontSize:n.md,paddingTop:16,paddingBottom:16,fontWeight:500,color:e.charcoal,borderBottomWidth:1,borderBottomColor:e.silver}},footer:{marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,chatMessageComposer:{borderRadius:"0 0 8px 8px",paddingTop:"18px",paddingRight:"24px",paddingBottom:"18px",paddingLeft:"24px",fontSize:n.md,backgroundColor:e.white,placeholder:{color:e.fossil},disabledStyles:{backgroundColor:f},button:{default:{fontSize:n.md},primary:{color:e.blue}},iconButton:{default:{button:{height:"36px",width:"36px"},icon:{height:"20px",width:"20px"}},primary:{button:{},icon:{fill:e.primary}},secondary:{button:{},icon:{fill:e.fossil,hoverStyles:{fill:e.primary}}}}},actions:{iconButton:{default:{button:{height:28,width:28,marginRight:8,borderRadius:20,backgroundColor:e.blue},icon:{height:16,width:16,fill:e.white}}}}},notification:{backgroundColor:"rgba(10, 10, 20, 0.7)"}},snackBar:{paddingTop:8,paddingRight:16,paddingBottom:8,paddingLeft:16,backgroundColor:e.charcoal,borderRadius:4},errorScreen:{icon:{height:40,width:40,fill:e.red},label:{fontSize:n.md,fontWeight:600,minHeight:0},button:{marginTop:32}},header:{backgroundColor:e.primary,buttonGroupGutterWidth:"0",color:a,minHeight:"72px",paddingTop:"0px",paddingRight:"15px",paddingBottom:"0px",paddingLeft:"15px",title:{fontWeight:"500",fontSize:n.md,color:a},description:{fontSize:n.xs,color:a},icon:{fill:a,height:"14",width:"14",hoverStyles:{fill:a}},button:{width:"40",height:"40",backgroundColor:"transparent",hoverStyles:{backgroundColor:i}},lg:{paddingTop:28,paddingBottom:20,paddingLeft:24,paddingRight:24,logo:{marginBottom:12,marginTop:0,marginLeft:0,marginRight:0,height:26},title:{fontWeight:500,fontSize:n.xxxl},description:{marginTop:4,marginBottom:0,marginRight:0,marginLeft:0,fontWeight:400,fontSize:n.lg}}},chatMessageComposer:{borderColor:e.primary,placeholderColor:e.fossil},input:{default:{fontSize:n.xs,paddingTop:0,paddingBottom:0,paddingLeft:8,paddingRight:8,minHeight:32,color:e.charcoal,backgroundColor:e.white,borderRadius:8,borderColor:e.ash,placeholderColor:e.fossil,hoverStyles:{borderColor:e.fossil},focusStyles:{borderColor:e.primary},errorStyles:{borderColor:e.red}},textArea:{paddingTop:8,paddingBottom:8,minHeight:64},selectBox:{optionsList:{paddingTop:4,paddingBottom:4,maxHeight:140},chevron:{height:10,width:10,fill:e.fossil,hoverStyles:{fill:e.primary}},option:{borderLeftWidth:2,borderLeftColor:"transparent",paddingLeft:12,paddingRight:12,paddingTop:8,paddingBottom:8,hoverStyles:{backgroundColor:s},selectedStyles:{fontWeight:600,backgroundColor:s,borderLeftWidth:2,borderLeftColor:c}}},phoneInput:{countrySelectBox:{width:50,backgroundColor:e.water,hoverStyles:{backgroundColor:e.azure},focusStyles:{backgroundColor:e.azure},selectedStyles:{backgroundColor:e.azure}}},checkboxGroup:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0,checkboxesGutterWidth:12,backgroundColor:e.azure,checkbox:{width:14,height:14,borderRadius:1,boxAndOptionGutterWidth:8,selectedStyles:{fill:e.primary,borderColor:e.primary,backgroundColor:e.primary}},option:{fontSize:n.xs,color:e.charcoal}}},inputLabel:{fontSize:n.xs,fontWeight:500,color:e.anchor,labelAndInputGutterWidth:4,errorColor:e.anchor,activeColor:e.anchor},trigger:{align:"right",backgroundColor:e.primary,borderWidth:1,borderColor:e.primary,backgroundHoverColor:i,size:60,boxShadow:"0px 1px 6px 0px rgba(0, 0, 0, 0.09), 0px 2px 32px 0px rgba(0, 0, 0, 0.15)",overlayIconButton:{button:{height:24,width:24},icon:{height:12,width:12},fontSize:n.xs},removeIcon:{backgroundColor:e.charcoal,fill:e.white},icon:{type:"mic",color:a,height:26,width:26},closeIcon:{type:u,color:a,height:F.e[u].height,width:F.e[u].width}},link:{color:P()(o,["link","color"],"#007bff")},proactivePrompt:{maxWidth:304,paddingTop:0,paddingLeft:8,paddingBottom:0,paddingRight:8,direction:"column",removeIconButton:{marginBottom:12,marginTop:0,marginLeft:0,marginRight:0,button:{height:28,width:28,backgroundColor:Object(U.i)(e.charcoal,.6)},icon:{height:8,width:8}},message:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.2)",borderRadius:10,paddingTop:20,paddingLeft:20,paddingBottom:20,paddingRight:20,fontSize:n.md},replyBox:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.09)"},button:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.09)"}}}},HYPERSPACE:t=>{const{colors:e,typography:{fontSizes:n,fontFamily:r},styles:o}=t;return{tombstone:{background:"linear-gradient(to right, #f8f8fa 0%, #dbdbdb 50%, #f8f8fa 100%)"},frame:{borderRadius:"16px",height:"700px",width:380,maximizedWidth:688,zIndex:2147483001,translateZ:1e5},body:{backgroundColor:e.white,color:"#ffffff",fontFamily:r,fontSize:"1.2rem",lineHeight:1.4,gradients:P()(o,"header.gradients",`linear-gradient(64deg, ${Object(M.b)(e.primary).join(",")})`)},link:{color:P()(o,["link","color"],"#007bff")},trigger:{align:"right",backgroundColor:"#0a0a14",borderWidth:1,borderColor:"#0a0a14",backgroundHoverColor:"#0240cb",size:60,boxShadow:"0px 1px 6px 0px rgba(0, 0, 0, 0.09), 0px 2px 32px 0px rgba(0, 0, 0, 0.15)",overlayIconButton:{button:{height:24,width:24},icon:{height:12,width:12},fontSize:"12px"},icon:{type:"collaborators",color:"#ffffff",height:26,width:26},closeIcon:{type:"cross",color:"#ffffff",height:14,width:14},xPadding:20,yPadding:30,border:"1px solid #1c62fd"},search:{backgroundColor:"#f8f8fd",hover:{borderColor:"#0e61f6"}},timestamp:{color:"#73737d"},createConversationButton:{borderColor:"#CAD3D6",hover:{borderColor:"#0e61f6"}},backIcon:{color:"#a9a9b2",hover:{color:"#0e61f6"}},receivedMessage:{backgroundColor:"#f5f5f5",color:"#0a0a14"},sentMessage:{backgroundColor:"#0a0a14",color:"#ffffff"},messageArea:{hover:{borderColor:"#0e61f6"}},sendIcon:{hover:{color:"#0e61f6"}}}}},Y=(t,e)=>H[e](t),q={field:"userInfo.deviceType",fieldType:"EQUALS",values:["MOBILE"]},J={CLASSIC:t=>{const{typography:{fontSizes:e}}=t;return{button:{standard:{[B.c.LARGE]:{filters:[{value:{fontSize:e.lg},filter:q}]},[B.c.MEDIUM]:{filters:[{value:{fontSize:e.sm},filter:q}]}}},chatMessage:{attachment:{card:{title:{filters:[{value:{fontSize:e.lg},filter:q}]},description:{filters:[{value:{fontSize:e.lg},filter:q}]}},form:{title:{filters:[{value:{fontSize:e.lg},filter:q}]}}}},input:{default:{filters:[{value:{fontSize:e.lg,minHeight:36},filter:q}]},checkboxGroup:{option:{filters:[{value:{fontSize:e.lg},filter:q}]}}},inputLabel:{filters:[{value:{fontSize:e.lg},filter:q}]},chatConversation:{footer:{chatMessageComposer:{filters:[{value:{fontSize:e.lg},filter:q}]}},faq:{option:{filters:[{value:{fontSize:e.lg},filter:q}]}}},actionDialog:{actionItem:{filters:[{value:{fontSize:e.md},filter:q}]}},errorScreen:{label:{filters:[{value:{fontSize:e.lg},filter:q}]}},header:{title:{filters:[{value:{fontSize:e.lg},filter:q}]},description:{filters:[{value:{fontSize:e.md},filter:q}]},lg:{logo:{filters:[{value:{height:40},filter:q}]},title:{filters:[{value:{fontSize:e.xxxxxl},filter:q}]},description:{filters:[{value:{fontSize:e.xl},filter:q}]}}},card:{lg:{title:{filters:[{value:{fontSize:e.xl},filter:q}]}},sm:{title:{filters:[{value:{fontSize:e.xl},filter:q}]}}}}},MODERN:t=>{const{typography:{fontSizes:e}}=t;return{button:{standard:{[B.c.LARGE]:{filters:[{value:{fontSize:e.lg},filter:q}]},[B.c.MEDIUM]:{filters:[{value:{fontSize:e.sm,minHeight:36},filter:q}]}}},chatMessage:{attachment:{card:{title:{filters:[{value:{fontSize:e.lg},filter:q}]},description:{filters:[{value:{fontSize:e.lg},filter:q}]}},form:{title:{filters:[{value:{fontSize:e.lg},filter:q}]}}}},input:{default:{filters:[{value:{fontSize:e.lg},filter:q}]},checkboxGroup:{option:{filters:[{value:{fontSize:e.lg},filter:q}]}}},inputLabel:{filters:[{value:{fontSize:e.lg},filter:q}]},chatConversation:{footer:{chatMessageComposer:{filters:[{value:{fontSize:e.lg},filter:q}]}},faq:{option:{filters:[{value:{fontSize:e.lg},filter:q}]}}},actionDialog:{actionItem:{filters:[{value:{fontSize:e.md},filter:q}]}},errorScreen:{errorLabel:{filters:[{value:{fontSize:e.lg},filter:q}]}},header:{title:{filters:[{value:{fontSize:e.lg},filter:q}]},description:{filters:[{value:{fontSize:e.md},filter:q}]},lg:{logo:{filters:[{value:{height:40},filter:q}]},description:{filters:[{value:{fontSize:e.xl},filter:q}]}}}}},HYPERSPACE:()=>({})},X=(t,e)=>J[e](t);function Q(t,e){if(!A()(t)||b()(t))return e;const n=C()(t);return y()(e,(e,r)=>{n[r]=S()(e)?j()(I()(t[r],e)):Q(t[r],e)}),n}const Z=t=>({...t,colors:R()({},L.a,t.colors)}),tt=t=>({...t,typography:Object(w.a)(t.typography)}),et=(t,e)=>({...e,styles:Object(M.a)(R()({},Y(e,t),e.styles))}),nt=(t,e)=>({...e,styleFilters:Q(X(e,t),e.styleFilters)});var rt=t=>{const e=Object(r.useContext)(s),n=Object(r.useMemo)(()=>((t,e)=>D()([Z,tt,g()(et,e),g()(nt,e)])(t))(t.theme,e),[t.theme,e]);return Object(c.jsx)(f.a,{theme:n},t.children)};const ot={theme:{},direction:"ltr",device:"DESKTOP",skin:"CLASSIC",intl:{locale:"en",messages:{},defaultLocale:"en"},ownerDocument:window.document},it=({theme:t,direction:e,device:n,skin:o,ownerDocument:s,intl:f,children:p})=>{const b=Object(r.useMemo)(()=>{return t=s,Object(a.a)({container:t.head});var t},[s]);return Object(c.jsx)(c.CacheProvider,{value:b},Object(c.jsx)(i.IntlProvider,f,Object(c.jsx)(d,{skin:o},Object(c.jsx)(rt,{theme:t},Object(c.jsx)(u.b,{direction:e},Object(c.jsx)(l.b,{device:n},p))))))};it.defaultProps=ot;e.a=it},1265:function(t,e,n){"use strict";n.d(e,"a",(function(){return Jn}));var r=n(325),o=n(392),i=n.n(o),a=n(350),c=n.n(a),s=n(37),d=n.n(s),l=n(417),u=n.n(l),f=n(346),p=n.n(f),b=n(787),h=n.n(b),g=n(154),O=n.n(g),y=n(366),m=n.n(y),j=n(36),v=n.n(j),I=n(616),E=n.n(I),C=n(604),_=n.n(C),S=n(356),T=n(487),A=n(427),N=n(322);function*R(t){try{const e=A.a.makeOutgoing().makeTextMessage(t.payload);yield Object(r.c)(T.a,e),yield Object(r.c)(T.c,e)}catch(e){Object(N.b)(e)}}function*x(){yield Object(r.m)(S.Z,R)}var D=n(807);function*L(t){try{const e=A.a.makeOutgoing().makeQuickReplyPostbackAttachmentMessage(t.payload);e&&(yield Object(r.c)(T.a,e),yield Object(r.c)(T.c,e))}catch(e){Object(N.b)(e)}}function*w(){yield Object(r.m)(S.R,L)}var k=n(571),P=n(1284),U=n(96),F=n.n(U),M=n(439),B=n.n(M),z=n(335),W=n(440);function*G(t){const e=t?B()(t):W.a;if(0===e.length)return;const n=z.a.getConversationId(e[0]),o=F()(e,t=>({sender:z.a.getSender(t),conversationId:n}));yield Object(r.c)(k.b,o)}var V=n(360),$=n.n(V),K=n(808),H=n(365),Y=n(591),q=n(336),J=n(333),X=n(421),Q=n(501),Z=n(357),tt=n(330),et=n(391),nt=n(510),rt=n(389),ot=n(98);let it={};function*at(t){const e=t.payload.conversationId;if(it[e])for(;;){const[n,o]=yield Object(r.i)([Object(r.l)(S.L),Object(r.l)(S.M)]);if(O()(n||o,"payload.transientConversationId")===e){t.promise&&(n&&t.promise.resolve(n.payload.conversationResponse.id),o&&t.promise.reject(o.payload.error));break}}else try{it[e]=!0;const n=yield Object(r.j)(q.c),o=yield Object(r.j)(q.d),i=$()(o),a=Object(J.l)(n,e),c=Object(J.p)(n),s=Object(J.g)(c,e),d=O()(Object(J.f)(c,e),"assignToUser"),l=Object(J.x)(a),u=Object(J.e)(Object(J.p)(n),e)||{},f=u.clickedOnPrompt,p=yield Object(r.c)(nt.m,Object.assign({},l?{chatMessages:Object(J.k)(a).map(t=>({messagePayload:z.a.getMessagePayload(t),sender:z.a.getSender(t)}))}:void 0,{createCase:Object(J.B)(Object(J.p)(n),e),startedByContext:s},u,t.payload.appContext,!f&&i?{creativeId:i.additional.creativeId,interceptId:i.additional.interceptId,clickedOnPrompt:!1}:{},{assignToUser:d})),b=Object(H.b)(yield Object(r.j)(q.h));yield Object(r.h)({payload:{transientConversationId:e,conversationResponse:p,botUserIds:b},type:S.L}),t.promise&&t.promise.resolve(p.id)}catch(n){yield Object(r.h)({type:S.M,payload:{transientConversationId:e,error:Object(K.a)(n)}}),t.promise&&t.promise.reject(Object(K.a)(n)),Object(N.b)(n)}finally{delete it[e]}}function*ct(t){try{const e=u()(B()(tt.a.getDefaultMessages(Z.a.getCustomizationConfig(t)))),n=u()(e.map((t,e)=>Object(K.b)(t,ot.e,`${ot.d}${e}`)));if(n.length){const t=yield Object(r.j)(q.h),e=n.map(e=>{const n=Object(Y.e)(t,z.a.getSender(e));return Object(r.h)(Object(X.g)(e,n))});yield Object(r.b)(e)}return n}catch(e){Object(N.b)(e)}}function*st(t,e){try{const n=tt.a.getContactDetailsMessage(Z.a.getCustomizationConfig(t)),o=[];if(n&&Object(K.c)(n,et.a.getChatUser(e))){const t=Object(K.b)(n,ot.e,ot.c),e=yield Object(r.j)(q.h),i=Object(Y.e)(e,z.a.getSender(t));o.push(t),yield Object(r.h)(Object(X.g)(t,i))}return o}catch(n){Object(N.b)(n)}}function*dt(t,e){try{const n=yield Object(r.c)(ct,t),o=yield Object(r.c)(st,t,e);return[...n,...o]}catch(n){Object(N.b)(n)}}function lt(){it={}}function*ut(){try{const e=O()(Object(H.c)(yield Object(r.j)(q.h)),"userId");for(;;)try{const t=yield Object(r.j)(q.c),n=Object(J.l)(t,ot.e),o=Object(J.j)(n,ot.c);if(!o)break;const{payload:{users:i}}=yield Object(r.l)(Q.d),a=i.find(t=>t.userId===e);if(!a)continue;Object(K.c)(o,a)||(yield Object(r.h)(Object(X.h)(ot.e,ot.c)))}catch(t){Object(N.b)(t)}}catch(t){Object(N.b)(t)}}function*ft(){try{yield Object(r.m)(rt.c,lt)}catch(t){Object(N.b)(t)}}function*pt(){try{yield Object(r.m)(S.K,at)}catch(t){Object(N.b)(t)}}function*bt(){try{const{payload:{applicationConfig:t,handshakeDetails:e}}=yield Object(r.l)(rt.a);yield Object(r.c)(dt,t,e),yield Object(r.b)([Object(r.g)(ut),Object(r.g)(pt),Object(r.g)(ft)])}catch(t){Object(N.b)(t)}}var ht=n(503);function*gt(t){const{payload:e}=t,{actionParams:n}=e;n.actionType===ht.a&&(yield Object(r.h)(Object(X.i)({conversationId:e.conversationId,action:{attachment:n.attachment,values:n.values,actionId:n.actionId}})))}function*Ot(t){const{payload:e}=t,{actionParams:n}=e;n.actionType===ht.b&&(yield Object(r.h)(Object(X.j)({conversationId:e.conversationId,action:{attachment:n.attachment,values:n.values,actionId:n.actionId}})))}function*yt(t){yield Object(r.b)([Object(r.c)(gt,t),Object(r.c)(Ot,t)])}function*mt(t){const{messageId:e,conversationId:n}=t.payload,o=yield Object(r.j)(q.c),i=Object(J.j)(Object(J.l)(o,n),e);let a;try{a=yield Object(r.c)(D.b,{chatMessage:i,conversationId:n,params:{opened:!0}}),yield Object(r.c)(nt.p,e)}catch(c){a&&(yield Object(r.h)({type:S.I,payload:{chatMessage:i,conversationId:n}})),Object(N.b)(c)}}function*jt(t){const{attachment:e}=t.payload,n=O()(e,"opened");try{return void(n||(yield Object(r.c)(mt,t)))}catch(o){Object(N.b)(o)}}function*vt(){yield Object(r.m)(S.V,jt)}var It=n(403),Et=n(451),Ct=n(472),_t=n(615),St=n(679),Tt=n(505),At=n(379),Nt=n(811),Rt=n(609),xt=n(374),Dt=n(1263),Lt=n(413),wt=n(447),kt=n(402),Pt=n(805),Ut=n(418);const Ft=t=>Object(Lt.e)(Object(q.e)(t));function Mt(t){return t===ht.a||t===ht.b}function Bt(t){return t===St.a.OPEN_URL}function zt(t){return t===St.a.DIAL}function Wt(t){return t===St.a.FETCH_APPOINTMENT_TIME_SLOTS}function Gt(t){return t===St.a.RESERVE_APPOINTMENT_TIME_SLOT}function Vt(t){return t===St.a.START_VIDEO_CALL}function $t(t){return t===St.a.START_AUDIO_CALL}function Kt(t){return t===St.a.REJOIN_CALL}function Ht(t,e){return A.a.makeSent().makeMessage({messageId:t.id,messagePayload:z.a.getMessagePayload(t),conversationId:e,sender:z.a.getSender(t),creationTime:z.a.getCreationTime(t),clientMessageId:z.a.getClientMessageId(t)})}function*Yt(t){try{const{payload:e}=t,{conversationId:n,cursor:o}=e,i=yield Object(r.c)(nt.g,n,{size:e.size,cursor:o}),a=u()(i.results.map(t=>Ht(t,n)));yield Object(r.c)(G,a),yield Object(r.h)({payload:{conversationMessagesResponse:Object.assign({},i,{results:a}),conversationId:n,cursor:o},type:S.m}),t.promise&&t.promise.resolve()}catch(e){t.promise&&t.promise.reject(),yield Object(r.h)({type:S.n,payload:{conversationId:t.payload.conversationId}}),Object(N.b)(e)}}function*qt(t){try{const{payload:e,promise:n}=t,{conversationId:o,includeAll:i}=e,a=i?yield Object(r.c)(nt.c):yield Object(r.c)(nt.d,o);yield Object(r.h)(Object(X.a)({conversationId:o,includeAll:i,deleted:!0,surveyUrl:a.surveyUrl})),n&&n.resolve()}catch(e){t.promise&&t.promise.reject(),Object(N.b)(e)}}function*Jt(){try{yield Object(r.m)(S.i,qt)}catch(t){Object(N.b)(t)}}function*Xt(t){try{const{payload:e,promise:n}=t,{conversationId:o,includeAll:i}=e,a=i?yield Object(r.c)(nt.a):yield Object(r.c)(nt.b,o);yield Object(r.h)(Object(X.a)({conversationId:o,includeAll:i,closed:!0,surveyUrl:a.surveyUrl})),n&&n.resolve()}catch(e){t.promise&&t.promise.reject(),Object(N.b)(e)}}function*Qt(){try{yield Object(r.m)(S.h,Xt)}catch(t){Object(N.b)(t)}}function*Zt(){try{yield Object(r.m)(S.l,Yt)}catch(t){Object(N.b)(t)}}function*te(t){try{const{query:e,conversationId:n,faqAttachment:o}=t.payload,i=yield Object(r.c)(nt.j,n,e,o);t.promise&&t.promise.resolve(i)}catch(e){t.promise&&t.promise.reject(),Object(N.b)(e)}}function*ee(){try{yield Object(r.m)(S.A,te)}catch(t){Object(N.b)(t)}}function*ne(t){try{const e=d()(t,(t,e)=>{const n=At.a.getParticipants(e);return c()(n,n=>{t.push({sender:n,conversationId:e.id})}),t},[]);yield Object(r.c)(k.b,e)}catch(e){Object(N.b)(e)}}function*re(){try{for(;;)try{const t=yield Object(r.l)(S.f),e=yield Object(r.c)(nt.e,t.payload);yield Object(r.c)(ne,e.results);const n=yield Object(r.j)(q.h),o=Object(H.b)(n),i=Object(H.d)(n);yield Object(r.h)({payload:{conversationResponse:e,botUserIds:o,chatUserId:i},type:S.g})}catch(t){Object(N.b)(t)}}catch(e){Object(N.b)(e)}}function*oe(){try{for(;;){let n,o,i;const a=yield Object(r.l)(S.s);o=a.payload.caseId,n=a.payload.conversationId,i=a.payload.context;const c=yield Object(r.j)(q.h),s=Object(H.b)(c),d=Object(H.d)(c);try{const t=yield Object(r.c)(nt.h,a.payload.caseId);yield Object(r.h)({payload:{caseId:o,conversationResponse:t,botUserIds:s,chatUserId:d},type:S.t})}catch(t){try{if(Object(wt.a)(t))throw t;{const t=yield Object(r.c)(nt.m,Object.assign({createCase:!0,caseId:o},i));yield Object(r.h)({payload:{caseId:o,conversationResponse:t,botUserIds:s,chatUserId:d},type:S.t})}}catch(e){yield Object(r.h)({payload:{conversationId:n,error:Object(K.a)(e)},type:S.u})}}}}catch(n){Object(N.b)(n)}}function*ie(){try{for(;;){let e;try{const t=yield Object(r.l)(S.v);e=t.payload.conversationId;const n=yield Object(r.c)(nt.i,t.payload.conversationId),o=yield Object(r.j)(q.h),i=Object(H.b)(o),a=Object(H.d)(o);yield Object(r.h)({payload:{conversationResponse:n,botUserIds:i,chatUserId:a},type:S.w})}catch(t){yield Object(r.h)({payload:{conversationId:e,error:Object(K.a)(t)},type:S.x}),Object(N.b)(t)}}}catch(e){Object(N.b)(e)}}function*ae(t){try{for(;;){const n=yield Object(r.j)(Ft);try{if(n){const e=t.payload,{conversationId:n}=e,o=Ht(yield Object(r.c)(nt.k,n,e.messageId),n);return yield Object(r.c)(G,o),o}yield Object(r.l)(It.f)}catch(e){if(Object(N.b)(e),!Object(wt.c)(e))break}}return null}catch(n){return Object(N.b)(n),null}}function*ce(t){try{const e=t.payload;yield Object(r.h)(Object(X.k)({type:e.actionType,payload:p()(t.payload,["actionType"])}))}catch(e){Object(N.b)(e)}}function*se(t){try{const e=yield Object(r.c)(ae,t);e&&(yield Object(r.h)({type:S.I,payload:{chatMessage:e,conversationId:z.a.getConversationId(e)}}))}catch(e){Object(N.b)(e)}}function*de(t){try{const e=Object(H.c)(yield Object(r.j)(q.h));t.payload.sender!==e.userId&&(yield Object(r.h)(Object(X.a)(t.payload)))}catch(e){Object(N.b)(e)}}function*le(t){try{const{conversationId:e,videoCallEnabled:n,audioCallEnabled:o}=t.payload;yield Object(r.h)({type:S.d,payload:{conversationId:e,videoCallEnabled:n,audioCallEnabled:o}})}catch(e){Object(N.b)(e)}}function*ue(t){try{const{payload:e}=t,{actionParams:n}=e;Mt(n.actionType)&&(yield Object(r.c)(yt,t),t.promise.resolve())}catch(e){Object(N.b)(e)}}function*fe(t){try{const{payload:e}=t,{actionParams:n,conversationId:o}=e;n.actionType===St.a.ACCOUNT_LINK&&(yield Object(r.h)(Object(kt.a)({ssoId:n.values,conversationId:o,messageId:n.messageId})(t.promise)))}catch(e){Object(N.b)(e)}}function*pe(t){try{const{actionParams:{attachment:e,values:n}}=t.payload,o=e,i=yield Object(r.c)(nt.s,o.submitResponseUrl,o.httpHeaders,n.secureData);return{maskedData:n.maskedData,secureFormId:i}}catch(e){return Object(N.b)(e),null}}function*be(t){try{const{actionParams:{messageId:e,actionType:n,values:o},conversationId:i}=t.payload;if(n===St.a.ACCEPT_CO_BROWSE){const t=yield Object(r.j)(t=>Object(J.j)(Object(J.l)(Object(q.c)(t),i),e)),n=z.a.getSender(t);yield Object(r.h)(Object(_t.d)({messageId:e,conversationId:i,agentId:n})),yield Object(r.k)(P.b,{messageId:e})}return o}catch(e){return Object(N.b)(e),null}}function*he(t){try{const{actionParams:{attachment:e,actionId:n,values:o,messageId:i},conversationId:a}=t.payload,c=O()(Object(Rt.a)(n,e),"surveyUrl","");yield Object(r.h)(Object(X.e)({surveyUrl:c,conversationId:a})),yield Object(r.h)({type:S.V,payload:{messageId:i,conversationId:a,attachment:e}});const[s]=yield Object(r.i)([Object(r.l)(S.W),Object(r.l)(S.T),Object(r.l)(S.X)]);return s?o:null}catch(e){return Object(N.b)(e),null}}function*ge(t){try{const{actionParams:{actionType:e,values:n}}=t.payload;return function(t){return t===St.a.SECURE_FORM_POST_BACK}(e)?yield Object(r.c)(pe,t):function(t){return t===St.a.ACCEPT_CO_BROWSE||t===St.a.DENY_CO_BROWSE}(e)?yield Object(r.c)(be,t):function(t){return t===St.a.SURVEY_POST_BACK}(e)?yield Object(r.c)(he,t):n}catch(e){return Object(N.b)(e),null}}function*Oe(t){try{const{payload:o}=t,{actionParams:i,appContext:a}=o;if(!Mt(e=i.actionType)&&!Bt(e)&&!zt(e)&&!Wt(e)&&!Gt(e)&&!$t(e)&&!Vt(e)&&!Kt(e))try{const e=yield Object(r.c)(ge,t);_()(e)?t.promise&&t.promise.resolve():yield Object(r.h)(Object(X.o)({conversationId:o.conversationId,sender:o.sender,postback:{attachment:i.attachment,values:e,additional:i.additional,appContext:a,messageId:i.messageId,postbackId:i.actionId,postbackType:i.actionType},inReplyToChatMessageId:o.inReplyToChatMessageId})(t.promise))}catch(n){Object(xt.a)(n),t.promise.reject()}}catch(o){Object(N.b)(o)}var e}function*ye(t){try{const{payload:e}=t,{actionParams:n}=e;Bt(n.actionType)&&(yield Object(r.h)(Object(X.f)({attachment:n.attachment,actionId:n.actionId})(t.promise)))}catch(e){Object(N.b)(e)}}function*me(t){try{const{payload:e}=t,{actionParams:n}=e;zt(n.actionType)&&(yield Object(r.h)(Object(X.d)({attachment:n.attachment,actionId:n.actionId})(t.promise)))}catch(e){Object(N.b)(e)}}function*je(t){try{const{payload:e}=t,{actionParams:{actionId:n,actionType:o,attachment:i,messageId:a,values:c},conversationId:s,appContext:d}=e;if(Kt(o))yield Object(r.h)(Object(Ct.o)({conversationId:s,isPhone:d.isPhone,type:c.audioOnly?Et.a.AUDIO:Et.a.VIDEO,isIncomingCall:c.isIncomingCall,videoConversationId:c.videoChatConversationId,prevState:Object(Nt.a)(c.currentState,c.isIncomingCall)})),t.promise&&t.promise.resolve();else if(Vt(o)||$t(o)){const e=yield Object(r.j)(q.b);if(Object(Ut.a)(e))return void(t.promise&&t.promise.reject());const c=Vt(o)?Et.a.VIDEO:Et.a.AUDIO,l=O()(Object(Rt.a)(n,i),"title","");let u={};n&&(u={sourceButtonId:n,messageId:a,messageText:l}),yield Object(r.h)(Object(Ct.g)(Object.assign({conversationId:s,isPhone:d.isPhone,type:c},u))),t.promise&&t.promise.resolve()}}catch(e){Object(N.b)(e)}}function*ve(t){try{const{payload:n}=t,{actionParams:o,conversationId:a,appContext:c}=n,s=Wt(o.actionType),d=Gt(o.actionType);let l,u;if(s||d)try{const e=yield Object(r.j)(q.c);if(l=Object(J.j)(Object(J.l)(e,a),o.messageId),s&&(yield Object(r.h)({type:S.I,payload:{chatMessage:i()(l,{messagePayload:{attachment:{$merge:{slots:void 0}}}}),conversationId:a}}),u=yield Object(r.c)(nt.f,{selectedDate:o.values.selectedDate,slotDefinitionId:o.attachment.slotDefinitionConfigId,timeZone:c.timeZone,appointmentAssetParams:o.attachment.params,messageId:o.messageId}),yield Object(r.h)({type:S.I,payload:{chatMessage:i()(l,{messagePayload:{attachment:{$merge:{slots:u}}}}),conversationId:a}})),d){u=yield Object(r.c)(nt.q,{selectedDate:o.values.selectedDate,selectedSlot:o.values.selectedSlot,timeZone:c.timeZone,slotDefinitionId:o.attachment.slotDefinitionConfigId,appointmentAssetParams:o.attachment.params,messageId:o.messageId});const t=O()(u,"slots");t&&(yield Object(r.h)({type:S.I,payload:{chatMessage:i()(l,{messagePayload:{attachment:{$merge:{slots:t}}}}),conversationId:a}}))}t.promise.resolve({actionType:o.actionType,response:{reservationId:O()(u,"reservationId"),selectedSlot:o.values.selectedSlot,selectedDate:o.values.selectedDate,visibleSlots:o.values.visibleSlots}})}catch(e){Object(N.b)(e),t.promise.reject({actionType:o.actionType,response:{error:u}})}}catch(n){Object(N.b)(n)}}function*Ie(t){try{yield Object(r.b)([Object(r.c)(ue,t),Object(r.c)(Oe,t),Object(r.c)(ye,t),Object(r.c)(me,t),Object(r.c)(fe,t),Object(r.c)(ve,t),Object(r.c)(je,t)])}catch(e){Object(N.b)(e)}}function*Ee(t,e){try{const n=i()(t,{payload:{actionParams:{$set:Object.assign({},p()(t.payload.actionParams,["actionTypes"]),{actionType:e})}}}),o=new Promise((t,e)=>{n.promise={resolve:t,reject:e}});return yield Object(r.c)(Ie,n),o}catch(n){return Object(N.b)(n),null}}function*Ce(t){try{let n={},o={};try{const e=t.payload.actionParams.actionTypes;for(let i=0;i<h()(e);i+=1){(yield Object(r.c)(Ee,t,e[i])).then(t=>{o=E()(o,t)},t=>{n=E()(n,t)})}t.promise.resolve(o)}catch(e){t.promise.reject(n),Object(N.b)(e)}}catch(n){Object(N.b)(n)}}function*_e(){try{yield Object(r.m)(S.c,Ce)}catch(t){Object(N.b)(t)}}function*Se(t){try{let n,o;try{const{disclaimerStatus:e}=t.payload,i=yield Object(r.j)(q.c),a=Object(J.p)(i);n=t.payload.conversationId,o=O()(Object(J.h)(a,n),"disclaimerStatus"),yield Object(r.h)({type:S.r,payload:{conversationId:n,disclaimerStatus:e}}),yield Object(r.c)(nt.u,n,e),t.promise.resolve()}catch(e){t.promise.reject(),yield Object(r.h)({type:S.r,payload:{conversationId:n,disclaimerStatus:o}}),Object(N.b)(e)}}catch(n){Object(N.b)(n)}}function*Te(){try{yield Object(r.m)(S.q,Se)}catch(t){Object(N.b)(t)}}const Ae={field:"closed",values:[!0],filterType:Tt.a.NIN};function*Ne(t,e){try{const n=yield Object(r.j)(q.c),o=Object(J.v)(n),i=e||Ae,a=m()(o.ids,t=>{let e=!1;if(v()(i))return!0;Dt.a.createFilterAction(i,{getFilterBuilder:Dt.a.createFilterAction}).matches(o.byId[t],{logOnFailure:!0})&&(e=!0);return e});a&&(yield Object(r.c)(nt.t,{context:t,conversationId:a}))}catch(n){Object(N.b)(n)}}function*Re(t,e){try{yield Object(r.l)(S.g),yield Object(r.c)(Ne,t,e)}catch(n){Object(N.b)(n)}}function*xe(t){try{const{context:e,conversationId:n,filters:o,includeDeleted:i}=t.payload;if(n)return void(yield Object(r.c)(nt.t,{context:e,conversationId:n}));if(i)return void(yield Object(r.c)(nt.v,{context:e,updateLatest:i}));const a=yield Object(r.j)(q.c),c=Object(J.p)(a);if(Object(J.b)(c))return void(yield Object(r.c)(Ne,e,o));yield Object(r.g)(Re,e,o)}catch(e){Object(N.b)(e)}}function*De(){try{yield Object(r.m)(S.k,xe)}catch(t){Object(N.b)(t)}}function*Le(t){try{const{lastReadMessageId:e}=t.payload;yield Object(r.c)(Pt.b,{type:"MESSAGE_READ",payload:{messageId:e}})}catch(e){Object(N.b)(e)}}function*we(){try{yield Object(r.m)(S.O,Le)}catch(t){Object(N.b)(t)}}function*ke(t){try{const t=yield Object(r.c)(nt.l);yield Object(r.h)({payload:{openConversationCount:t},type:S.ab})}catch(e){Object(N.b)(e)}}function*Pe(){try{yield Object(r.o)(S.B,ke)}catch(t){Object(N.b)(t)}}function*Ue(){try{yield Object(r.b)([Object(r.g)(re),Object(r.g)(ie),Object(r.g)(ee),Object(r.g)(bt),Object(r.g)(Zt),Object(r.g)(Jt),Object(r.g)(Qt),Object(r.g)(x),Object(r.g)(D.a),Object(r.g)(w),Object(r.g)(_e),Object(r.g)(De),Object(r.g)(oe),Object(r.g)(Te),Object(r.g)(we),Object(r.g)(vt),Object(r.g)(Pe)])}catch(t){Object(N.b)(t)}}var Fe=n(520);const Me={},Be="START_TYPING",ze="STOP_TYPING";function*We(t,e){try{yield Object(r.c)(Pt.b,{type:t,payload:{conversationId:e}})}catch(n){Object(N.b)(n)}}function*Ge(t,e){for(;;)yield Object(r.g)(We,Be,t),yield Object(r.f)(25e3),yield Object(r.l)(e)}function*Ve(t,e){let n,o;try{for(n=Object(Fe.b)(Fe.a.dropping(1)),o=yield Object(r.g)(Ge,t,n);;){const t=yield Object(r.l)(e);if(t.type!==S.bb)break;n.put(t)}}catch(i){Object(N.b)(i)}finally{yield Object(r.g)(We,ze,t),n&&n.close(),o&&o.cancel()}}function*$e(t,e){for(;;)try{let n;if(n=yield Object(r.l)(e),n.type!==S.bb)continue;yield Object(r.c)(Ve,t,e)}catch(n){Object(N.b)(n)}}function*Ke(){for(;;)try{const t=yield Object(r.i)([Object(r.l)(S.bb),Object(r.l)(S.cb)]),e=u()(t)[0],{payload:{conversationId:n}}=e;let o=Me[n];o||(o=Object(Fe.b)(Fe.a.sliding(1)),Me[n]=o,yield Object(r.g)($e,n,o)),o.put(e)}catch(t){Object(N.b)(t)}}function*He(){yield Object(r.g)(Ke)}var Ye=n(367),qe=n.n(Ye),Je=n(410),Xe=n.n(Je),Qe=n(504),Ze=n.n(Qe),tn=n(437);const en={};function*nn(){throw yield Object(r.f)(3e4),new Error("")}function*rn(t,e,n,o){let i;yield Object(r.h)({type:S.a,payload:{conversationId:e,userId:n,actionTime:o}});try{for(i=yield Object(r.g)(nn);;){const o=yield Object(r.l)(t);if(o.type===tn.h)i.isCancelled()||(yield Object(r.d)(i)),i=yield Object(r.g)(nn),yield Object(r.h)({type:S.a,payload:{conversationId:e,userId:n,actionTime:o.payload.actionTime}});else{const t=yield Object(r.j)(q.c),i=Object(J.l)(t,e),a=Object(J.t)(i,n);if(a&&z.a.getCreationTime(a)<o.payload.actionTime)break}}}catch(a){Object(N.b)(a)}finally{yield Object(r.h)({type:S.b,payload:{conversationId:e,userId:n}}),i.isCancelled()||(yield Object(r.d)(i))}}function*on(t,e,n){for(;;)try{let o;if(o=yield Object(r.l)(t),o.type!==tn.h)continue;yield Object(r.c)(rn,t,e,n,o.payload.actionTime)}catch(o){}}function*an(t){const{payload:{conversationId:e,sender:n}}=t,o=yield Object(r.j)(q.h),i=$()(Object(Y.e)(o,n)),a=function(t,e){return`${t}_${e}`}(e,i);let c=en[a];c||(c=Object(Fe.b)(Fe.a.sliding(1)),en[a]=c,yield Object(r.g)(on,c,e,i)),c.put(t)}function*cn(t){try{yield Object(r.b)(t.map(t=>Object(r.c)(an,t)))}catch(e){Object(N.b)(e)}}function*sn(t){try{yield Object(r.b)(t.map(t=>Object(r.c)(an,t)))}catch(e){Object(N.b)(e)}}function dn(t){return t.type===tn.q}function ln(t){return t.type===tn.h}function un(t){return t.type===tn.i}function*fn(t){const{data:e}=t;if(e){const t=yield Object(r.j)(q.h),n=Object(Y.e)(t,z.a.getSender(e));yield Object(r.h)(Object(X.g)(e,n))}}function*pn(t){try{const e=t.filter(dn);yield Object(r.b)(e.map(t=>Object(r.c)(fn,t)));const n=e.reduce((t,e)=>{const{data:n}=e;return n&&t.push(z.a.getId(n)),t},[]);v()(n)||(yield Object(r.c)(nt.o,n))}catch(e){Object(N.b)(e)}}function*bn(t){const e=t.filter(ln);e.length&&(yield Object(r.c)(cn,e))}function*hn(t){const e=t.filter(un);e.length&&(yield Object(r.c)(sn,e))}function*gn(t){yield Object(r.b)([Object(r.c)(pn,t),Object(r.c)(bn,t),Object(r.c)(hn,t)])}const On=(()=>{const t=new Set;return{add:e=>t.add(e),has:e=>t.has(e),delete:e=>t.delete(e)}})(),yn=(()=>{let t=[];return{set:e=>{t=e},get:()=>t,push:e=>{t=[...t,...B()(e)]}}})();function*mn(t){const{id:e,data:n}=t;if(On.add(e),c()(yn.get(),t=>{if(t.id===e)return t.data=n,!1}),e===O()($()(yn.get()),"id")){const{resolvedEvents:t,unresolvedEvents:e}=d()(yn.get(),(t,e)=>On.has(e.id)&&v()(t.unresolvedEvents)?(On.delete(e.id),Object.assign({},t,{resolvedEvents:[...t.resolvedEvents,e]})):Object.assign({},t,{unresolvedEvents:[...t.unresolvedEvents,e]}),{resolvedEvents:[],unresolvedEvents:[]});yn.set(e),yield Object(r.g)(gn,t)}}function*jn(t){if(dn(t)){const e=yield Object(r.c)(ae,t);yield Object(r.c)(mn,{id:t.id,data:e})}}function*vn(t){if(ln(t)){const e=Ze()(t.payload,["conversationId","sender"]);yield Object(r.c)(k.b,e),yield Object(r.c)(mn,{id:t.id,data:{}})}}function*In(t){un(t)&&(yield Object(r.c)(mn,{id:t.id,data:{}}))}function*En(t){yield Object(r.b)([Object(r.c)(jn,t),Object(r.c)(vn,t),Object(r.c)(In,t)])}function*Cn(t){yn.push(t),yield Object(r.b)(t.map(t=>Object(r.g)(En,t)))}var _n=n(965),Sn=n.n(_n),Tn=n(404);function An(t){return t.type===tn.p}function Nn(t){return t.type===tn.g}function Rn(t){return t.type===tn.j}function xn(t){return t.type===tn.m}function Dn(t){return t.type===tn.k}function*Ln(t){try{yield Object(r.b)(t.filter(xn).map(t=>Object(r.c)(ce,t)))}catch(e){Object(N.b)(e)}}function*wn(t){try{yield Object(r.b)(t.filter(An).map(t=>Object(r.c)(se,t)))}catch(e){Object(N.b)(e)}}function*kn(t){try{yield Object(r.b)(Sn()(t.filter(Rn).map(t=>[Object(r.c)(k.a,{sender:t.payload.chatUserId,conversationId:t.payload.conversationId}),Object(r.h)(Object(kt.c)({conversationId:t.payload.conversationId,action:Tn.a.USER_PROFILE_UPDATED,additional:{sender:t.payload.chatUserId}}))])))}catch(e){Object(N.b)(e)}}function*Pn(t){try{yield Object(r.b)(t.filter(Dn).map(t=>Object(r.c)(de,t)))}catch(e){Object(N.b)(e)}}function*Un(t){try{yield Object(r.b)(t.filter(Nn).map(t=>Object(r.c)(le,t)))}catch(e){Object(N.b)(e)}}function*Fn(t){try{yield Object(r.b)([Object(r.c)(Ln,t),Object(r.c)(wn,t),Object(r.c)(kn,t),Object(r.c)(Pn,t),Object(r.c)(Un,t)])}catch(e){Object(N.b)(e)}}const Mn=[tn.q,tn.h,tn.i];function*Bn(t){try{const{events:e}=t.payload;let n=[],o=[];c()(e,t=>{qe()(Mn,t.type)?n=[...n,Object.assign({},t,{id:Xe()()})]:o=[...o,t]}),yield Object(r.c)(Cn,n),yield Object(r.c)(Fn,o)}catch(e){Object(xt.a)(e)}}function*zn(){yield Object(r.m)(It.l,Bn)}function*Wn(){yield Object(r.b)([Object(r.g)(zn)])}var Gn=n(419),Vn=n(525);const $n=t=>{const e=Z.a.getNoDisplayConfigFilter(t);return!v()(e)&&Object(Vn.b)(e,Gn.a.IS_CONVERSATION_OPEN)};function*Kn(t){try{const e=yield Object(r.j)(q.c),n=Object(J.p)(e);if(!Object(J.b)(n))return;yield Object(r.h)(Object(X.b)({shouldFetchNumberOfOpenConversation:$n(t.applicationConfig),size:n.ids.length}))}catch(e){Object(N.b)(e)}}function*Hn(){try{const t=yield Object(r.j)(q.c),e=Object(J.p)(t),n=Object(J.n)(t),o=d()(n,(t,n,o)=>{const i=n.messages;if(!o.startsWith(ot.e)&&Object(J.a)(i)&&!Object(J.z)(e,o)){const e=Object(X.c)(o,{size:Object(J.k)(i).length})();t.push(Object(r.h)(e))}return t},[]);o.length&&(yield Object(r.b)(o))}catch(t){Object(N.b)(t)}}function*Yn(t){yield Object(r.b)([Object(r.g)(Kn,t),Object(r.g)(Hn)])}function*qn(){const{payload:{applicationConfig:t}}=yield Object(r.l)(rt.a);yield Object(r.m)(It.m,Yn,{applicationConfig:t})}function*Jn(){yield Object(r.b)([Object(r.g)(Ue),Object(r.g)(He),Object(r.g)(Wn),Object(r.g)(qn)])}},1268:function(t,e,n){"use strict";n.d(e,"a",(function(){return vt}));var r=n(325),o=n(439),i=n.n(o),a=n(36),c=n.n(a),s=n(520),d=n(1036),l=n(374),u=n(322),f=n(447);function p(t){const e=()=>{Object(d.a)().disconnect().then(()=>{Object(l.a)("MQTT Client | Disconnected")}).catch(t=>{Object(f.f)(t)?console.warn(t):console.error("MQTT Client | Disconnection Error "+t)})};try{Object(d.a)().connect().catch(t=>{Object(f.f)(t)?console.warn(t):console.error("MQTT Client | Connection Error "+t)}),function(){const t=Object(d.a)();t.on("error",()=>{Object(l.a)("MQTT Client | Error")}),t.on("offline",()=>{Object(l.a)("MQTT Client | Offline")}),t.on("reconnect",()=>{Object(l.a)("MQTT Client | Reconnect")}),t.on("close",()=>{Object(l.a)("MQTT Client | Closed")})}(),Object(d.a)().subscribe().catch(t=>{Object(f.f)(t)?console.warn(t):console.error("MQTT client | Subscribe Error "+t)}),Object(d.a)().on("message",(e,n)=>{try{const e=JSON.parse(n.toString());t(e)}catch(r){Object(u.b)(r)}})}catch(n){Object(u.b)(n),e()}return e}var b=n(613),h=n.n(b);var g=class{constructor(t,e){if(this.poll=()=>{this.isActive&&(this.timeoutId=window.setTimeout(()=>{this.handler().finally(()=>{this.enableBackOff&&(this.interval=this.interval+this.baseInterval),this.poll()})},this.interval))},this.start=t=>{this.isActive||(this.isActive=!0,this.timeoutId=window.setTimeout(()=>{this.handler().finally(()=>{this.poll()})},t||0))},this.stop=()=>{this.isActive=!1,this.timeoutId&&(window.clearTimeout(this.timeoutId),this.timeoutId=void 0),this.enableBackOff&&(this.interval=this.baseInterval)},!t)throw new Error("No poll handler defined");var n;this.handler=(n=t,()=>n().catch(()=>{})),this.baseInterval=e.pollInterval,this.enableBackOff=e.enableBackOff,this.interval=e.pollInterval,this.timeoutId=void 0,this.isActive=!1}},O=n(805);const y=()=>{return"A_"+(t=Date.now(),Math.floor(t/1e3).toString(16)+"0000000000000000");var t},m=h()(()=>{let t=y();return{set:e=>{t=e||t},get:()=>t}});let j=!0;function v(t,e){let n;function r(){n&&n.stop()}try{n=function(t,e){const n=m();return new g((function(){return Object(O.a)({cursor:n.get(),lastActiveDiff:e.getLastActiveTimeDifference()}).then(e=>{const{results:r,afterCursor:o}=e;t(null,r,{isFirstCall:j}),j=!1,n.set(o)}).catch(e=>{t(Object(f.c)(e)?e:null,[],{})})}),Object.assign({},e||{},{pollInterval:15e3}))}(t,e),n.start(15e3)}catch(o){r()}return r}var I=n(346),E=n.n(I),C=n(1834),_=n(4),S=n(3);const T=Object(C.a)(["payload","type"]),A=Object(_.a)("conversationId"),N=Object(_.a)("sender"),R=Object(_.a)("payload"),x=Object(_.a)("creationTime");class D{}D.getMessageType=Object(S.a)(T),D.getConversationId=Object(S.a)(A),D.getSender=Object(S.a)(N),D.getCreationTime=Object(S.a)(x),D.getPayload=t=>Object(S.a)(R)(t);var L=n(437),w=n(451);const k={[L.q]:t=>({payload:{conversationId:D.getConversationId(t),messageId:D.getPayload(t).messageId},type:L.q}),[L.p]:t=>({payload:{conversationId:D.getConversationId(t),messageId:D.getPayload(t).messageId},type:L.p}),[L.m]:t=>({payload:Object.assign({},E()(t.payload.externalEvent,["type","action","conversationId","payload"]),{actionType:D.getPayload(t).externalEvent.action,externalParams:D.getPayload(t).externalEvent.payload,contextId:D.getConversationId(t)}),type:L.m}),[L.r]:t=>({type:D.getPayload(t).event.action,payload:D.getPayload(t).event.payload?JSON.parse(D.getPayload(t).event.payload):{}}),[L.j]:t=>({payload:{conversationId:D.getConversationId(t),chatUserId:D.getPayload(t).chatUserId},type:L.j}),[L.h]:t=>({payload:{conversationId:D.getConversationId(t),sender:D.getSender(t),actionTime:D.getCreationTime(t)},type:L.h}),[L.i]:t=>({payload:{conversationId:D.getConversationId(t),sender:D.getSender(t),actionTime:D.getCreationTime(t)},type:L.i}),[L.k]:t=>({payload:{conversationId:D.getConversationId(t),sender:D.getSender(t),closed:D.getPayload(t).closed,deleted:D.getPayload(t).deleted,caseNumber:D.getPayload(t).caseNumber,expireAssetUntilLastMessageId:D.getPayload(t).lastMessageId},type:L.k}),[L.d]:t=>{const e=D.getPayload(t).audioOnly;return{payload:{videoConversationId:D.getPayload(t).videoConversationId,conversationId:D.getConversationId(t),participantInfos:D.getPayload(t).participantInfos,type:e?w.a.AUDIO:w.a.VIDEO},type:L.d}},[L.c]:t=>({payload:{conversationId:D.getConversationId(t),videoConversationId:D.getPayload(t).videoConversationId},type:L.c}),[L.g]:t=>({payload:{conversationId:D.getConversationId(t),videoCallEnabled:D.getPayload(t).videoEnabled,audioCallEnabled:D.getPayload(t).audioEnabled},type:L.g}),[L.f]:t=>({payload:{conversationId:D.getConversationId(t),videoConversationId:D.getPayload(t).conversation.id,conversation:D.getPayload(t).conversation,participant:D.getPayload(t).participant},type:L.f}),[L.b]:t=>({payload:{conversationId:D.getConversationId(t),videoConversationId:D.getPayload(t).videoConversationId},type:L.b}),[L.e]:t=>({payload:{conversationId:D.getConversationId(t),videoConversationId:D.getPayload(t).videoConversationId},type:L.e}),[L.l]:t=>({payload:{status:D.getPayload(t).status},type:L.l}),[L.n]:t=>({payload:{conversationId:D.getConversationId(t),unassignedFrom:D.getPayload(t).unassignedFrom,assignedTo:D.getPayload(t).assignedTo,newAssigneeType:D.getPayload(t).newAssigneeType,oldAssigneeType:D.getPayload(t).oldAssigneeType,assignmentTime:D.getPayload(t).assignmentTime},type:L.n}),[L.a]:t=>{const{action:e}=D.getPayload(t);return{payload:{params:e.params,conversationId:D.getConversationId(t),type:e.actionType},type:L.a}}};function P(t){try{const e=D.getMessageType(t),n=k[e];if(n)return n(t)}catch(e){Object(u.b)(e)}}var U=n(402),F=n(403);const M=(()=>{const t=new Set;return{add:e=>t.add(e),clear:()=>t.clear(),has:e=>t.has(e)}})(),B=(()=>{let t=0,e=!0;return{getLastActiveTimeDifference:()=>e?0:Date.now()-t,setAppActive:n=>{e=n,n||(t=Date.now())}}})(),z=(t,e)=>v((e,n,{isFirstCall:r})=>{if(t(Object(U.g)(!e)),e)return;const o=n.filter(t=>!M.has(t.id)).map(P).filter(t=>!!t).filter(t=>!r||!(t=>t.type===L.f||t.type===L.d)(t));t(o),M.clear()},Object.assign({},e,{getLastActiveTimeDifference:B.getLastActiveTimeDifference}));function W(){return Object(s.d)(t=>{const e=(t=>p(e=>{const n=P(e);n&&(M.add(e.id),t(n))}))(t);return()=>{e()}})}function G(){return Object(s.d)(t=>{const e=z(t);return()=>{e()}})}function V(){return Object(s.d)(t=>{const e=z(t,{enableBackOff:!0});let n;return n=window.setTimeout(()=>{e()},432e5),()=>{n&&window.clearTimeout(n),e()}})}const $=t=>t.type===F.f,K=t=>!$(t);function*H(t){try{yield Object(r.b)(t.filter($).map(t=>Object(r.h)(t)))}catch(e){Object(u.b)(e)}}function*Y(t){try{const e=t.filter(K);c()(e)||(yield Object(r.h)({type:F.l,payload:{events:e}}),yield Object(r.h)(Object(U.e)()))}catch(e){Object(u.b)(e)}}function*q(t){try{const e=i()(t);yield Object(r.b)([Object(r.c)(H,e),Object(r.c)(Y,e)])}catch(e){Object(u.b)(e)}}function*J(){try{let e,n;try{e=yield Object(r.c)(V),n=yield Object(r.m)(e,q),yield Object(r.l)(F.a)}catch(t){}finally{e&&e.close(),n&&!n.isCancelled()&&(yield Object(r.d)(n))}}catch(e){Object(u.b)(e)}}function*X(){try{for(;;){yield Object(r.l)(F.b);const[t,e]=yield Object(r.i)([Object(r.l)(F.a),Object(r.f)(18e5)]);if(e)break}}catch(t){Object(u.b)(t)}}function*Q(){try{let e,n;try{e=yield Object(r.c)(G),n=yield Object(r.m)(e,q),yield Object(r.c)(X)}catch(t){}finally{e&&e.close(),n&&!n.isCancelled()&&(yield Object(r.d)(n))}}catch(e){Object(u.b)(e)}}function*Z(){try{for(;;){yield Object(r.l)(F.b);const[t,e]=yield Object(r.i)([Object(r.l)(F.a),Object(r.f)(108e5)]);if(e)break}}catch(t){Object(u.b)(t)}}function*tt(){try{let e,n;for(;;)try{yield Object(r.i)([Object(r.l)(F.j),Object(r.l)(F.a)]),e=yield Object(r.c)(W),n=yield Object(r.m)(e,q),yield Object(r.c)(Z)}catch(t){}finally{e&&e.close(),n&&!n.isCancelled()&&(yield Object(r.d)(n))}}catch(e){Object(u.b)(e)}}function*et(){try{for(yield Object(r.i)([Object(r.l)(F.i),Object(r.l)(F.a)]);;)yield Object(r.c)(Q),yield Object(r.c)(J)}catch(t){Object(u.b)(t)}}function*nt(){try{for(;;){const[t,e]=yield Object(r.i)([Object(r.l)(F.a),Object(r.l)(F.b)]);B.setAppActive(!!t)}}catch(t){Object(u.b)(t)}}function*rt(){try{yield Object(r.b)([Object(r.g)(tt),Object(r.g)(et),Object(r.g)(nt)])}catch(t){Object(u.b)(t)}}var ot=n(421),it=n(571),at=n(336),ct=n(365),st=n(404);function dt(t){return t.type===L.o||t.type===L.s}function*lt(t){try{yield Object(r.b)(t.filter(dt).map(t=>Object(r.h)(t)))}catch(e){Object(u.b)(e)}}function ut(t){return t.type===L.n}const ft=t=>"USER"===t,pt=new Set(["WORK_QUEUE","TASK_QUEUE","HOLDING_QUEUE"]);function*bt(t){try{const{assignmentTime:n,assignedTo:o,unassignedFrom:i,conversationId:a,newAssigneeType:c,oldAssigneeType:s}=t.payload,d=[];o&&ft(c)&&d.push({conversationId:a,sender:o}),i&&ft(s)&&d.push({conversationId:a,sender:i}),yield Object(r.c)(it.b,d),yield Object(r.h)(Object(ot.a)({conversationId:a,workQueueAssigned:(e=c,pt.has(e)),agentAssigned:ft(c)}));const l=yield Object(r.j)(t=>Object(ct.f)(Object(at.h)(t),o)),u={currentlyAssignedUser:l,previouslyAssignedUser:yield Object(r.j)(t=>Object(ct.f)(Object(at.h)(t),i)),assignmentTime:n};ft(c)&&(yield Object(r.h)(Object(U.c)({conversationId:a,additional:u,action:st.a.AGENT_ASSIGNED})))}catch(n){Object(u.b)(n)}var e}function*ht(t){try{const e=t.filter(ut);yield Object(r.b)(e.map(bt))}catch(e){Object(u.b)(e)}}function*gt(t){try{const{events:e}=t.payload;yield Object(r.b)([Object(r.c)(lt,e),Object(r.c)(ht,e)])}catch(e){Object(u.b)(e)}}function*Ot(){try{yield Object(r.m)(F.l,gt)}catch(t){Object(u.b)(t)}}function*yt(t){yield Object(r.f)(t),yield Object(r.h)(Object(U.h)())}function*mt(){let t;const e=yield Object(r.a)([L.o,L.s]);for(;;)try{const{type:n,payload:o}=yield Object(r.l)(e);t&&!t.isCancelled()&&(yield Object(r.d)(t)),n===L.o&&(t=yield Object(r.g)(yt,o.waitTime),yield Object(r.h)(Object(U.f)({waitTime:o.waitTime,reason:o.reason}))),n===L.s&&(yield Object(r.h)(Object(U.h)()))}catch(n){Object(u.b)(n)}}function*jt(){yield Object(r.b)([Object(r.g)(mt)])}function*vt(){try{yield Object(r.b)([Object(r.g)(rt),Object(r.g)(Ot),Object(r.g)(jt)])}catch(t){Object(u.b)(t)}}},1278:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n(325),o=n(404),i=n(336),a=n(365),c=n(693),s=n(322),d=n(402),l=n(501);function*u(t){try{const e=t.payload,n=Object(a.c)(yield Object(r.j)(i.h));yield Object(r.c)(c.d,Object.assign({},n,{customContext:e})),yield Object(r.h)(Object(d.c)({action:o.a.USER_PROFILE_UPDATED}))}catch(e){Object(s.b)(e)}}function*f(){try{yield Object(r.m)(l.c,u)}catch(t){Object(s.b)(t)}}function*p(t){try{const e=t.payload,n=yield Object(r.c)(c.c,e);t.promise.resolve(n);const o=n.results;yield Object(r.h)({type:l.d,payload:{users:o}})}catch(e){t.promise.reject(e),Object(s.b)(e)}}function*b(){try{yield Object(r.m)(l.b,p)}catch(t){console.error(t)}}function*h(){try{yield Object(r.b)([Object(r.g)(f),Object(r.g)(b)])}catch(t){Object(s.b)(t)}}},1284:function(t,e,n){"use strict";n.d(e,"b",(function(){return S})),n.d(e,"a",(function(){return W}));var r=n(325),o=n(154),i=n.n(o),a=n(322),c=n(362),s=n(509);const d="/co-browse/conversation",l=({messageId:t,markCompletedSession:e})=>c.__awaiter(void 0,void 0,void 0,(function*(){return(yield s.a.post(`${d}/${e?"completed":"cancelled"}?messageId=${t}`)).data})),u=({messageId:t,actionPayload:e})=>c.__awaiter(void 0,void 0,void 0,(function*(){return(yield s.a.post(`${d}/push?messageId=${t}`,{type:"CO_BROWSE",payload:e})).data})),f=({messageId:t,payload:e})=>c.__awaiter(void 0,void 0,void 0,(function*(){return(yield s.a.post(`${d}/push/status?messageId=${t}`,e)).data})),p=({messageId:t,otp:e,additionalInfo:n})=>c.__awaiter(void 0,void 0,void 0,(function*(){return f({messageId:t,payload:{status:"SUCCESS",otp:e,additionalInfo:n}})})),b=({messageId:t,reason:e})=>c.__awaiter(void 0,void 0,void 0,(function*(){return f({messageId:t,payload:{status:"FAILED",reason:e}})})),h=({messageId:t,payload:e})=>s.a.post(`${d}/event?messageId=${t}`,e),g=({messageId:t})=>c.__awaiter(void 0,void 0,void 0,(function*(){return(yield s.a.get(`${d}/session/live?messageId=${t}`)).data}));var O=n(336),y=n(615),m=n(571),j=n(681),v=n(356),I=n(798);function*E(t){try{const{messageId:e}=yield Object(r.j)(O.f);yield Object(r.c)(u,{messageId:e,actionPayload:t.payload})}catch(e){Object(a.b)(e)}}function*C(t){const{messageId:e,conversationId:n,agentId:o}=yield Object(r.j)(O.f);try{const{otp:i,additionalInfo:a}=t.payload;yield Object(r.c)(p,{messageId:e,otp:i,additionalInfo:a}),yield Object(r.h)(Object(y.i)({state:{messageId:e,conversationId:n,agentId:o}}))}catch(i){try{yield Object(r.h)(Object(y.e)({reason:I.a.OTP_SEND_FAILED})),yield Object(r.c)(b,{messageId:e,reason:I.a.OTP_SEND_FAILED})}catch(c){Object(a.b)(i)}}}function*_(t){try{const{messageId:e,reason:n}=t.payload;yield Object(r.h)(Object(y.e)({reason:n})),yield Object(r.c)(b,{messageId:e,reason:n})}catch(e){Object(a.b)(e)}}function*S({messageId:t}){const[e,n]=yield Object(r.i)([Object(r.l)(({type:e,payload:n})=>e===v.G&&i()(n,"chatMessage.messagePayload.attachment.messageId")===t),Object(r.l)(({type:e,payload:n})=>e===v.F&&i()(n,"postbackParentMessageId")===t),Object(r.l)(j.g),Object(r.l)(j.h)]);e&&(yield Object(r.h)(Object(y.p)())),n&&(yield Object(r.h)(Object(y.e)({reason:I.a.POSTBACK_SEND_FAILED})))}function*T(t){try{const{messageId:e}=yield Object(r.j)(O.f);yield Object(r.c)(h,{messageId:e,payload:t.payload})}catch(e){Object(a.b)(e)}}function*A(t){try{const{messageId:e,endedByAgent:n,markCompletedSession:o}=t.payload;if(n||!e)return;return void(yield Object(r.c)(l,{messageId:e,markCompletedSession:o}))}catch(e){Object(a.b)(e)}}function*N(t){const{shouldNotifyAgent:e}=t.payload;try{e&&(yield Object(r.h)(Object(y.j)({type:"REMOTE_CONTROL",payload:{status:"ACCEPT"}})))}catch(n){Object(a.b)(n)}}function*R(t){try{yield Object(r.h)(Object(y.j)({type:"REMOTE_CONTROL",payload:{status:"REJECT"}}))}catch(e){Object(a.b)(e)}}function*x(t){try{yield Object(r.h)(Object(y.j)({type:"REMOTE_CONTROL",payload:{status:"STOP"}}))}catch(e){Object(a.b)(e)}}function*D(t){const{messageId:e,conversationId:n,agentId:o}=t.payload.state;try{const[t]=yield Object(r.b)([Object(r.c)(g,{messageId:e}),Object(r.c)(m.b,{sender:o,conversationId:n})]);t?yield Object(r.h)(Object(y.o)({state:{conversationId:n,messageId:e,agentId:o}})):yield Object(r.h)(Object(y.e)({reason:I.a.RESUME_SESSION_FAILED}))}catch(i){yield Object(r.h)(Object(y.f)({messageId:e,reason:I.a.RESUME_SESSION_FAILED})),Object(a.b)(i)}}function*L(){yield Object(r.m)(j.g,A)}function*w(){yield Object(r.m)(j.o,C)}function*k(){yield Object(r.m)(j.p,_)}function*P(){yield Object(r.m)(j.b,N)}function*U(){yield Object(r.m)(j.e,R)}function*F(){yield Object(r.m)(j.c,x)}function*M(){yield Object(r.m)(j.a,E)}function*B(){yield Object(r.m)(j.k,D)}function*z(){yield Object(r.m)(j.f,T)}function*W(){yield Object(r.b)([Object(r.g)(w),Object(r.g)(k),Object(r.g)(L),Object(r.g)(P),Object(r.g)(U),Object(r.g)(F),Object(r.g)(M),Object(r.g)(B),Object(r.g)(z)])}},1412:function(t,e,n){var r=n(186)("length");t.exports=r},1413:function(t,e){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",c="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+r+"|"+o+")"+"?",d="[\\ufe0e\\ufe0f]?"+s+("(?:\\u200d(?:"+[i,a,c].join("|")+")[\\ufe0e\\ufe0f]?"+s+")*"),l="(?:"+[i+r+"?",r,a,c,n].join("|")+")",u=RegExp(o+"(?="+o+")|"+l+d,"g");t.exports=function(t){for(var e=u.lastIndex=0;u.test(t);)++e;return e}},1415:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;!function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}e.default=t}(n(378));var r=c(n(1416)),o=c(n(1418)),i=c(n(315)),a=c(n(1012));n(1014);function c(t){return t&&t.__esModule?t:{default:t}}function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var d=function(t,e){return t&&e&&e.split(" ").forEach((function(e){return(0,r.default)(t,e)}))},l=function(t,e){return t&&e&&e.split(" ").forEach((function(e){return(0,o.default)(t,e)}))},u=function(t){var e,n;function r(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).onEnter=function(t,n){var r=e.getClassNames(n?"appear":"enter").className;e.removeClasses(t,"exit"),d(t,r),e.props.onEnter&&e.props.onEnter(t,n)},e.onEntering=function(t,n){var r=e.getClassNames(n?"appear":"enter").activeClassName;e.reflowAndAddClass(t,r),e.props.onEntering&&e.props.onEntering(t,n)},e.onEntered=function(t,n){var r=e.getClassNames("appear").doneClassName,o=e.getClassNames("enter").doneClassName,i=n?r+" "+o:o;e.removeClasses(t,n?"appear":"enter"),d(t,i),e.props.onEntered&&e.props.onEntered(t,n)},e.onExit=function(t){var n=e.getClassNames("exit").className;e.removeClasses(t,"appear"),e.removeClasses(t,"enter"),d(t,n),e.props.onExit&&e.props.onExit(t)},e.onExiting=function(t){var n=e.getClassNames("exit").activeClassName;e.reflowAndAddClass(t,n),e.props.onExiting&&e.props.onExiting(t)},e.onExited=function(t){var n=e.getClassNames("exit").doneClassName;e.removeClasses(t,"exit"),d(t,n),e.props.onExited&&e.props.onExited(t)},e.getClassNames=function(t){var n=e.props.classNames,r="string"===typeof n,o=r?(r&&n?n+"-":"")+t:n[t];return{className:o,activeClassName:r?o+"-active":n[t+"Active"],doneClassName:r?o+"-done":n[t+"Done"]}},e}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.removeClasses=function(t,e){var n=this.getClassNames(e),r=n.className,o=n.activeClassName,i=n.doneClassName;r&&l(t,r),o&&l(t,o),i&&l(t,i)},o.reflowAndAddClass=function(t,e){e&&(t&&t.scrollTop,d(t,e))},o.render=function(){var t=s({},this.props);return delete t.classNames,i.default.createElement(a.default,s({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},r}(i.default.Component);u.defaultProps={classNames:""},u.propTypes={};var f=u;e.default=f,t.exports=e.default},1416:function(t,e,n){"use strict";var r=n(484);e.__esModule=!0,e.default=function(t,e){t.classList?t.classList.add(e):(0,o.default)(t,e)||("string"===typeof t.className?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))};var o=r(n(1417));t.exports=e.default},1417:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")},t.exports=e.default},1418:function(t,e,n){"use strict";function r(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}t.exports=function(t,e){t.classList?t.classList.remove(e):"string"===typeof t.className?t.className=r(t.className,e):t.setAttribute("class",r(t.className&&t.className.baseVal||"",e))}},1419:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;a(n(378));var r=a(n(315)),o=n(401),i=a(n(1015));function a(t){return t&&t.__esModule?t:{default:t}}var c=function(t){var e,n;function a(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).handleEnter=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onEnter",0,n)},e.handleEntering=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onEntering",0,n)},e.handleEntered=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onEntered",0,n)},e.handleExit=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onExit",1,n)},e.handleExiting=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onExiting",1,n)},e.handleExited=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onExited",1,n)},e}n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var c=a.prototype;return c.handleLifecycle=function(t,e,n){var i,a=this.props.children,c=r.default.Children.toArray(a)[e];c.props[t]&&(i=c.props)[t].apply(i,n),this.props[t]&&this.props[t]((0,o.findDOMNode)(this))},c.render=function(){var t=this.props,e=t.children,n=t.in,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,["children","in"]),a=r.default.Children.toArray(e),c=a[0],s=a[1];return delete o.onEnter,delete o.onEntering,delete o.onEntered,delete o.onExit,delete o.onExiting,delete o.onExited,r.default.createElement(i.default,o,n?r.default.cloneElement(c,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):r.default.cloneElement(s,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},a}(r.default.Component);c.propTypes={};var s=c;e.default=s,t.exports=e.default},1420:function(t,e,n){"use strict";e.__esModule=!0,e.getChildMapping=o,e.mergeChildMappings=i,e.getInitialChildMapping=function(t,e){return o(t.children,(function(n){return(0,r.cloneElement)(n,{onExited:e.bind(null,n),in:!0,appear:a(n,"appear",t),enter:a(n,"enter",t),exit:a(n,"exit",t)})}))},e.getNextChildMapping=function(t,e,n){var c=o(t.children),s=i(e,c);return Object.keys(s).forEach((function(o){var i=s[o];if((0,r.isValidElement)(i)){var d=o in e,l=o in c,u=e[o],f=(0,r.isValidElement)(u)&&!u.props.in;!l||d&&!f?l||!d||f?l&&d&&(0,r.isValidElement)(u)&&(s[o]=(0,r.cloneElement)(i,{onExited:n.bind(null,i),in:u.props.in,exit:a(i,"exit",t),enter:a(i,"enter",t)})):s[o]=(0,r.cloneElement)(i,{in:!1}):s[o]=(0,r.cloneElement)(i,{onExited:n.bind(null,i),in:!0,exit:a(i,"exit",t),enter:a(i,"enter",t)})}})),s};var r=n(315);function o(t,e){var n=Object.create(null);return t&&r.Children.map(t,(function(t){return t})).forEach((function(t){n[t.key]=function(t){return e&&(0,r.isValidElement)(t)?e(t):t}(t)})),n}function i(t,e){function n(n){return n in e?e[n]:t[n]}t=t||{},e=e||{};var r,o=Object.create(null),i=[];for(var a in t)a in e?i.length&&(o[a]=i,i=[]):i.push(a);var c={};for(var s in e){if(o[s])for(r=0;r<o[s].length;r++){var d=o[s][r];c[o[s][r]]=n(d)}c[s]=n(s)}for(r=0;r<i.length;r++)c[i[r]]=n(i[r]);return c}function a(t,e,n){return null!=n[e]?n[e]:t.props[e]}},1431:function(t,e,n){var r=n(164),o=n(602),i=n(601),a=n(11);t.exports=function(){var t=arguments.length;if(!t)return[];for(var e=Array(t-1),n=arguments[0],c=t;c--;)e[c-1]=arguments[c];return r(a(n)?i(n):[n],o(e,1))}},1432:function(t,e,n){var r=n(756);t.exports=function(t){return r(t,4)}},1757:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var r=n(33);function o(t,e){return function(){return e.call(this,t.apply(this,arguments))}}var i=n(105),a=n(114),c=Object(i.a)(a.a),s=n(55);function d(t,e){return function(){var n=arguments.length;if(0===n)return e();var r=arguments[n-1];return Object(s.a)(r)||"function"!==typeof r[t]?e.apply(this,arguments):r[t].apply(r,Array.prototype.slice.call(arguments,0,n-1))}}var l=n(8),u=Object(i.a)(d("slice",(function(t,e,n){return Array.prototype.slice.call(n,t,e)}))),f=Object(l.a)(d("tail",u(1,1/0)));function p(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return Object(r.a)(arguments[0].length,c(o,arguments[0],f(arguments)))}var b=n(118),h=Object(l.a)((function(t){return Object(b.a)(t)?t.split("").reverse().join(""):Array.prototype.slice.call(t,0).reverse()}));function g(){if(0===arguments.length)throw new Error("compose requires at least one argument");return p.apply(this,h(arguments))}},1834:function(t,e,n){"use strict";var r=n(8),o=n(105),i=n(50),a=n(55),c=Number.isInteger||function(t){return t<<0===t},s=n(149),d=n(1390),l=Object(o.a)((function t(e,n,r){if(0===e.length)return n;var o=e[0];if(e.length>1){var l=!Object(d.a)(r)&&Object(i.a)(o,r)?r[o]:c(e[1])?[]:{};n=t(Array.prototype.slice.call(e,1),n,l)}if(c(o)&&Object(a.a)(r)){var u=[].concat(r);return u[o]=n,u}return Object(s.a)(o,n,r)})),u=n(150),f=n(148),p=Object(r.a)((function(t){return Object(u.a)(Object(f.a)(t),l(t))}));e.a=p},325:function(t,e,n){"use strict";n.d(e,"a",(function(){return o.n})),n.d(e,"b",(function(){return o.w})),n.d(e,"c",(function(){return o.m})),n.d(e,"d",(function(){return o.l})),n.d(e,"e",(function(){return o.A})),n.d(e,"f",(function(){return o.t})),n.d(e,"g",(function(){return o.k})),n.d(e,"h",(function(){return o.v})),n.d(e,"i",(function(){return o.u})),n.d(e,"j",(function(){return o.z})),n.d(e,"k",(function(){return o.y})),n.d(e,"l",(function(){return o.j})),n.d(e,"m",(function(){return f})),n.d(e,"n",(function(){return p})),n.d(e,"o",(function(){return b}));n(508),n(468);var r=n(803),o=n(363),i=(n(804),function(t){return{done:!0,value:t}}),a={};function c(t){return Object(r.b)(t)?"channel":Object(r.l)(t)?String(t):Object(r.d)(t)?t.name:String(t)}function s(t,e,n){var r,c,s,d=e;function l(e,n){if(d===a)return i(e);if(n&&!c)throw d=a,n;r&&r(e);var o=n?t[c](n):t[d]();return d=o.nextState,s=o.effect,r=o.stateUpdater,c=o.errorState,d===a?i(e):s}return Object(o.Q)(l,(function(t){return l(null,t)}),n)}function d(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a,d={done:!1,value:Object(o.j)(t)},l=function(t){return{done:!1,value:o.k.apply(void 0,[e].concat(r,[t]))}},u=function(t){return a=t};return s({q1:function(){return{nextState:"q2",effect:d,stateUpdater:u}},q2:function(){return{nextState:"q1",effect:l(a)}}},"q1","takeEvery("+c(t)+", "+e.name+")")}function l(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a,d,l={done:!1,value:Object(o.j)(t)},u=function(t){return{done:!1,value:o.k.apply(void 0,[e].concat(r,[t]))}},f=function(t){return{done:!1,value:Object(o.l)(t)}},p=function(t){return a=t},b=function(t){return d=t};return s({q1:function(){return{nextState:"q2",effect:l,stateUpdater:b}},q2:function(){return a?{nextState:"q3",effect:f(a)}:{nextState:"q1",effect:u(d),stateUpdater:p}},q3:function(){return{nextState:"q1",effect:u(d),stateUpdater:p}}},"q1","takeLatest("+c(t)+", "+e.name+")")}function u(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a,d={done:!1,value:Object(o.j)(t)},l=function(t){return{done:!1,value:o.m.apply(void 0,[e].concat(r,[t]))}},u=function(t){return a=t};return s({q1:function(){return{nextState:"q2",effect:d,stateUpdater:u}},q2:function(){return{nextState:"q1",effect:l(a)}}},"q1","takeLeading("+c(t)+", "+e.name+")")}function f(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return o.k.apply(void 0,[d,t,e].concat(r))}function p(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return o.k.apply(void 0,[l,t,e].concat(r))}function b(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return o.k.apply(void 0,[u,t,e].concat(r))}},331:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(315),o=n(415),i=n(320);const a=t=>{const e=Object(i.c)();return Object(r.useMemo)(()=>Object(o.b)(t,e),[t,e])}},342:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(3),o=n(4);class i{}i.getId=Object(r.a)(Object(o.a)("userId")),i.getName=t=>((t,e,n)=>{if(t)return t;return`${e||""}${n?" "+n:""}`})(Object(r.a)(Object(o.a)("fullName"))(t),Object(r.a)(Object(o.a)("firstName"))(t),Object(r.a)(Object(o.a)("lastName"))(t)),i.getFirstName=Object(r.a)(Object(o.a)("firstName")),i.getLastName=Object(r.a)(Object(o.a)("lastName")),i.getProfileImageUrl=Object(r.a)(Object(o.a)("profileImageUrl")),i.getEmail=Object(r.a)(Object(o.a)("email")),i.getPhoneNo=Object(r.a)(Object(o.a)("phoneNo"))},343:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(4),o=n(3);const i=Object(r.a)("field"),a=Object(r.a)("values"),c=Object(r.a)("filterType"),s=Object(r.a)("filters"),d=Object(r.a)("details"),l=Object(r.a)("id");class u{}u.getField=Object(o.a)(i),u.getValues=Object(o.a)(a),u.getFilterType=Object(o.a)(c),u.getFilters=Object(o.a)(s),u.getDetails=Object(o.a)(d),u.getId=Object(o.a)(l)},351:function(t,e,n){"use strict";n.d(e,"g",(function(){return c})),n.d(e,"h",(function(){return s})),n.d(e,"i",(function(){return d})),n.d(e,"e",(function(){return l})),n.d(e,"d",(function(){return u})),n.d(e,"f",(function(){return f})),n.d(e,"s",(function(){return p})),n.d(e,"p",(function(){return b})),n.d(e,"B",(function(){return h})),n.d(e,"A",(function(){return g})),n.d(e,"w",(function(){return O})),n.d(e,"u",(function(){return y})),n.d(e,"v",(function(){return m})),n.d(e,"x",(function(){return j})),n.d(e,"y",(function(){return v})),n.d(e,"o",(function(){return I})),n.d(e,"l",(function(){return E})),n.d(e,"n",(function(){return C})),n.d(e,"E",(function(){return _})),n.d(e,"C",(function(){return S})),n.d(e,"D",(function(){return T})),n.d(e,"F",(function(){return A})),n.d(e,"z",(function(){return N})),n.d(e,"k",(function(){return R})),n.d(e,"b",(function(){return x})),n.d(e,"a",(function(){return D})),n.d(e,"q",(function(){return L})),n.d(e,"c",(function(){return w})),n.d(e,"r",(function(){return k})),n.d(e,"m",(function(){return P})),n.d(e,"j",(function(){return U})),n.d(e,"t",(function(){return F}));var r=n(356),o=n(503),i=n(609),a=n(335);const c=({shouldFetchNumberOfOpenConversation:t=!1,size:e,cursor:n}={})=>({payload:{shouldFetchNumberOfOpenConversation:t,size:e,cursor:n},type:r.f}),s=(t,{cursor:e,size:n})=>o=>({payload:{conversationId:t,cursor:e,size:n},type:r.l,promise:o}),d=(t,e,n)=>o=>({payload:{conversationId:t,query:e,faqAttachment:n},type:r.A,promise:o}),l=({conversationId:t,includeAll:e})=>n=>({payload:{conversationId:t,includeAll:e},type:r.i,promise:n}),u=({conversationId:t,includeAll:e})=>n=>({payload:{conversationId:t,includeAll:e},type:r.h,promise:n}),f=t=>({type:r.j,payload:t}),p=t=>e=>({payload:{conversationId:t},type:r.o,promise:e}),b=t=>({type:r.H,payload:{chatMessage:t,conversationId:a.a.getConversationId(t)}}),h=({text:t,conversationId:e,sender:n,disableManualResponse:o,inReplyToChatMessageId:i})=>({type:r.Z,payload:{text:t,conversationId:e,sender:n,disableManualResponse:o,inReplyToChatMessageId:i}}),g=({postback:t,conversationId:e,sender:n,inReplyToChatMessageId:o})=>i=>({type:r.Y,payload:{postback:t,conversationId:e,sender:n,inReplyToChatMessageId:o},promise:i}),O=t=>({type:r.z,payload:t}),y=({action:t,conversationId:e})=>{const n=Object(i.a)(t.actionId,t.attachment);return O({type:o.a,payload:{contextId:e,actionId:n.params,actionPayload:t.values}})},m=({action:t,conversationId:e})=>{const n=Object(i.a)(t.actionId,t.attachment);return O({type:o.b,payload:{contextId:e,actionId:n.params,actionPayload:t.values}})},j=({id:t,conversationId:e,messageId:n})=>O({type:o.e,payload:{id:t,contextId:e,sprMsgId:n}}),v=({id:t,conversationId:e,messageId:n})=>O({type:o.g,payload:{id:t,contextId:e,sprMsgId:n}}),I=({attachment:t,actionId:e})=>n=>{const o=Object(i.a)(e,t);return{type:r.Q,payload:{url:o.url},promise:n}},E=({attachment:t,actionId:e})=>n=>{const o=Object(i.a)(e,t);return{type:r.p,payload:{phoneNumber:o.phoneNumber},promise:n}},C=({surveyUrl:t,shouldReplace:e,conversationId:n})=>({type:r.U,payload:{surveyUrl:t,shouldReplace:e,conversationId:n}}),_=()=>({type:r.W,payload:{}}),S=()=>({type:r.T,payload:{}}),T=()=>({type:r.X,payload:{}}),A=({actionParams:t,conversationId:e,sender:n,appContext:o,inReplyToChatMessageId:a})=>c=>({type:r.c,payload:{actionParams:Object.assign({},t,{actionTypes:Object(i.b)(t)}),conversationId:e,sender:n,appContext:o,inReplyToChatMessageId:a},promise:c}),N=({postback:t,conversationId:e,sender:n,inReplyToChatMessageId:o})=>({type:r.R,payload:{postback:t,conversationId:e,sender:n,inReplyToChatMessageId:o}}),R=(t,e)=>n=>({type:r.K,payload:{conversationId:t,appContext:e},promise:n}),x=t=>({type:r.v,payload:{conversationId:t}}),D=(t,e,n)=>({type:r.s,payload:{conversationId:e,caseId:t,context:n}}),L=(t,e)=>({type:r.D,payload:{chatMessage:t,conversationId:a.a.getConversationId(t),alternateUserIds:e}}),w=(t,e)=>n=>({type:r.q,payload:{conversationId:t,disclaimerStatus:e},promise:n}),k=(t,e)=>({type:r.E,payload:{chatMessageId:e,conversationId:t}});function P(t,e){return{type:r.O,payload:{conversationId:t,lastReadMessageId:e}}}function U(){return{type:r.B,payload:{}}}const F=(t,e,n,o)=>i=>({type:r.S,payload:{query:t,pageSize:e,pageNum:n,sortKey:o},promise:i})},357:function(t,e,n){"use strict";n.d(e,"a",(function(){return E}));var r=n(154),o=n.n(r),i=n(4),a=n(3),c=n(1757);const s=Object(i.a)("otherConfigs"),d=Object(i.a)("workQueueId"),l=Object(i.a)("cards"),u=Object(i.a)("partnerId"),f=Object(i.a)("name"),p=Object(i.a)("id"),b=Object(i.a)("accountUserId"),h=Object(i.a)("filter"),g=Object(i.a)("visibilityConfig"),O=Object(i.a)("noDisplayConfig"),y=Object(i.a)("triggerAnimationConfig"),m=Object(i.a)("defaultLocale"),j=Object(i.a)("supportedLocales"),v=Object(i.a)("callConfiguration"),I=Object(i.a)("autoExpireUserSessionTimeInMinutes");class E{}E.getCustomizationConfig=Object(a.a)(s),E.getWorkQueueId=Object(a.a)(d),E.getCards=Object(a.a)(l),E.getParnterId=Object(a.a)(u),E.getAppId=Object(a.a)(p),E.getAccountUserId=Object(a.a)(b),E.getVisibilityConfigFilter=Object(c.a)(Object(a.a)(h),Object(a.a)(g)),E.getNoDisplayConfigFilter=Object(c.a)(Object(a.a)(h),Object(a.a)(O)),E.getTriggerAnimationConfigFilter=Object(c.a)(Object(a.a)(h),Object(a.a)(y)),E.getDefaultLocale=Object(a.a)(m),E.getSupportedLocales=Object(a.a)(j),E.getAccountDisplayName=Object(a.a)(f),E.getCallConfiguration=Object(a.a)(v),E.getAutoExpireUserSessionTimeInMinutes=Object(a.a)(I),E.getAudioCallConfiguration=t=>{const e=E.getCallConfiguration(t);return o()(e,"audioConfig")||t.audioChatConfiguration},E.getVideoCallConfiguration=t=>{const e=E.getCallConfiguration(t);return o()(e,"videoConfig")||t.videoChatConfiguration},E.getCallAccountId=t=>{const e=E.getCallConfiguration(t);return o()(e,"accountId")||t.videoChatProviderAccountId}},363:function(t,e,n){"use strict";n.d(e,"a",(function(){return P})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return F})),n.d(e,"d",(function(){return v})),n.d(e,"e",(function(){return d})),n.d(e,"f",(function(){return B})),n.d(e,"g",(function(){return H})),n.d(e,"h",(function(){return L})),n.d(e,"i",(function(){return z})),n.d(e,"j",(function(){return X})),n.d(e,"k",(function(){return rt})),n.d(e,"l",(function(){return it})),n.d(e,"m",(function(){return nt})),n.d(e,"n",(function(){return ct})),n.d(e,"o",(function(){return k})),n.d(e,"p",(function(){return x})),n.d(e,"q",(function(){return U})),n.d(e,"r",(function(){return G})),n.d(e,"s",(function(){return w})),n.d(e,"t",(function(){return dt})),n.d(e,"u",(function(){return tt})),n.d(e,"v",(function(){return Q})),n.d(e,"w",(function(){return Z})),n.d(e,"x",(function(){return M})),n.d(e,"y",(function(){return ot})),n.d(e,"z",(function(){return at})),n.d(e,"A",(function(){return st})),n.d(e,"B",(function(){return W})),n.d(e,"C",(function(){return l})),n.d(e,"D",(function(){return V})),n.d(e,"E",(function(){return D})),n.d(e,"F",(function(){return $})),n.d(e,"G",(function(){return K})),n.d(e,"H",(function(){return Y})),n.d(e,"I",(function(){return m})),n.d(e,"J",(function(){return S})),n.d(e,"K",(function(){return c})),n.d(e,"L",(function(){return _})),n.d(e,"M",(function(){return j})),n.d(e,"N",(function(){return R})),n.d(e,"O",(function(){return b})),n.d(e,"P",(function(){return u})),n.d(e,"Q",(function(){return O})),n.d(e,"R",(function(){return p})),n.d(e,"S",(function(){return C})),n.d(e,"T",(function(){return s})),n.d(e,"U",(function(){return f})),n.d(e,"V",(function(){return T})),n.d(e,"W",(function(){return E})),n.d(e,"X",(function(){return I}));var r=n(508),o=n(468),i=n(803),a=n(804),c=function(t){return function(){return t}}(!0),s=function(){};var d=function(t){return t};"function"===typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;function l(t,e,n){if(!e(t))throw new Error(n)}var u=function(t,e){Object(o.a)(t,e),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach((function(n){t[n]=e[n]}))},f=function(t,e){var n;return(n=[]).concat.apply(n,e.map(t))};function p(t,e){var n=t.indexOf(e);n>=0&&t.splice(n,1)}function b(t){var e=!1;return function(){e||(e=!0,t())}}var h=function(t){throw t},g=function(t){return{value:t,done:!0}};function O(t,e,n){void 0===e&&(e=h),void 0===n&&(n="iterator");var r={meta:{name:n},next:t,throw:e,return:g,isSagaIterator:!0};return"undefined"!==typeof Symbol&&(r[Symbol.iterator]=function(){return r}),r}function y(t,e){var n=e.sagaStack;console.error(t),console.error(n)}var m=function(t){return new Error("\n  redux-saga: Error checking hooks detected an inconsistent state. This is likely a bug\n  in redux-saga code and not yours. Thanks for reporting this in the project's github repo.\n  Error: "+t+"\n")},j=function(t){return Array.apply(null,new Array(t))},v=function(t){return function(e){return t(Object.defineProperty(e,r.f,{value:!0}))}},I=function(t){return t===r.k},E=function(t){return t===r.j},C=function(t){return I(t)||E(t)};function _(t,e){var n=Object.keys(t),r=n.length;var o,a=0,c=Object(i.a)(t)?j(r):{},d={};return n.forEach((function(t){var n=function(n,i){o||(i||C(n)?(e.cancel(),e(n,i)):(c[t]=n,++a===r&&(o=!0,e(c))))};n.cancel=s,d[t]=n})),e.cancel=function(){o||(o=!0,n.forEach((function(t){return d[t].cancel()})))},d}function S(t){return{name:t.name||"anonymous",location:T(t)}}function T(t){return t[r.g]}var A={isEmpty:c,put:s,take:s};function N(t,e){void 0===t&&(t=10);var n=new Array(t),r=0,o=0,i=0,a=function(e){n[o]=e,o=(o+1)%t,r++},c=function(){if(0!=r){var e=n[i];return n[i]=null,r--,i=(i+1)%t,e}},s=function(){for(var t=[];r;)t.push(c());return t};return{isEmpty:function(){return 0==r},put:function(c){var d;if(r<t)a(c);else switch(e){case 1:throw new Error("Channel's Buffer overflow!");case 3:n[o]=c,i=o=(o+1)%t;break;case 4:d=2*t,n=s(),r=n.length,o=n.length,i=0,n.length=d,t=d,a(c)}},take:c,flush:s}}var R=function(){return A},x=function(t){return N(t,3)},D=function(t){return N(t,4)},L=Object.freeze({__proto__:null,none:R,fixed:function(t){return N(t,1)},dropping:function(t){return N(t,2)},sliding:x,expanding:D}),w="TAKE",k="PUT",P="ALL",U="RACE",F="CALL",M="CPS",B="FORK",z="JOIN",W="CANCEL",G="SELECT",V="ACTION_CHANNEL",$="CANCELLED",K="FLUSH",H="GET_CONTEXT",Y="SET_CONTEXT",q=function(t,e){var n;return(n={})[r.c]=!0,n.combinator=!1,n.type=t,n.payload=e,n},J=function(t){return q(B,Object(o.a)({},t.payload,{detached:!0}))};function X(t,e){return void 0===t&&(t="*"),Object(i.i)(t)?q(w,{pattern:t}):Object(i.f)(t)&&Object(i.g)(e)&&Object(i.i)(e)?q(w,{channel:t,pattern:e}):Object(i.b)(t)?q(w,{channel:t}):void 0}function Q(t,e){return Object(i.n)(e)&&(e=t,t=void 0),q(k,{channel:t,action:e})}function Z(t){var e=q(P,t);return e.combinator=!0,e}function tt(t){var e=q(U,t);return e.combinator=!0,e}function et(t,e){var n,r=null;return Object(i.d)(t)?n=t:(Object(i.a)(t)?(r=t[0],n=t[1]):(r=t.context,n=t.fn),r&&Object(i.k)(n)&&Object(i.d)(r[n])&&(n=r[n])),{context:r,fn:n,args:e}}function nt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return q(F,et(t,n))}function rt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return q(B,et(t,n))}function ot(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return J(rt.apply(void 0,[t].concat(n)))}function it(t){return void 0===t&&(t=r.h),q(W,t)}function at(t){void 0===t&&(t=d);for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return q(G,{selector:t,args:n})}function ct(t,e){return q(V,{pattern:t,buffer:e})}function st(){return q($,{})}var dt=nt.bind(null,a.a)},377:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(315);const o=t=>Object(r.useCallback)(e=>{t.forEach(t=>{t&&("function"===typeof t?t(e):t.current=e)})},[t])},391:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(3),o=n(4),i=n(1757);class a{}a.getAnonymousId=Object(r.a)(Object(o.a)("anonymousId")),a.getAnonymousInbox=Object(r.a)(Object(o.a)("anonymousInbox")),a.getChatSessionToken=Object(r.a)(Object(o.a)("chatSessionToken")),a.getChatUser=Object(r.a)(Object(o.a)("chatUser")),a.getBotUsers=Object(r.a)(Object(o.a)("botUsers")),a.getInboxServerUrl=Object(r.a)(Object(o.a)("inboxServerUrl")),a.getLiveStreamInboxServerUrl=Object(r.a)(Object(o.a)("liveStreamServerUrl")),a.getUserInbox=Object(r.a)(Object(o.a)("userInbox")),a.getLiveStreamInbox=Object(r.a)(Object(o.a)("liveStreamInbox")),a.getProactiveInboxServerUrl=Object(r.a)(Object(o.a)("proactivePromptInboxServerUrl")),a.getProactiveUserInbox=Object(r.a)(Object(o.a)("proactiveUserInbox")),a.getAgentAvailabilityDetails=Object(r.a)(Object(o.a)("agentAvailabilityDetails")),a.getNoOfAgentsAvailable=Object(i.a)(Object(r.a)(Object(o.a)("noOfAgentsAvailable")),Object(r.a)(Object(o.a)("agentAvailabilityDetails"))),a.getNumberOfPendingCases=Object(i.a)(Object(r.a)(Object(o.a)("numberOfPendingCases")),Object(r.a)(Object(o.a)("agentAvailabilityDetails"))),a.getTimeToAvailability=Object(r.a)(Object(o.a)("timeToAvailability")),a.getNumberOfOpenConversations=Object(i.a)(Object(r.a)(Object(o.a)("noOfOpenConversations")),Object(r.a)(Object(o.a)("filterStats"))),a.getUserPreferences=Object(r.a)(Object(o.a)("userPreferences")),a.getCobrowsingDetails=Object(r.a)(Object(o.a)("coBrowsingDetails")),a.getLiveStreamEvent=Object(r.a)(Object(o.a)("liveStreamEvent")),a.getUserIPDetails=Object(r.a)(Object(o.a)("userIPDetails"))},402:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"d",(function(){return a})),n.d(e,"g",(function(){return c})),n.d(e,"f",(function(){return s})),n.d(e,"h",(function(){return d})),n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return u})),n.d(e,"e",(function(){return f}));var r=n(403),o=n(674);const i=({ssoId:t,conversationId:e,messageId:n})=>o=>({type:r.d,payload:{ssoId:t,conversationId:e,messageId:n},promise:o});function a(){return{type:r.i,payload:{}}}function c(t){return{type:r.f,payload:{status:t?o.a.CONNECTED:o.a.DISCONNECTED}}}function s({waitTime:t,reason:e}){return{type:r.k,payload:{waitTime:t,reason:e}}}function d(){return{type:r.n,payload:{}}}function l(t){return{type:r.h,payload:t}}function u(){return{type:r.g,payload:{}}}function f(){return{type:r.j,payload:{}}}},404:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r={CONVERSATION_WINDOW_OPENED:{id:"CONVERSATION_WINDOW_OPENED",label:"Conversation window opened"},CONVERSATION_WINDOW_OPENED_FROM_JS_SDK:{id:"CONVERSATION_WINDOW_OPENED_FROM_JS_SDK",label:"Conversation window opened from JS SDK"},CONVERSATION_WINDOW_CLOSED:{id:"CONVERSATION_WINDOW_CLOSED",label:"Conversation window closed"},CONVERSATION_WINDOW_CLOSED_FROM_JS_SDK:{id:"CONVERSATION_WINDOW_CLOSED_FROM_JS_SDK",label:"Conversation window closed from JS SDK"},CONVERSATION_EXPORTED:{id:"CONVERSATION_EXPORTED",label:"Conversation exported"},CONVERSATION_DELETED:{id:"CONVERSATION_DELETED",label:"Conversation deleted"},CONVERSATION_CLOSED:{id:"CONVERSATION_CLOSED",label:"Conversation closed"},CONVERSATIONS_DELETED:{id:"CONVERSATIONS_DELETED",label:"Conversations deleted"},CONVERSATIONS_CLOSED:{id:"CONVERSATIONS_CLOSED",label:"Conversations closed"},NEW_CONVERSATION_STARTED:{id:"NEW_CONVERSATION_STARTED",label:"New conversation started"},NEW_CONVERSATION_STARTED_FROM_JS_SDK:{id:"NEW_CONVERSATION_STARTED_FROM_JS_SDK",label:"New conversation started from JS SDK"},EXISTING_CONVERSATION_OPENED:{id:"EXISTING_CONVERSATION_OPENED",label:"Existing conversation opened"},TRIGGER_VISIBLE:{id:"TRIGGER_VISIBLE",label:"Trigger visible"},BUTTON_CLICKED:{id:"BUTTON_CLICKED",label:"Button clicked"},AGENT_ASSIGNED:{id:"AGENT_ASSIGNED",label:"Assignment changed"},VIDEO_CALL_OUTGOING_STARTING:{id:"VIDEO_CALL_OUTGOING_STARTING",label:"Video call outgoing starting"},AUDIO_CALL_OUTGOING_STARTING:{id:"AUDIO_CALL_OUTGOING_STARTING",label:"Audio call outgoing starting"},VIDEO_CALL_CARD_CTA_CLICKED:{id:"VIDEO_CALL_CARD_CTA_CLICKED",label:"CTA clicked from video call card"},AUDIO_CALL_CARD_CTA_CLICKED:{id:"AUDIO_CALL_CARD_CTA_CLICKED",label:"CTA clicked from audio call card"},VIDEO_CALL_LAUNCH_CLICKED:{id:"VIDEO_CALL_LAUNCH_CLICKED",label:"Video call launch clicked"},AUDIO_CALL_LAUNCH_CLICKED:{id:"AUDIO_CALL_LAUNCH_CLICKED",label:"Audio call launch clicked"},VIDEO_CALL_LAUNCHED:{id:"VIDEO_CALL_LAUNCHED",label:"Video call launched"},AUDIO_CALL_LAUNCHED:{id:"AUDIO_CALL_LAUNCHED",label:"Audio call launched"},CONVERSATION_BACK_PRESSED:{id:"CONVERSATION_BACK_PRESSED",label:"Conversation back pressed"},CONVERSATION_LIST_BACK_PRESSED:{id:"CONVERSATION_LIST_BACK_PRESSED",label:"Conversation list back pressed"},SURVEY_BACK_PRESSED:{id:"SURVEY_BACK_PRESSED",label:"Survey back pressed"},VIDEO_CALL_JOIN_CTA_CLICKED:{id:"VIDEO_CALL_JOIN_CTA_CLICKED",label:"Video call join CTA clicked"},VIDEO_CALL_JOIN_BACK_CTA_CLICKED:{id:"VIDEO_CALL_JOIN_BACK_CTA_CLICKED",label:"Video call join back CTA clicked"},AUDIO_CALL_JOIN_CTA_CLICKED:{id:"AUDIO_CALL_JOIN_CTA_CLICKED",label:"Audio call join CTA clicked"},AUDIO_CALL_JOIN_BACK_CTA_CLICKED:{id:"AUDIO_CALL_JOIN_BACK_CTA_CLICKED",label:"Audio call join back CTA clicked"},VIDEO_CALL_END_CLICKED:{id:"VIDEO_CALL_END_CLICKED",label:"Video call end clicked"},AUDIO_CALL_END_CLICKED:{id:"AUDIO_CALL_END_CLICKED",label:"Audio call end clicked"},INFO_CARD_OPENED:{id:"INFO_CARD_OPENED",label:"Info card opened"},INFO_CARD_CLOSED:{id:"INFO_CARD_CLOSED",label:"Info card closed"},USER_PROFILE_UPDATED:{id:"USER_PROFILE_UPDATED",label:"User Profile Updated"}}},419:function(t,e,n){"use strict";e.a={TOTAL_TIME_SPENT:"browsingSession.timeSpentOnSite",ACTIVE_TIME_SPENT:"browsingSession.timeFocusedOnSite",HORIZONTAL_PAGE_SCROLL_DEPTH:"browsingSession.horizontalPageScrollDepth",VERTICAL_PAGE_SCROLL_DEPTH:"browsingSession.verticalPageScrollDepth",INACTIVE_TIME_SPENT:"",DEVICE_TYPE:"userInfo.deviceType",TIME_SPENT_ON_SESSION:"browsingSession.timeSpentOnSession",USER_AGENT:"userInfo.userAgent",CURRENT_URL:"browsingSession.currentURL",INTERCEPT_ENGAGED_IN_SESSION_KEY:"intercept.engaged.in.session.key",INTERCEPT_CLOSED_IN_SESSION_KEY:"intercept.closed.in.session.key",DEPENDENT_DURATION_KEY:"dependant.duration.key",PAGE_REFERRER:"browsingSession.pageReferrer",BUSINESS_HOURS:"BUSINESS_HOURS",AVAILABLE_AGENTS:"AVAILABLE_AGENTS",AGENT_OUT_OF_CAPACITY:"AGENT_OUT_OF_CAPACITY",IS_CONVERSATION_OPEN:"IS_CONVERSATION_OPEN",USER_IP_DETAILS_COUNTRY:"userIPDetails.countryLong",USER_IP_DETAILS_CITY:"userIPDetails.city",USER_IP_DETAILS_REGION:"userIPDetails.region",NUM_SNOOZE_ALLOWED:"NUM_SNOOZE_ALLOWED"}},421:function(t,e,n){"use strict";var r=n(351);n.d(e,"a",(function(){return r.f})),n.d(e,"b",(function(){return r.g})),n.d(e,"c",(function(){return r.h})),n.d(e,"d",(function(){return r.l})),n.d(e,"e",(function(){return r.n})),n.d(e,"f",(function(){return r.o})),n.d(e,"g",(function(){return r.q})),n.d(e,"h",(function(){return r.r})),n.d(e,"i",(function(){return r.u})),n.d(e,"j",(function(){return r.v})),n.d(e,"k",(function(){return r.w})),n.d(e,"l",(function(){return r.x})),n.d(e,"m",(function(){return r.y})),n.d(e,"n",(function(){return r.z})),n.d(e,"o",(function(){return r.A})),n.d(e,"p",(function(){return r.C})),n.d(e,"q",(function(){return r.D})),n.d(e,"r",(function(){return r.E})),n.d(e,"s",(function(){return r.F}));n(806)},437:function(t,e,n){"use strict";n.d(e,"q",(function(){return r})),n.d(e,"p",(function(){return o})),n.d(e,"m",(function(){return i})),n.d(e,"j",(function(){return a})),n.d(e,"h",(function(){return c})),n.d(e,"i",(function(){return s})),n.d(e,"r",(function(){return d})),n.d(e,"o",(function(){return l})),n.d(e,"s",(function(){return u})),n.d(e,"k",(function(){return f})),n.d(e,"d",(function(){return p})),n.d(e,"c",(function(){return b})),n.d(e,"g",(function(){return h})),n.d(e,"f",(function(){return g})),n.d(e,"b",(function(){return O})),n.d(e,"e",(function(){return y})),n.d(e,"l",(function(){return m})),n.d(e,"n",(function(){return j})),n.d(e,"a",(function(){return v}));const r="NEW_MESSAGE",o="MESSAGE_UPDATED",i="EXTERNAL_EVENT",a="CHAT_USER_UPDATED",c="CHAT_USER_START_TYPING",s="CHAT_USER_STOP_TYPING",d="UI_CONTROL",l="LOCK_CONVERSATIONS",u="UNLOCK_CONVERSATIONS",f="CONVERSATION_UPDATED",p="VIDEO_CALL_STARTING",b="VIDEO_CALL_ENDED",h="VIDEO_CALL_TOGGLE",g="VIDEO_CALL_OFFER_ACCEPTED",O="VIDEO_CALL_DECLINED",y="VIDEO_CALL_MISSED",m="CO_BROWSE_STATUS",j="LIVE_CHAT_ASSIGNMENT_CHANGED",v="ADD_TO_CART"},470:function(t,e,n){var r=n(608),o=n(988),i=n(782),a=n(678),c=r((function(t,e){var n=a(e,i(c));return o(t,32,void 0,e,n)}));c.placeholder={},t.exports=c},472:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"f",(function(){return a})),n.d(e,"k",(function(){return c})),n.d(e,"c",(function(){return s})),n.d(e,"h",(function(){return d})),n.d(e,"x",(function(){return l})),n.d(e,"l",(function(){return u})),n.d(e,"m",(function(){return f})),n.d(e,"n",(function(){return p})),n.d(e,"d",(function(){return b})),n.d(e,"g",(function(){return h})),n.d(e,"t",(function(){return g})),n.d(e,"u",(function(){return O})),n.d(e,"p",(function(){return y})),n.d(e,"v",(function(){return m})),n.d(e,"i",(function(){return j})),n.d(e,"w",(function(){return v})),n.d(e,"q",(function(){return I})),n.d(e,"r",(function(){return E})),n.d(e,"s",(function(){return C})),n.d(e,"o",(function(){return _})),n.d(e,"e",(function(){return S})),n.d(e,"j",(function(){return T}));var r=n(785);function o(t){return{type:r.e,payload:t}}function i(t){return{type:r.f,payload:t}}function a(t){return{type:r.l,payload:t}}function c(t){return{type:r.t,payload:t}}function s(t){return{type:r.g,payload:t}}function d(t){return{type:r.n,payload:t}}function l(t){return{type:r.x,payload:t}}function u(t){return{type:r.b,payload:t}}function f(t){return{type:r.c,payload:t}}function p(t){return{type:r.d,payload:t}}function b(t){return{type:r.h,payload:t}}function h(t){return{type:r.m,payload:t}}function g(t){return{type:r.k,payload:t}}function O(t){return{type:r.s,payload:t}}function y(t){return{type:r.u,payload:t}}function m(t){return{type:r.a,payload:t}}function j(t){return{type:r.o,payload:t}}function v(t){return{type:r.v,payload:t}}function I(t){return{type:r.i,payload:t}}function E(t){return{type:r.p,payload:t}}function C(t){return{type:r.q,payload:t}}function _(t){return{type:r.w,payload:t}}function S(t){return{type:r.j,payload:t}}function T(t){return{type:r.r,payload:t}}},484:function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.default=t.exports,t.exports.__esModule=!0},487:function(t,e,n){"use strict";n.d(e,"a",(function(){return g})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return m}));var r=n(362),o=n(325),i=n(346),a=n.n(i),c=n(154),s=n.n(c),d=n(356),l=n(335),u=n(371),f=n(405),p=n(322),b=n(510),h=n(351);function*g(t){Object(f.k)(t)&&(yield Object(o.h)(Object(h.p)(t)))}function O(t){return r.__awaiter(this,void 0,void 0,(function*(){let e=t;Object(f.j)(t)||(e=a()(t,"id"));return yield Object(b.r)(e)}))}function*y(t){try{return yield Object(o.c)(O,t)}catch(e){return void Object(p.b)(e)}}function*m(t){const e=t.id,n=l.a.getConversationId(t);let r;const i=s()(u.a.getAttachment(l.a.getMessagePayload(t)),"messageId");try{r=yield Object(o.c)(O,t)}catch(a){throw yield Object(o.h)({type:d.I,payload:{chatMessage:new l.a(t).setCreationTime(Date.now()).build(),conversationId:l.a.getConversationId(t)}}),yield Object(o.h)({payload:{conversationId:n,transientId:e,postbackParentMessageId:i},type:d.F}),a}Object(f.k)(r)&&(yield Object(o.h)({payload:{chatMessage:r,conversationId:n,transientId:e},type:d.G}))}},505:function(t,e,n){"use strict";e.a={AND:"AND",OR:"OR",LT:"LT",LTE:"LTE",GT:"GT",GTE:"GTE",EQUALS:"EQUALS",NOT_EQUALS:"NOT_EQUALS",REGEX:"REGEX",IN:"IN",CONTAINS:"CONTAINS",NIN:"NIN"}},506:function(t,e,n){"use strict";var r=c(n(1415)),o=c(n(1419)),i=c(n(1015)),a=c(n(1012));function c(t){return t&&t.__esModule?t:{default:t}}t.exports={Transition:a.default,TransitionGroup:i.default,ReplaceTransition:o.default,CSSTransition:r.default}},508:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return c})),n.d(e,"e",(function(){return s})),n.d(e,"f",(function(){return d})),n.d(e,"g",(function(){return b})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return u})),n.d(e,"j",(function(){return f})),n.d(e,"k",(function(){return p}));var r=function(t){return"@@redux-saga/"+t},o=r("CANCEL_PROMISE"),i=r("CHANNEL_END"),a=r("IO"),c=r("MATCH"),s=r("MULTICAST"),d=r("SAGA_ACTION"),l=r("SELF_CANCELLATION"),u=r("TASK"),f=r("TASK_CANCEL"),p=r("TERMINATE"),b=r("LOCATION")},509:function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));const r=new(n(1276).a)({middlewares:[],getContext:()=>Promise.resolve({})}),o=t=>{r.clone(t)};e.a=r},510:function(t,e,n){"use strict";n.d(e,"e",(function(){return b})),n.d(e,"s",(function(){return h})),n.d(e,"i",(function(){return g})),n.d(e,"h",(function(){return O})),n.d(e,"g",(function(){return y})),n.d(e,"b",(function(){return m})),n.d(e,"a",(function(){return j})),n.d(e,"d",(function(){return v})),n.d(e,"c",(function(){return I})),n.d(e,"u",(function(){return E})),n.d(e,"k",(function(){return C})),n.d(e,"r",(function(){return _})),n.d(e,"f",(function(){return S})),n.d(e,"q",(function(){return T})),n.d(e,"m",(function(){return A})),n.d(e,"j",(function(){return N})),n.d(e,"v",(function(){return R})),n.d(e,"t",(function(){return x})),n.d(e,"n",(function(){return D})),n.d(e,"p",(function(){return L})),n.d(e,"l",(function(){return w})),n.d(e,"o",(function(){return k}));var r=n(362),o=n(350),i=n.n(o),a=n(96),c=n.n(a),s=n(367),d=n.n(s),l=n(412),u=n.n(l),f=n(509);const p="/livechat/conversation";function b({shouldFetchNumberOfOpenConversation:t,size:e,cursor:n}){return r.__awaiter(this,void 0,void 0,(function*(){let r=`${p}/fetch?fetchNumberOfOpenConversations=${t}&sortKey=lastInteractionTime`;e&&(r=`${r}&size=${e}`),n&&n.after&&(r=`${r}&after=${n.after}`),n&&n.before&&(r=`${r}&before=${n.before}`);return(yield f.a.get(r)).data}))}function h(t,e,n){return r.__awaiter(this,void 0,void 0,(function*(){let r;r=u()(n)?"data="+encodeURIComponent(n):c()(n,(t,e)=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`).join("&");const o=[...Object.keys(e),"Content-type"];return(yield f.a.post(t,r,{headers:Object.assign({},e,{"Content-Type":"application/x-www-form-urlencoded"}),baseURL:"",transformRequest:(t,e)=>(i()(e,(t,n)=>{d()(o,n)||delete e[n]}),t)})).data}))}function g(t){return r.__awaiter(this,void 0,void 0,(function*(){return(yield f.a.get(`${p}/fetch/${t}`)).data}))}function O(t){return r.__awaiter(this,void 0,void 0,(function*(){return(yield f.a.get(`${p}/fetch/case/${t}`)).data}))}function y(t,{size:e,cursor:n}){return r.__awaiter(this,void 0,void 0,(function*(){const r=[{key:"conversationId",value:t}];e&&r.push({key:"size",value:e}),n&&r.push({key:"cursor",value:n});const o=r.map(t=>`${t.key}=${t.value}`).join("&");return(yield f.a.get(`${p}/fetchMessages?${o}`)).data}))}function m(t){return r.__awaiter(this,void 0,void 0,(function*(){return(yield f.a.post(`${p}/closeConversation?conversationId=${t}`)).data}))}function j(){return r.__awaiter(this,void 0,void 0,(function*(){return(yield f.a.post(p+"/closeAll")).data}))}function v(t){return r.__awaiter(this,void 0,void 0,(function*(){return(yield f.a.post(`${p}/delete?conversationId=${t}`)).data}))}function I(){return r.__awaiter(this,void 0,void 0,(function*(){return(yield f.a.post(p+"/deleteAll")).data}))}function E(t,e){return r.__awaiter(this,void 0,void 0,(function*(){return(yield f.a.post(`${p}/updateDisclaimer/${t}?disclaimerStatus=${e}`)).data}))}function C(t,e){return r.__awaiter(this,void 0,void 0,(function*(){const n={conversationId:t,messageId:e};return(yield f.a.get(p+"/fetchMessage",{params:n,backoff:!0})).data}))}function _(t){return r.__awaiter(this,void 0,void 0,(function*(){return(yield f.a.post(p+"/send",t)).data}))}function S(t){return r.__awaiter(this,void 0,void 0,(function*(){return(yield f.a.post("/livechat/appointment/slots",{slotDefinitionId:t.slotDefinitionId,startTime:t.selectedDate.getTime(),timeZone:t.timeZone,params:t.appointmentAssetParams,messageId:t.messageId})).data}))}function T(t){return r.__awaiter(this,void 0,void 0,(function*(){return(yield f.a.post("/livechat/appointment/reserve",{startTime:t.selectedDate.getTime(),selectedSlot:t.selectedSlot,slotDefinitionId:t.slotDefinitionId,timeZone:t.timeZone,params:t.appointmentAssetParams,messageId:t.messageId})).data}))}function A(t){return r.__awaiter(this,void 0,void 0,(function*(){return(yield f.a.post(p+"/new",t)).data}))}function N(t,e,n){return r.__awaiter(this,void 0,void 0,(function*(){return(yield f.a.post(p+"/suggestions",Object.assign({conversationId:t,query:e},n))).data}))}function R({context:t,updateLatest:e}){f.a.post(`${p}/updateConversationDetails?updateLatest=${e}`,t)}function x({conversationId:t,context:e}){f.a.post(`${p}/updateConversationDetails?conversationId=${t}`,e)}function D(t){return f.a.post(`${p}/cancelAsset/${t}`)}function L(t){return r.__awaiter(this,void 0,void 0,(function*(){return f.a.post(`${p}/markSurveyOpened/${t}`)}))}function w(){return r.__awaiter(this,void 0,void 0,(function*(){return(yield f.a.get(p+"/fetchNumberOfOpenConversations")).data}))}function k(t){return r.__awaiter(this,void 0,void 0,(function*(){return f.a.post(`${p}/markTimeOfDelivery?messageIds=${t.join(",")}`)}))}},520:function(t,e,n){"use strict";n.d(e,"a",(function(){return c.h})),n.d(e,"b",(function(){return T})),n.d(e,"d",(function(){return A}));var r=n(508),o=n(468),i=n(559),a=n(803),c=n(363),s=n(415);function d(){var t={};return t.promise=new Promise((function(e,n){t.resolve=e,t.reject=n})),t}var l=d,u=(n(804),[]),f=0;function p(t){try{g(),t()}finally{O()}}function b(t){u.push(t),f||(g(),y())}function h(t){try{return g(),t()}finally{y()}}function g(){f++}function O(){f--}function y(){var t;for(O();!f&&void 0!==(t=u.shift());)p(t)}var m=function(t){return function(e){return t.some((function(t){return C(t)(e)}))}},j=function(t){return function(e){return t(e)}},v=function(t){return function(e){return e.type===String(t)}},I=function(t){return function(e){return e.type===t}},E=function(){return c.K};function C(t){var e="*"===t?E:Object(a.k)(t)?v:Object(a.a)(t)?m:Object(a.l)(t)?v:Object(a.d)(t)?j:Object(a.m)(t)?I:null;if(null===e)throw new Error("invalid pattern: "+t);return e(t)}var _={type:r.b},S=function(t){return t&&t.type===r.b};function T(t){void 0===t&&(t=Object(c.E)());var e=!1,n=[];return{take:function(r){e&&t.isEmpty()?r(_):t.isEmpty()?(n.push(r),r.cancel=function(){Object(c.R)(n,r)}):r(t.take())},put:function(r){if(!e){if(0===n.length)return t.put(r);n.shift()(r)}},flush:function(n){e&&t.isEmpty()?n(_):n(t.flush())},close:function(){if(!e){e=!0;var t=n;n=[];for(var r=0,o=t.length;r<o;r++){(0,t[r])(_)}}}}}function A(t,e){void 0===e&&(e=Object(c.N)());var n,r=!1,o=T(e),i=function(){r||(r=!0,Object(a.d)(n)&&n(),o.close())};return n=t((function(t){S(t)?i():o.put(t)})),n=Object(c.O)(n),r&&n(),{take:o.take,flush:o.flush,close:i}}function N(){var t=function(){var t,e=!1,n=[],o=n,i=function(){o===n&&(o=n.slice())},a=function(){e=!0;var t=n=o;o=[],t.forEach((function(t){t(_)}))};return(t={})[r.e]=!0,t.put=function(t){if(!e)if(S(t))a();else for(var i=n=o,c=0,s=i.length;c<s;c++){var d=i[c];d[r.d](t)&&(d.cancel(),d(t))}},t.take=function(t,n){void 0===n&&(n=E),e?t(_):(t[r.d]=n,i(),o.push(t),t.cancel=Object(c.O)((function(){i(),Object(c.R)(o,t)})))},t.close=a,t}(),e=t.put;return t.put=function(t){t[r.f]?e(t):b((function(){e(t)}))},t}function R(t,e){var n=t[r.a];Object(a.d)(n)&&(e.cancel=n),t.then(e,(function(t){e(t,!0)}))}var x,D=0,L=function(){return++D};function w(t){t.isRunning()&&t.cancel()}var k=((x={})[c.s]=function(t,e,n){var o=e.channel,i=void 0===o?t.channel:o,c=e.pattern,s=e.maybe,d=function(t){t instanceof Error?n(t,!0):!S(t)||s?n(t):n(r.k)};try{i.take(d,Object(a.g)(c)?C(c):null)}catch(l){return void n(l,!0)}n.cancel=d.cancel},x[c.o]=function(t,e,n){var r=e.channel,o=e.action,i=e.resolve;b((function(){var e;try{e=(r?r.put:t.dispatch)(o)}catch(c){return void n(c,!0)}i&&Object(a.j)(e)?R(e,n):n(e)}))},x[c.a]=function(t,e,n,r){var o=r.digestEffect,i=D,s=Object.keys(e);if(0!==s.length){var d=Object(c.L)(e,n);s.forEach((function(t){o(e[t],i,d[t],t)}))}else n(Object(a.a)(e)?[]:{})},x[c.q]=function(t,e,n,r){var o=r.digestEffect,i=D,s=Object.keys(e),d=Object(a.a)(e)?Object(c.M)(s.length):{},l={},u=!1;s.forEach((function(t){var e=function(e,r){u||(r||Object(c.S)(e)?(n.cancel(),n(e,r)):(n.cancel(),u=!0,d[t]=e,n(d)))};e.cancel=c.T,l[t]=e})),n.cancel=function(){u||(u=!0,s.forEach((function(t){return l[t].cancel()})))},s.forEach((function(t){u||o(e[t],i,l[t],t)}))},x[c.c]=function(t,e,n,r){var o=e.context,i=e.fn,s=e.args,d=r.task;try{var l=i.apply(o,s);if(Object(a.j)(l))return void R(l,n);if(Object(a.e)(l))return void V(t,l,d.context,D,Object(c.J)(i),!1,n);n(l)}catch(u){n(u,!0)}},x[c.x]=function(t,e,n){var r=e.context,o=e.fn,i=e.args;try{var c=function(t,e){Object(a.n)(t)?n(e):n(t,!0)};o.apply(r,i.concat(c)),c.cancel&&(n.cancel=c.cancel)}catch(s){n(s,!0)}},x[c.f]=function(t,e,n,r){var o=e.context,i=e.fn,s=e.args,d=e.detached,l=r.task,u=function(t){var e=t.context,n=t.fn,r=t.args;try{var o=n.apply(e,r);if(Object(a.e)(o))return o;var i=!1;return Object(c.Q)((function(t){return i?{value:t,done:!0}:(i=!0,{value:o,done:!Object(a.j)(o)})}))}catch(s){return Object(c.Q)((function(){throw s}))}}({context:o,fn:i,args:s}),f=function(t,e){return t.isSagaIterator?{name:t.meta.name}:Object(c.J)(e)}(u,i);h((function(){var e=V(t,u,l.context,D,f,d,void 0);d?n(e):e.isRunning()?(l.queue.addTask(e),n(e)):e.isAborted()?l.queue.abort(e.error()):n(e)}))},x[c.i]=function(t,e,n,r){var o=r.task,i=function(t,e){if(t.isRunning()){var n={task:o,cb:e};e.cancel=function(){t.isRunning()&&Object(c.R)(t.joiners,n)},t.joiners.push(n)}else t.isAborted()?e(t.error(),!0):e(t.result())};if(Object(a.a)(e)){if(0===e.length)return void n([]);var s=Object(c.L)(e,n);e.forEach((function(t,e){i(t,s[e])}))}else i(e,n)},x[c.B]=function(t,e,n,o){var i=o.task;e===r.h?w(i):Object(a.a)(e)?e.forEach(w):w(e),n()},x[c.r]=function(t,e,n){var r=e.selector,o=e.args;try{n(r.apply(void 0,[t.getState()].concat(o)))}catch(i){n(i,!0)}},x[c.D]=function(t,e,n){var r=e.pattern,o=T(e.buffer),i=C(r),a=function e(n){S(n)||t.channel.take(e,i),o.put(n)},c=o.close;o.close=function(){a.cancel(),c()},t.channel.take(a,i),n(o)},x[c.F]=function(t,e,n,r){n(r.task.isCancelled())},x[c.G]=function(t,e,n){e.flush(n)},x[c.g]=function(t,e,n,r){n(r.task.context[e])},x[c.H]=function(t,e,n,r){var o=r.task;Object(c.P)(o.context,e),n()},x);function P(t,e){return t+"?"+e}function U(t){var e=t.name,n=t.location;return n?e+"  "+P(n.fileName,n.lineNumber):e}function F(t){var e=Object(c.U)((function(t){return t.cancelledTasks}),t);return e.length?["Tasks cancelled due to error:"].concat(e).join("\n"):""}var M=null,B=[],z=function(){M=null,B.length=0},W=function(){var t=B[0],e=B.slice(1),n=t.crashedEffect?function(t){var e=Object(c.V)(t);return e?e.code+"  "+P(e.fileName,e.lineNumber):""}(t.crashedEffect):null;return["The above error occurred in task "+U(t.meta)+(n?" \n when executing effect "+n:"")].concat(e.map((function(t){return"    created by "+U(t.meta)})),[F(B)]).join("\n")};function G(t,e,n,o,i,a,s){var d;void 0===s&&(s=c.T);var u,f,p=0,b=null,h=[],g=Object.create(n),O=function(t,e,n){var r,o=[],i=!1;function a(t){e(),d(),n(t,!0)}function s(e){o.push(e),e.cont=function(s,d){i||(Object(c.R)(o,e),e.cont=c.T,d?a(s):(e===t&&(r=s),o.length||(i=!0,n(r))))}}function d(){i||(i=!0,o.forEach((function(t){t.cont=c.T,t.cancel()})),o=[])}return s(t),{addTask:s,cancelAll:d,abort:a,getTasks:function(){return o}}}(e,(function(){h.push.apply(h,O.getTasks().map((function(t){return t.meta.name})))}),y);function y(e,n){if(n){if(p=2,(a={meta:i,cancelledTasks:h}).crashedEffect=M,B.push(a),m.isRoot){var o=W();z(),t.onError(e,{sagaStack:o})}f=e,b&&b.reject(e)}else e===r.j?p=1:1!==p&&(p=3),u=e,b&&b.resolve(e);var a;m.cont(e,n),m.joiners.forEach((function(t){t.cb(e,n)})),m.joiners=null}var m=((d={})[r.i]=!0,d.id=o,d.meta=i,d.isRoot=a,d.context=g,d.joiners=[],d.queue=O,d.cancel=function(){0===p&&(p=1,O.cancelAll(),y(r.j,!1))},d.cont=s,d.end=y,d.setContext=function(t){Object(c.P)(g,t)},d.toPromise=function(){return b||(b=l(),2===p?b.reject(f):0!==p&&b.resolve(u)),b.promise},d.isRunning=function(){return 0===p},d.isCancelled=function(){return 1===p||0===p&&1===e.status},d.isAborted=function(){return 2===p},d.result=function(){return u},d.error=function(){return f},d);return m}function V(t,e,n,o,i,s,d){var l=t.finalizeRunEffect((function(e,n,o){if(Object(a.j)(e))R(e,o);else if(Object(a.e)(e))V(t,e,f.context,n,i,!1,o);else if(e&&e[r.c]){(0,k[e.type])(t,e.payload,o,p)}else o(e)}));b.cancel=c.T;var u={meta:i,cancel:function(){0===u.status&&(u.status=1,b(r.j))},status:0},f=G(t,u,n,o,i,s,d),p={task:f,digestEffect:h};return d&&(d.cancel=f.cancel),b(),f;function b(t,n){try{var i;n?(i=e.throw(t),z()):Object(c.W)(t)?(u.status=1,b.cancel(),i=Object(a.d)(e.return)?e.return(r.j):{done:!0,value:r.j}):i=Object(c.X)(t)?Object(a.d)(e.return)?e.return():{done:!0}:e.next(t),i.done?(1!==u.status&&(u.status=3),u.cont(i.value)):h(i.value,o,b)}catch(s){if(1===u.status)throw s;u.status=2,u.cont(s,!0)}}function h(e,n,r,o){void 0===o&&(o="");var i,a=L();function s(n,o){i||(i=!0,r.cancel=c.T,t.sagaMonitor&&(o?t.sagaMonitor.effectRejected(a,n):t.sagaMonitor.effectResolved(a,n)),o&&function(t){M=t}(e),r(n,o))}t.sagaMonitor&&t.sagaMonitor.effectTriggered({effectId:a,parentEffectId:n,label:o,effect:e}),s.cancel=c.T,r.cancel=function(){i||(i=!0,s.cancel(),s.cancel=c.T,t.sagaMonitor&&t.sagaMonitor.effectCancelled(a))},l(e,a,s)}}function $(t,e){var n=t.channel,r=void 0===n?N():n,o=t.dispatch,i=t.getState,a=t.context,d=void 0===a?{}:a,l=t.sagaMonitor,u=t.effectMiddlewares,f=t.onError,p=void 0===f?c.b:f;for(var b=arguments.length,g=new Array(b>2?b-2:0),O=2;O<b;O++)g[O-2]=arguments[O];var y=e.apply(void 0,g);var m,j=L();if(l&&(l.rootSagaStarted=l.rootSagaStarted||c.T,l.effectTriggered=l.effectTriggered||c.T,l.effectResolved=l.effectResolved||c.T,l.effectRejected=l.effectRejected||c.T,l.effectCancelled=l.effectCancelled||c.T,l.actionDispatched=l.actionDispatched||c.T,l.rootSagaStarted({effectId:j,saga:e,args:g})),u){var v=s.d.apply(void 0,u);m=function(t){return function(e,n,r){return v((function(e){return t(e,n,r)}))(e)}}}else m=c.e;var I={channel:r,dispatch:Object(c.d)(o),getState:i,sagaMonitor:l,onError:p,finalizeRunEffect:m};return h((function(){var t=V(I,y,d,j,Object(c.J)(e),!0,void 0);return l&&l.effectResolved(j,t),t}))}var K=function(t){var e,n=void 0===t?{}:t,r=n.context,a=void 0===r?{}:r,s=n.channel,d=void 0===s?N():s,l=n.sagaMonitor,u=Object(i.a)(n,["context","channel","sagaMonitor"]);function f(t){var n=t.getState,r=t.dispatch;return e=$.bind(null,Object(o.a)({},u,{context:a,channel:d,dispatch:r,getState:n,sagaMonitor:l})),function(t){return function(e){l&&l.actionDispatched&&l.actionDispatched(e);var n=t(e);return d.put(e),n}}}return f.run=function(){return e.apply(void 0,arguments)},f.setContext=function(t){Object(c.P)(a,t)},f};e.c=K},525:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return d}));var r=n(350),o=n.n(r),i=n(100),a=n.n(i),c=n(343);const s=(t,e)=>{const n=c.a.getField(t);if(n)return n===e;let r=!1;return o()(c.a.getFilters(t),t=>!s(t,e)||(r=!0,!1)),r},d=({currentValueMap:t,filter:e})=>{const n=c.a.getField(e);return a()(t[n])?t[n](e):t[n]}},571:function(t,e,n){"use strict";n.d(e,"b",(function(){return v})),n.d(e,"a",(function(){return I}));var r=n(325),o=n(439),i=n.n(o),a=n(37),c=n.n(a),s=n(96),d=n.n(s),l=n(350),u=n.n(l),f=n(336),p=n(365),b=n(373),h=n(501),g=n(693),O=n(342),y=n(322);const m=t=>({userId:t,email:"",firstName:"",userType:"PARTNER",phoneNo:"",profileImageUrl:""});function*j(t){try{const e=d()(t,t=>t.sender),n=yield Object(r.c)(g.a,t),o=d()(n,t=>O.a.getId(t));let i=[];u()(e,t=>{!o.includes(t)&&Object(b.c)(t)&&(i=[...i,m(t)])}),yield Object(r.h)({type:h.d,payload:{users:[...n,...i]}})}catch(e){Object(y.b)(e)}}function*v(t){const e=i()(t);if(0===e.length)return;const n=((t,e)=>{const n={};return c()(e,(e,r)=>{const o=r.sender;if(n[o])return e;return!!Object(p.f)(t,o)||(n[o]=o,e.push(r)),e},[])})(yield Object(r.j)(f.h),e);0!==n.length&&(yield Object(r.c)(j,n))}function*I(t){yield Object(r.c)(j,i()(t))}},603:function(t,e,n){var r=n(20).isFinite;t.exports=function(t){return"number"==typeof t&&r(t)}},604:function(t,e){t.exports=function(t){return null===t}},614:function(t,e,n){var r=n(1412),o=n(110),i=n(1413);t.exports=function(t){return o(t)?i(t):r(t)}},615:function(t,e,n){"use strict";n.d(e,"p",(function(){return o})),n.d(e,"d",(function(){return i})),n.d(e,"g",(function(){return a})),n.d(e,"c",(function(){return c})),n.d(e,"e",(function(){return s})),n.d(e,"m",(function(){return d})),n.d(e,"k",(function(){return l})),n.d(e,"a",(function(){return u})),n.d(e,"l",(function(){return f})),n.d(e,"b",(function(){return p})),n.d(e,"j",(function(){return b})),n.d(e,"h",(function(){return h})),n.d(e,"f",(function(){return g})),n.d(e,"n",(function(){return O})),n.d(e,"o",(function(){return y})),n.d(e,"i",(function(){return m}));var r=n(681);function o(){return{type:r.m,payload:{}}}function i({messageId:t,conversationId:e,agentId:n}){return{type:r.i,payload:{messageId:t,conversationId:e,agentId:n}}}function a(){return{type:r.n,payload:{}}}function c(t){return{type:r.g,payload:{messageId:t.messageId,endedByAgent:t.endedByAgent,markCompletedSession:t.markCompletedSession}}}function s(t){return{type:r.h,payload:t}}function d(){return{type:r.d,payload:{}}}function l(t){return{type:r.f,payload:t}}function u(t){return{type:r.b,payload:t}}function f(){return{type:r.e,payload:{}}}function p(){return{type:r.c,payload:{}}}function b(t){return{type:r.a,payload:t}}function h(t){return{type:r.o,payload:t}}function g(t){return{type:r.p,payload:t}}function O(t){return{type:r.k,payload:t}}function y(t){return{type:r.l,payload:t}}const m=t=>({type:r.j,payload:t})},617:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r={BOX:"box",BUBBLE:"bubble",COLLABORATORS:"collaborators",CLOUD:"cloud",MIC:"mic",ELLIPSIS:"ellipsis",ELLIPSIS_STROKE:"ellipsis-stroke",CROSS:"cross",CHEVRON:"chevron",MINIMIZE:"minimize"}},684:function(t,e,n){var r=n(176),o=n(770),i=n(155),a=Math.min;t.exports=function(t,e){if((t=i(t))<1||t>9007199254740991)return[];var n=4294967295,c=a(t,4294967295);e=o(e),t-=4294967295;for(var s=r(c,e);++n<t;)e(n);return s}},692:function(t,e,n){"use strict";n.d(e,"e",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"d",(function(){return a})),n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return s}));var r=n(617);const o={[r.a.CROSS]:{height:14,width:14},[r.a.CHEVRON]:{height:18,width:18}},i="280px",a={HORIZONTAL:"horizontal",VERTICAL:"vertical"},c={TOP:"top",BOTTOM:"bottom",TEXT_TOP:"text-top"},s={FIXED:"fixed",VARIABLE:"variable"}},693:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return d})),n.d(e,"d",(function(){return l})),n.d(e,"c",(function(){return u}));var r=n(362),o=n(509),i=n(504),a=n.n(i);const c="/livechat/conversation";function s(t){return r.__awaiter(this,void 0,void 0,(function*(){return(yield o.a.post(c+"/chatUsers",t)).data}))}function d(){return r.__awaiter(this,void 0,void 0,(function*(){return(yield o.a.get(c+"/getChatUser")).data}))}const l=t=>r.__awaiter(void 0,void 0,void 0,(function*(){return(yield o.a.post(c+"/chatUser",a()(t,["userId","userType","firstName","lastName","fullName","profileImageUrl","email","phoneNo","customContext"]))).data}));function u(t){return r.__awaiter(this,void 0,void 0,(function*(){const{query:e="",size:n=10,pageNum:r=0}=t;return(yield o.a.get(`/livechat/user/search-users?query=${e}&size=${n}&pageNum=${r}`)).data}))}},749:function(t,e,n){"use strict";var r=n(36),o=n.n(r);function i(t){return o()(t)?Promise.reject():new Promise((e,n)=>{this.client.subscribe(t,(t,r)=>{t?n(t):e(r)})})}function a(t){return o()(t)?Promise.reject():new Promise((e,n)=>{this.client.unsubscribe(t,(t,r)=>{t?n(t):e(r)})})}function c(t,e,n){return new Promise((r,o)=>{this.client.publish(t,JSON.stringify(e),n,t=>{t?o(t):r()})})}function s(){this.pendingActions=[],this.client.end(!0)}function d(t,e){return this.client.on(t,e),Promise.resolve()}const l={publish:c,subscribe:i,unsubscribe:a,on:d};function u(t,e){return function(...n){return this.isConnected()?e.call(this,...n):new Promise((e,r)=>{this.pendingActions.push({action:t,payload:n,promise:{resolve:e,reject:r}})})}}function f(){const{pendingActions:t}=this;o()(t)||(t.forEach(t=>{const{action:e,payload:n,promise:r}=t;l[e].call(this,...n).then(()=>{r&&r.resolve()}).catch(t=>{r&&r.reject(t)})}),this.pendingActions=[])}var p=class{constructor(){this.subscribe=u("subscribe",i),this.unsubscribe=u("unsubscribe",a),this.publish=u("publish",c),this.on=u("on",d),this.client=null,this.pendingActions=[]}isInitialized(){return!!this.client}isConnected(){return this.isInitialized()&&this.client.connected}connect(t,e){return Promise.all([n.e(7),n.e(73)]).then(n.t.bind(null,1760,7)).then(n=>new Promise((r,o)=>{this.client=n.connect(t,e),this.client.on("connect",()=>{f.call(this),r()}),this.client.on("error",()=>{o()})}))}disconnect(){return new Promise((t,e)=>this.isConnected()||this.isInitialized()?(s.call(this),void t()):void e())}};const b={clean:!0,connectTimeout:1e4,keepalive:20};e.a=class{constructor(t){this._userName=t.userName,this._clientId=t.clientId,this._inboxServerUrl=t.inboxServerUrl,this._userInbox=t.userInbox,this._client=new p}connect(){const{_userName:t,_clientId:e,_inboxServerUrl:n}=this,r=Object.assign({username:t,password:t,clientId:e},b);return this._client.connect(n,r)}disconnect(){return this._client.disconnect()}subscribe(){return this._client.subscribe({[this._userInbox]:1})}unsubscribe(){return this._client.unsubscribe(this._userInbox)}on(t,e){this._client.on(t,e)}}},787:function(t,e,n){var r=n(116),o=n(107),i=n(39),a=n(412),c=n(614);t.exports=function(t){if(null==t)return 0;if(i(t))return a(t)?c(t):t.length;var e=o(t);return"[object Map]"==e||"[object Set]"==e?t.size:r(t).length}},798:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r={BUNDLE_DOWNLOAD_FAILED:"BUNDLE_DOWNLOAD_FAILED",SESSION_CREATION_FAILED:"SESSION_CREATION_FAILED",OTP_SEND_FAILED:"OTP_SEND_FAILED",POSTBACK_SEND_FAILED:"POSTBACK_SEND_FAILED",RESUME_SESSION_FAILED:"RESUME_SESSION_FAILED"}},800:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(315),o=n.n(r),i=n(316);const a=o.a.createContext("MOBILE");e.b=t=>Object(i.jsx)(a.Provider,{value:t.device},t.children)},801:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(315),o=n.n(r),i=n(316);const a=o.a.createContext("ltr");e.b=t=>Object(i.jsx)(a.Provider,{value:t.direction},t.children)},802:function(t,e,n){"use strict";n.d(e,"b",(function(){return l}));var r=n(415),o=n(520),i=n(1036),a=n(500),c=n.n(a),s=n(509),d=n(389);n.d(e,"a",(function(){return d.a}));class l{constructor(){this.data={}}setReducer(t){return this.data.reducer=t,this}setSaga(t){return this.data.saga=t,this}setPreloadedState(t){return this.data.preloadedState=t,this}setHTTPClient(t){return this.data.httpClient=t,this}setApplicationConfig(t){return t&&(this.data.applicationConfig=t),this}setHandshakeDetails(t){return t&&(this.data.handshakeDetails=t),this}setChatSettings(t){return t&&(this.data.chatSettings=t),this}build(){const{applicationConfig:t,handshakeDetails:e,chatSettings:n,httpClient:a,reducer:l,preloadedState:u,saga:f}=this.data,p=n.clientContext;c()(a,"HTTP Client is not configured"),Object(s.b)(a),Object(i.b)(e,t),c()(l,"Reducer is not configured");const b=[];const h=Object(o.c)();b.push(h);const g=Object(r.e)(l,u,Object(r.a)(...b));f&&h.run(f);const O={payload:{applicationConfig:t,handshakeDetails:e,clientContext:p},type:d.a};return g.dispatch(O),this.data.store=g,g}}},803:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return p})),n.d(e,"c",(function(){return O})),n.d(e,"d",(function(){return a})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return g})),n.d(e,"g",(function(){return i})),n.d(e,"h",(function(){return d})),n.d(e,"i",(function(){return f})),n.d(e,"j",(function(){return l})),n.d(e,"k",(function(){return c})),n.d(e,"l",(function(){return b})),n.d(e,"m",(function(){return h})),n.d(e,"n",(function(){return o}));var r=n(508),o=function(t){return null===t||void 0===t},i=function(t){return null!==t&&void 0!==t},a=function(t){return"function"===typeof t},c=function(t){return"string"===typeof t},s=Array.isArray,d=function(t){return t&&!s(t)&&"object"===typeof t},l=function(t){return t&&a(t.then)},u=function(t){return t&&a(t.next)&&a(t.throw)},f=function t(e){return e&&(c(e)||h(e)||a(e)||s(e)&&e.every(t))},p=function(t){return t&&a(t.take)&&a(t.close)},b=function(t){return a(t)&&t.hasOwnProperty("toString")},h=function(t){return Boolean(t)&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype},g=function(t){return p(t)&&t[r.e]},O=function(t){return t&&t[r.c]}},804:function(t,e,n){"use strict";var r=n(508);e.a=function(t,e){var n;void 0===e&&(e=!0);var o=new Promise((function(r){n=setTimeout(r,t,e)}));return o[r.a]=function(){clearTimeout(n)},o}},805:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return c}));var r=n(362),o=n(509),i=n(338);function a(t){return r.__awaiter(this,void 0,void 0,(function*(){const{cursor:e,lastActiveDiff:n}=t||i.a;return(yield o.a.post("/livechat/event/fetch-notifications"+(e?"?cursor="+e:""),{lastActiveDiff:n},{backoff:!0,headers:{"X-CHAT-AUTO":!0}})).data}))}function c(t){return r.__awaiter(this,void 0,void 0,(function*(){return o.a.post("/livechat/event/publish",Object.assign({type:t.type},t.payload))}))}},806:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(356);const o=(t,e)=>{const n={conversationId:e};return t?{type:r.bb,payload:n}:{type:r.cb,payload:n}}},807:function(t,e,n){"use strict";n.d(e,"b",(function(){return m})),n.d(e,"a",(function(){return v}));var r=n(325),o=n(392),i=n.n(o),a=n(356),c=n(427),s=n(487),d=n(336),l=n(333),u=n(335),f=n(371),p=n(322),b=n(349);const h=(t,e)=>{const n=f.a.getAttachment(u.a.getMessagePayload(t));return i()(t,{messagePayload:{attachment:{$merge:Object.assign({},n.showSubmittedContent?{clickedButtonId:e.buttonId}:{},{submitted:!n.reSubmittable})}}})},g=(t,e)=>{const n=f.a.getAttachment(u.a.getMessagePayload(t));return i()(t,{messagePayload:{attachment:{$merge:Object.assign({},n.showSubmittedContent?{filledForm:e.filledForm}:{},{submitted:!0})}}})},O={[b.b.CARD]:h,[b.b.CAROUSEL]:h,[b.b.CO_BROWSE_INVITE]:h,[b.b.PRODUCT_CARD]:h,[b.b.PRODUCT_SHOWCASE_CARD]:h,[b.b.INFO_CARD]:h,[b.b.PRODUCT_BANNER]:h,[b.b.PRODUCT_LIST]:h,[b.b.FORM]:g,[b.b.CONTACT_DETAILS_FORM]:g,[b.b.SECURE_FORM]:g,[b.b.APPOINTMENT]:(t,e)=>i()(t,{messagePayload:{attachment:{$merge:{selectedDate:e.selectedDate,selectedSlot:e.selectedSlot,submitted:!0}}}}),[b.b.SURVEY]:(t,e)=>i()(t,{messagePayload:{attachment:{$merge:{opened:!!e.opened,submitted:!!e.submitted}}}})},y=(t,e)=>{if(!t)return{};switch(f.a.getAttachment(u.a.getMessagePayload(t)).type){case b.b.CAROUSEL:case b.b.CO_BROWSE_INVITE:case b.b.PRODUCT_CARD:case b.b.PRODUCT_SHOWCASE_CARD:case b.b.INFO_CARD:case b.b.PRODUCT_BANNER:case b.b.PRODUCT_LIST:case b.b.CARD:return{buttonId:f.a.getAttachment(u.a.getMessagePayload(e)).buttonId};case b.b.SURVEY:return{submitted:!f.a.getAttachment(u.a.getMessagePayload(e)).reSubmittable,opened:!0};case b.b.SECURE_FORM:case b.b.FORM:case b.b.CONTACT_DETAILS_FORM:return{filledForm:f.a.getAttachment(u.a.getMessagePayload(e)).filledForm};case b.b.APPOINTMENT:return{selectedDate:f.a.getAttachment(u.a.getMessagePayload(e)).selectedDate,selectedSlot:f.a.getAttachment(u.a.getMessagePayload(e)).selectedSlot};default:return{}}};function*m({chatMessage:t,conversationId:e,params:n}){if(!t)return null;const o=O[f.a.getAttachment(u.a.getMessagePayload(t)).type];if(o){const i=o(t,n);return yield Object(r.h)({type:a.I,payload:{chatMessage:i,conversationId:e}}),i}return null}function*j(t){const{postback:{messageId:e},conversationId:n}=t.payload;let o;const i=yield Object(r.j)(d.c),u=Object(l.j)(Object(l.l)(i,n),e);try{const e=c.a.makeOutgoing().makeTemplatePostbackAttachmentMessage(t.payload);o=yield Object(r.c)(m,{chatMessage:u,conversationId:n,params:y(u,e)}),e&&(yield Object(r.c)(s.a,e),yield Object(r.c)(s.c,e),t.promise.resolve())}catch(f){o&&(yield Object(r.h)({type:a.I,payload:{chatMessage:u,conversationId:n}})),t.promise.reject(),Object(p.b)(f)}}function*v(){yield Object(r.m)(a.Y,j)}},808:function(t,e,n){"use strict";n.d(e,"c",(function(){return E})),n.d(e,"b",(function(){return C})),n.d(e,"a",(function(){return _}));var r=n(565),o=n.n(r),i=n(36),a=n.n(i),c=n(412),s=n.n(c),d=n(154),l=n.n(d),u=n(335),f=n(371),p=n(342),b=n(809),h=n(694),g=n(373),O=n(98),y=n(611),m=n(810),j=n(1037),v=n(427),I=n(447);const E=(t,e)=>{const n=p.a.getId(e),r=f.a.getAttachment(u.a.getMessagePayload(t)),i=Object(j.a)(r,{user:e}),c=o()(b.a.getFields(h.a.getForm(r)),t=>{const{id:e,validator:n}=t;return"EQUALITY"!==n&&a()(i[e])});return!Object(g.b)(n)&&c},C=(t,e,n,r)=>{let o;return o="string"===typeof t?(new u.a).setMessagePayload((new f.a).setMessageType(y.b).setMessageText(t).setMessageDisableManualResponse(!!r).build()).build():t,v.a.makeSent().makeMessage(Object.assign({messageId:n,conversationId:e,sender:O.b},o))},_=t=>{if(s()(t))return t;switch(Object(I.f)(t)?l()(t,"response.status",404):-1){case 401:case 404:return m.a.NOT_FOUND;case 406:return m.a.NOT_ACCEPTABLE;default:return m.a.UNEXPECTED_ERROR}}},810:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r={NOT_FOUND:"NOT_FOUND",UNEXPECTED_ERROR:"UNEXPECTED_ERROR",NOT_ACCEPTABLE:"NOT_ACCEPTABLE",LIMIT_REACHED:"LIMIT_REACHED"}},811:function(t,e,n){"use strict";n.d(e,"e",(function(){return u})),n.d(e,"b",(function(){return f})),n.d(e,"d",(function(){return p})),n.d(e,"a",(function(){return b})),n.d(e,"c",(function(){return h})),n.d(e,"f",(function(){return g}));var r=n(36),o=n.n(r),i=n(154),a=n.n(i),c=n(786),s=n(451),d=n(1038),l=n(404);const u=t=>({[c.a.MIC]:!1,[c.a.CAMERA]:!1,[c.a.DRAG]:!t,[c.a.FULL_SCREEN]:t}),f=t=>t===s.c.WAITING,p=t=>t===s.e.WAITING?s.e.WAITING:s.e.SETUP,b=(t,e)=>((t,e)=>{switch(t.state){case d.a.CALL_INITIATED:case d.a.CALL_STARTING:return e.WAITING;case d.a.CALL_OFFER_ACCEPTED:return e.SETUP;default:return e.JOINED}})(t,e?s.c:s.e),h=(t,e=!1)=>e?t?l.a.AUDIO_CALL_JOIN_CTA_CLICKED:l.a.VIDEO_CALL_JOIN_CTA_CLICKED:t?l.a.AUDIO_CALL_JOIN_BACK_CTA_CLICKED:l.a.VIDEO_CALL_JOIN_BACK_CTA_CLICKED,g=({callDetails:t,rejoiningVideoConversationId:e})=>{const n=a()(t,"state"),r=n===s.c.FAILED||n===s.e.FAILED;return!o()(t)&&(t.videoConversationId!==e||!r||!((i=t.reason)===s.b.REJOINING_FAILED_DUE_TO_OTHER_REASONS||i===s.d.REJOINING_FAILED_DUE_TO_OTHER_REASONS));var i}}}]);
//# sourceMappingURL=default~live-chat-app~teams-app-index.0a026029.js.map