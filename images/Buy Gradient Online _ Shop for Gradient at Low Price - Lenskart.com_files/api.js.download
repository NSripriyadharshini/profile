/*! For license information please see api.js.LICENSE.txt */
!function(){var e={7228:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.default=e.exports,e.exports.__esModule=!0},2858:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},3646:function(e,t,r){var n=r(7228);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.default=e.exports,e.exports.__esModule=!0},1506:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0},8926:function(e){function t(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(o,i){var a=e.apply(r,n);function s(e){t(a,o,i,s,c,"next",e)}function c(e){t(a,o,i,s,c,"throw",e)}s(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},4575:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},3913:function(e){function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e},e.exports.default=e.exports,e.exports.__esModule=!0},9713:function(e){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.default=e.exports,e.exports.__esModule=!0},7154:function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,t.apply(this,arguments)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0},6525:function(e,t,r){var n=r(8331);function o(t,r,i){return"undefined"!=typeof Reflect&&Reflect.get?(e.exports=o=Reflect.get,e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=o=function(e,t,r){var o=n(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(r):i.value}},e.exports.default=e.exports,e.exports.__esModule=!0),o(t,r,i||t)}e.exports=o,e.exports.default=e.exports,e.exports.__esModule=!0},9754:function(e){function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.default=e.exports,e.exports.__esModule=!0,t(r)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0},2205:function(e,t,r){var n=r(9489);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},5318:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},6860:function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},3884:function(e){e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}},e.exports.default=e.exports,e.exports.__esModule=!0},521:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},8206:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},8585:function(e,t,r){var n=r(8).default,o=r(1506);e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?o(e):t},e.exports.default=e.exports,e.exports.__esModule=!0},9489:function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,t(r,n)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0},3038:function(e,t,r){var n=r(2858),o=r(3884),i=r(379),a=r(521);e.exports=function(e,t){return n(e)||o(e,t)||i(e,t)||a()},e.exports.default=e.exports,e.exports.__esModule=!0},8331:function(e,t,r){var n=r(9754);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=n(e)););return e},e.exports.default=e.exports,e.exports.__esModule=!0},319:function(e,t,r){var n=r(3646),o=r(6860),i=r(379),a=r(8206);e.exports=function(e){return n(e)||o(e)||i(e)||a()},e.exports.default=e.exports,e.exports.__esModule=!0},8:function(e){function t(r){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=t=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),t(r)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0},379:function(e,t,r){var n=r(7228);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},1553:function(e){var t=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),a=new I(n||[]);return i._invoke=function(e,t,r){var n=f;return function(o,i){if(n===p)throw new Error("Generator is already running");if(n===h){if("throw"===o)throw i;return w()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=b(a,r);if(s){if(s===E)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var c=l(e,t,r);if("normal"===c.type){if(n=r.done?h:d,c.arg===E)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=h,r.method="throw",r.arg=c.arg)}}}(e,r,a),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f="suspendedStart",d="suspendedYield",p="executing",h="completed",E={};function v(){}function m(){}function g(){}var _={};_[i]=function(){return this};var O=Object.getPrototypeOf,S=O&&O(O(N([])));S&&S!==r&&n.call(S,i)&&(_=S);var y=g.prototype=v.prototype=Object.create(_);function A(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(o,i,a,s){var c=l(e[o],e,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}var o;this._invoke=function(e,n){function i(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(i,i):i()}}function b(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,b(e,r),"throw"===r.method))return E;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return E}var o=l(n,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,E;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,E):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,E)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function N(e){if(e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}return{next:w}}function w(){return{value:t,done:!0}}return m.prototype=y.constructor=g,g.constructor=m,m.displayName=c(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,c(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},A(R.prototype),R.prototype[a]=function(){return this},e.AsyncIterator=R,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new R(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(y),c(y,s,"Generator"),y[i]=function(){return this},y.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,E):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),E},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),E}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),E}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},7757:function(e,t,r){e.exports=r(1553)},9524:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(1614),o=s(r(6808)),i=s(r(7321)),a=s(r(386));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r(584);var p="user_id",h="session_id",E=18e5,v={useCookies:!0,useAnalytics:!0},m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f(this,e),this.options=u(u({},v),t),this.segmentId=this.options.segmentId,this.scanId=this.options.scanId,this.defaultProps=this.options.defaultProps,this.useCookies=this.options.useCookies,this.useAnalytics=this.options.useAnalytics,this.sessionId=null,this.userId=null,this.eventStartTimes={},this.useAnalytics&&(window.analytics.load(this.segmentId),this.initialize())}var t,r,s;return t=e,s=[{key:"COOKIE_KEY",get:function(){return p}},{key:"SESSION_STORAGE_KEY",get:function(){return h}},{key:"MAX_SESSION",get:function(){return E}},{key:"ANALYTICS_EVENT",get:function(){return Object.freeze(i.default)}}],(r=[{key:"initialize",value:function(){this.initializeSessionId(),this.initializeCookie()}},{key:"initializeCookie",value:function(){var e=o.default.get(p);e&&!this.useCookies&&(o.default.remove(p),this.userId=null),this.useCookies&&(e=e||(0,n.v1)(),o.default.set(p,e,{expires:90}),this.userId=e)}},{key:"initializeSessionId",value:function(){var e=a.default.getItem(h);return!(e&&!this.isExpiredSessionId(e)||(this.sessionId=(0,n.v1)(),a.default.setItem(h,JSON.stringify({uuid:this.sessionId,createdAt:Date.now()})),0))}},{key:"checkSessionId",value:function(){this.initializeSessionId()}},{key:"isExpiredSessionId",value:function(e){var t=JSON.parse(e),r=t.uuid,n=t.createdAt;return this.sessionId=r,n+E<=Date.now()}},{key:"setScanId",value:function(e){this.scanId=e}},{key:"setDefaultProps",value:function(e){this.defaultProps=u(u({},this.defaultProps),e)}},{key:"isValidEvent",value:function(e){return e in i.default}},{key:"trackStart",value:function(e){this.checkSessionId(),this.isValidEvent(e)?this.eventStartTimes[e]=Date.now():console.error("BrowserAnalytics ERROR: Unknown event of type: ".concat(e,", passed to BrowserAnalytics.trackStart."))}},{key:"trackEnd",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.checkSessionId(),this.isValidEvent(e))if(e in this.eventStartTimes){var r=Date.now(),n=r-this.eventStartTimes[e];this.track(e,u({duration:n,begin_timestamp:new Date(this.eventStartTimes[e]).toUTCString(),end_timestamp:new Date(r).toUTCString()},t)),delete this.eventStartTimes[e]}else console.warn("BrowserAnalytics ERROR: Tracking for event of type: ".concat(e,", was not initiated."));else console.error("BrowserAnalytics ERROR: Unknown event of type: ".concat(e,", passed to BrowserAnalytics.trackEnd."))}},{key:"track",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.useAnalytics&&(this.checkSessionId(),this.isValidEvent(e)?window.analytics.track(e,u(u({scan_id:this.scanId,session_id:this.sessionId},this.defaultProps),t),{context:{ip:"0.0.0.0"}}):console.error("BrowserAnalytics ERROR: Unknown event of type: ".concat(e,", passed to BrowserAnalytics.track.")))}}])&&d(t.prototype,r),s&&d(t,s),e}();t.default=m},55:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BrowserAnalytics",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"ANALYTICS_EVENT",{enumerable:!0,get:function(){return i.ANALYTICS_EVENT}}),Object.defineProperty(t,"ANALYTICS_OVERLAY_EVENT",{enumerable:!0,get:function(){return i.ANALYTICS_OVERLAY_EVENT}}),Object.defineProperty(t,"ANALYTICS_SCAN_EVENT",{enumerable:!0,get:function(){return i.ANALYTICS_SCAN_EVENT}}),Object.defineProperty(t,"ANALYTICS_FACEINSIGHTS_EVENT",{enumerable:!0,get:function(){return i.ANALYTICS_FACEINSIGHTS_EVENT}}),Object.defineProperty(t,"ANALYTICS_ERROR",{enumerable:!0,get:function(){return i.ANALYTICS_ERROR}}),Object.defineProperty(t,"ANALYTICS_TIMING",{enumerable:!0,get:function(){return i.ANALYTICS_TIMING}}),Object.defineProperty(t,"ANALYTICS_OVERLAY_TIMING_EVENT",{enumerable:!0,get:function(){return i.ANALYTICS_OVERLAY_TIMING_EVENT}}),Object.defineProperty(t,"ANALYTICS_SCAN_TIMING_EVENT",{enumerable:!0,get:function(){return i.ANALYTICS_SCAN_TIMING_EVENT}}),Object.defineProperty(t,"ANALYTICS_FACEINSIGHTS_TIMING_EVENT",{enumerable:!0,get:function(){return i.ANALYTICS_FACEINSIGHTS_TIMING_EVENT}}),t.default=void 0;var n,o=(n=r(9524))&&n.__esModule?n:{default:n},i=r(7321);var a={BrowserAnalytics:o.default,ANALYTICS_EVENT:i.ANALYTICS_EVENT,ANALYTICS_OVERLAY_EVENT:i.ANALYTICS_OVERLAY_EVENT,ANALYTICS_SCAN_EVENT:i.ANALYTICS_SCAN_EVENT,ANALYTICS_FACEINSIGHTS_EVENT:i.ANALYTICS_FACEINSIGHTS_EVENT,ANALYTICS_ERROR:i.ANALYTICS_ERROR,ANALYTICS_TIMING:i.ANALYTICS_TIMING,ANALYTICS_OVERLAY_TIMING_EVENT:i.ANALYTICS_OVERLAY_TIMING_EVENT,ANALYTICS_SCAN_TIMING_EVENT:i.ANALYTICS_SCAN_TIMING_EVENT,ANALYTICS_FACEINSIGHTS_TIMING_EVENT:i.ANALYTICS_FACEINSIGHTS_TIMING_EVENT};t.default=a},2145:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={ER_OVERLAY:"ER_OVERLAY",ER_SCAN:"ER_SCAN",ER_FACEINSIGHTS:"ER_FACEINSIGHTS",ER_ANALYSIS_FACEIQ:"ER_ANALYSIS_FACEIQ",ER_ANALYSIS_FISLIDE:"ER_ANALYSIS_FISLIDE"};t.default=r},5684:function(e,t){"use strict";function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ANALYTICS_FACEINSIGHTS_EVENT=t.ANALYTICS_SCAN_EVENT=t.ANALYTICS_OVERLAY_EVENT=void 0;var i={EV_OVERLAY_ATTEMPT:"EV_OVERLAY_ATTEMPT",EV_OVERLAY_SUCCESS:"EV_OVERLAY_SUCCESS",EV_OVERLAY_PROGRESSIVE_LOAD:"EV_OVERLAY_PROGRESSIVE_LOAD",EV_OVERLAY_ALL_FRAMES_LOADED:"EV_OVERLAY_ALL_FRAMES_LOADED",EV_OVERLAY_TURN:"EV_OVERLAY_TURN",EV_OVERLAY_SHARED:"EV_OVERLAY_SHARED",EV_OVERLAY_WATERMARK:"EV_OVERLAY_WATERMARK"};t.ANALYTICS_OVERLAY_EVENT=i;var a={EV_TECH_LOADED:"EV_TECH_LOADED",EV_PRELOAD_COMPLETE:"EV_PRELOAD_COMPLETE",EV_USER_HAS_OVERLAY:"EV_USER_HAS_OVERLAY",EV_SCAN_START_SCREEN:"EV_SCAN_START_SCREEN",EV_PRIVACY_POLICY:"EV_PRIVACY_POLICY",EV_USER_START:"EV_USER_START",EV_SKIP_SCALE:"EV_SKIP_SCALE",EV_SKIP_SCALE_INTRO_SCREEN:"EV_SKIP_SCALE_INTRO_SCREEN",EV_SKIP_SCALE_CAPTURE_SCREEN:"EV_SKIP_SCALE_CAPTURE_SCREEN",EV_SUCCESSFUL_SCAN:"EV_SUCCESSFUL_SCAN",EV_REALSCALE_ACHIEVED:"EV_REALSCALE_ACHIEVED",EV_USER_PERMISSION_OK:"EV_USER_PERMISSION_OK",EV_RECORDING_START:"EV_RECORDING_START",EV_SCALE_INTRO_SCREEN_PRESENTED:"EV_SCALE_INTRO_SCREEN_PRESENTED",EV_SCALE_CAPTURE_SCREEN_PRESENTED:"EV_SCALE_CAPTURE_SCREEN_PRESENTED",EV_TAKE_SCALE_BUTTON:"EV_TAKE_SCALE_BUTTON",EV_TAKE_SCALE_INTRO_SCREEN_BUTTON:"EV_TAKE_SCALE_INTRO_SCREEN_BUTTON",EV_TAKE_SCALE_CAPTURE_SCREEN_BUTTON:"EV_TAKE_SCALE_CAPTURE_SCREEN_BUTTON",EV_SCALE_COMPLETED:"EV_SCALE_COMPLETED",EV_USER_UPLOAD_VIDEO:"EV_USER_UPLOAD_VIDEO",EV_USER_UPLOAD_SCALE:"EV_USER_UPLOAD_SCALE",EV_SCAN_CLOSED:"EV_SCAN_CLOSED",EV_USER_SOUND_OFF:"EV_USER_SOUND_OFF",EV_USER_SOUND_ON:"EV_USER_SOUND_ON",EV_USER_RE_START:"EV_USER_RE_START"};t.ANALYTICS_SCAN_EVENT=a;var s={EV_USER_PERMISSION_SHOWN:"EV_USER_PERMISSION_SHOWN",EV_FI_CLIENT_TRUE:"EV_FI_CLIENT_TRUE",EV_FI_FAIL:"EV_FI_FAIL",EV_FI_INIT:"EV_FI_INIT",EV_FACESHAPE_SUCCESS_SHAPE:"EV_FACESHAPE_SUCCESS_SHAPE",EV_USER_FI_FACESHAPE_SELECTED:"EV_USER_FI_FACESHAPE_SELECTED",EV_USER_FI_FACEWIDTH_SELECTED:"EV_USER_FI_FACEWIDTH_SELECTED",EV_USER_FI_RX_SELECTED:"EV_USER_FI_RX_SELECTED",EV_USER_FI_PD_SELECTED:"EV_USER_FI_PD_SELECTED",EV_USER_FI_OVERLAY_SELECTED:"EV_USER_FI_OVERLAY_SELECTED",EV_FI_CALL_SUCCESS:"EV_FI_CALL_SUCCESS",EV_FI_CALL_DELAYED:"EV_FI_CALL_DELAYED",EV_FACEWIDTH_SUCCESS_WIDTH:"EV_FACEWIDTH_SUCCESS_WIDTH",EV_PD_SUCCESS_VALUE:"EV_PD_SUCCESS_VALUE"};t.ANALYTICS_FACEINSIGHTS_EVENT=s;var c=n(n(n({},i),a),s);t.default=c},7321:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ANALYTICS_EVENT",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"ANALYTICS_OVERLAY_EVENT",{enumerable:!0,get:function(){return i.ANALYTICS_OVERLAY_EVENT}}),Object.defineProperty(t,"ANALYTICS_SCAN_EVENT",{enumerable:!0,get:function(){return i.ANALYTICS_SCAN_EVENT}}),Object.defineProperty(t,"ANALYTICS_FACEINSIGHTS_EVENT",{enumerable:!0,get:function(){return i.ANALYTICS_FACEINSIGHTS_EVENT}}),Object.defineProperty(t,"ANALYTICS_ERROR",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"ANALYTICS_TIMING",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"ANALYTICS_OVERLAY_TIMING_EVENT",{enumerable:!0,get:function(){return s.ANALYTICS_OVERLAY_TIMING_EVENT}}),Object.defineProperty(t,"ANALYTICS_SCAN_TIMING_EVENT",{enumerable:!0,get:function(){return s.ANALYTICS_SCAN_TIMING_EVENT}}),Object.defineProperty(t,"ANALYTICS_FACEINSIGHTS_TIMING_EVENT",{enumerable:!0,get:function(){return s.ANALYTICS_FACEINSIGHTS_TIMING_EVENT}}),t.default=void 0;var o,i=u(r(5684)),a=(o=r(2145))&&o.__esModule?o:{default:o},s=u(r(1148));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=f(f(f({},i.default),a.default),s.default);t.default=p},1148:function(e,t){"use strict";function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ANALYTICS_FACEINSIGHTS_TIMING_EVENT=t.ANALYTICS_SCAN_TIMING_EVENT=t.ANALYTICS_OVERLAY_TIMING_EVENT=void 0;var i={TI_OVERLAY_LOADED:"TI_OVERLAY_LOADED",TI_STRIP_LOADED:"TI_STRIP_LOADED",TI_OVERLAY_FIRST_INTERACTION:"TI_OVERLAY_FIRST_INTERACTION",TI_OVERLAY_INTERACTION:"TI_OVERLAY_INTERACTION"};t.ANALYTICS_OVERLAY_TIMING_EVENT=i;var a={TI_TECH_INIT:"TI_TECH_INIT",TI_PRELOAD:"TI_PRELOAD",TI_CAMERA_ACCESS:"TI_CAMERA_ACCESS",TI_USER_SCAN:"TI_USER_SCAN",TI_TECH_INIT_SCAN:"TI_TECH_INIT_SCAN",TI_SCALE_INTRO_SCREEN_DECISION:"TI_SCALE_INTRO_SCREEN_DECISION",TI_SCALE_CAPTURE_SCREEN_DECISION:"TI_SCALE_CAPTURE_SCREEN_DECISION",TI_SCALE_DECISION:"TI_SCALE_DECISION",TI_SCAN_COMMIT:"TI_SCAN_COMMIT",TI_LOADBAR_LOADED:"TI_LOADBAR_LOADED"};t.ANALYTICS_SCAN_TIMING_EVENT=a;var s={TI_FI_INIT:"TI_FI_INIT",TI_FI_VIEWED:"TI_FI_VIEWED",TI_FI_LOADED:"TI_FI_LOADED",TI_SCAN_FI:"TI_SCAN_FI",TI_FI_CALL:"TI_FI_CALL"};t.ANALYTICS_FACEINSIGHTS_TIMING_EVENT=s;var c=n(n(n({},i),a),s);t.default=c},584:function(){"use strict";!function(){window.analytics=window.analytics||[];var e=window.analytics;if(!e.initialize)if(e.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{e.invoked=!0,e.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","reset","group","track","ready","alias","debug","page","once","off","on"],e.factory=function(t){return function(){var r=Array.prototype.slice.call(arguments);return r.unshift(t),e.push(r),e}};for(var t=0;t<e.methods.length;t+=1){var r=e.methods[t];e[r]=e.factory(r)}e.load=function(t,r){var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src="".concat("https:"===document.location.protocol?"https://":"http://","cdn.segment.com/analytics.js/v1/").concat(t,"/analytics.min.js");var o=document.getElementsByTagName("script")[0];o&&o.parentNode.insertBefore(n,o),e._loadOptions=r},e.SNIPPET_VERSION="4.1.0"}}()},386:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={setItem:function(e,t){try{sessionStorage.setItem(e,t)}catch(r){window.dittoStorage={},window.dittoStorage[e]=t}},getItem:function(e){if(!window.dittoStorage)try{return sessionStorage.getItem(e)}catch(e){return null}return window.dittoStorage[e]}};t.default=r},9024:function(e,t,r){"use strict";var n=r(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.FaceInsightsApiManager=t.CompatibilityApiManager=t.RecorderApiManager=t.OverlayApiManager=t.ClientSideApiManager=void 0;var o=n(r(9713)),i=n(r(8882)),a=r(2518),s=r(7124);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.ClientSideApiManager=function(e){var t=u({},e);return e&&(t.signature=e.overlaySignature,delete t.overlaySignature),u(u({},i.default),{},{get:a.get,getThumbnail:a.getThumbnail,getFrontalFrame:a.getFrontalFrame},t)};t.OverlayApiManager=function(e){var t=u({},e);return e&&(t.signature=e.overlaySignature,delete t.overlaySignature),u(u({},i.default),{},{get:a.get,getDittoUrl:a.getDittoUrl,getStrip:a.getStrip},t)};t.RecorderApiManager=function(e){var t=u({},e);return e&&(t.signature=e.partnerSignature,delete t.partnerSignature),u(u({},i.default),{},{post:a.post,startSession:a.startSession,postFrames:a.postFrames,commitSession:a.commitSession,commitScale:a.commitScale,getSessionStatus:a.getSessionStatus},t)};t.CompatibilityApiManager=function(e){var t=u({},e);return e&&(t.signature=e.partnerSignature,delete t.partnerSignature),u(u({},i.default),{},{post:a.post,startSession:a.startSession,postChunk:a.postChunk,postForm:a.postForm,commitSession:a.commitSession,commitScale:a.commitScale,getSessionStatus:a.getSessionStatus},t)};t.FaceInsightsApiManager=function(e){var t=u({},e);return e&&(t.signature=e.overlaySignature,delete t.overlaySignature),u(u(u({},i.default),{},{get:a.get,getCustomerFace:a.getCustomerFace,getRecommendations:a.getRecommendations,getAnalysisResults:a.getAnalysisResults,getAnalysisStatus:a.getAnalysisStatus,post:a.post,postCustomer:a.postCustomer,postAnalyses:a.postAnalyses,put:a.put,putFrontalImage:a.putFrontalImage,putClientData:a.putClientData},t),{},{service:s.SERVICES.FI})}},8882:function(e,t,r){"use strict";var n=r(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(9713)),i=n(r(6753)),a=n(r(3401)),s=r(7124);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l={service:s.SERVICES.VTO,setAuth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e&&(this.accessKey=e),t&&(this.signature=t),e||t||(this.accessKey=null,this.signature=null)},authEnabled:function(){return!!this.accessKey&&!!this.signature},setTryOnServer:function(e){this.tryOnServer=e},setScanId:function(e){this.scanId=e},getBaseURL:function(){var e=this.tryOnServer,t=s.BASE_URL.VTO;return this.service===s.SERVICES.FI&&(e=this.faceInsightsServer,t=s.BASE_URL.FI),"".concat(e).concat(t)},getHeaders:function(){var e={};return this.authEnabled()&&(e[s.HEADER.ACCESS_KEY]=this.accessKey,e[s.HEADER.SIGNATURE]=this.signature),this.service===s.SERVICES.VTO&&(e[s.HEADER.ANALYTICS_SDK_PRODUCT]=this.sdkProduct||"web",e[s.HEADER.ANALYTICS_SDK_VERSION]=this.sdkVersion||"0.0.0",e[s.HEADER.ANALYTICS_APP_NAME]=this.appName||"unknown bsdk"),e},request:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e};return i.default.request(u({url:e,method:t,baseURL:this.getBaseURL(),headers:this.getHeaders()},r)).then(n).catch(this.onError.bind(this))},onError:function(e){var t=e.response;if(t){var r=Object.keys(t.headers).join(" "),n=new RegExp("\\b".concat(s.HEADER.VCS,"\\b"),"i");if(r.match(n)){var o=t.status,i=t.data;throw new a.default(o,i)}}this.mockError(e)},mockError:function(e){var t=e.response,r={status:"error",detail:"internal-server-error"},n=t?t.status:500;throw i.default.isCancel(e)?(n=499,r.detail="request-cancelled"):t&&t.status&&(r.detail=t.status in this.REQUEST_STATUS?this.REQUEST_STATUS[t.status]:"".concat(t.status,"-status-code")),new a.default(n,r)},REQUEST_TYPE:Object.freeze({POST:"post",GET:"get",PUT:"put"}),REQUEST_STATUS:Object.freeze({400:"bad-request",403:"access-denied",404:"not-found",405:"not-allowed",500:"internal-server-error",503:"service-unavailable"})};t.default=l},1885:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ClientSideApiManager",{enumerable:!0,get:function(){return n.ClientSideApiManager}}),Object.defineProperty(t,"OverlayApiManager",{enumerable:!0,get:function(){return n.OverlayApiManager}}),Object.defineProperty(t,"RecorderApiManager",{enumerable:!0,get:function(){return n.RecorderApiManager}}),Object.defineProperty(t,"CompatibilityApiManager",{enumerable:!0,get:function(){return n.CompatibilityApiManager}}),Object.defineProperty(t,"FaceInsightsApiManager",{enumerable:!0,get:function(){return n.FaceInsightsApiManager}}),Object.defineProperty(t,"HEADER",{enumerable:!0,get:function(){return o.HEADER}}),Object.defineProperty(t,"RESPONSE",{enumerable:!0,get:function(){return o.RESPONSE}});var n=r(9024),o=r(7124)},3401:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){this.status=e,this.data=t};t.default=r},2001:function(e,t,r){"use strict";var n=r(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(7501),i=n(r(3601)),a=o.BASE_URL.VTO,s=o.BASE_URL.FI,c={START_SESSION:"".concat(a).concat(i.default.START_SESSION),GET_THUMBNAIL:"".concat(a).concat(i.default.GET_THUMBNAIL),GET_FRONTAL_FRAME:"".concat(a).concat(i.default.GET_FRONTAL_FRAME),GET_DITTO_URL:"".concat(a).concat(i.default.GET_DITTO_URL),GET_STRIP:"".concat(a).concat(i.default.GET_STRIP),POST_CHUNK:"".concat(a).concat(i.default.POST_CHUNK),POST_FORM:"".concat(a).concat(i.default.POST_FORM),COMMIT_SESSION:"".concat(a).concat(i.default.COMMIT_SESSION),GET_SESSION_STATUS:"".concat(a).concat(i.default.GET_SESSION_STATUS),FI_POST_ANALYSES:"".concat(s).concat(i.default.FI_ANALYSES),FI_FRONTAL_IMAGES:"".concat(s).concat(i.default.FI_FRONTAL_IMAGE),FI_CLIENT_DATA:"".concat(s).concat(i.default.FI_CLIENT_DATA),FI_CUSTOMERS:"".concat(s).concat(i.default.FI_CUSTOMERS),FI_RECOMMENDATIONS:"".concat(s).concat(i.default.FI_RECOMMENDATIONS),FI_GET_RESULTS:"".concat(s).concat(i.default.FI_RESULTS),FI_GET_STATUS:"".concat(s).concat(i.default.FI_STATUS)};t.default=c},4541:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={ACCESS_KEY:"X-Ditto-Access-Key-Id",SIGNATURE:"X-Ditto-Signature",VCS:"x-ditto-creation-server",ANALYTICS_APP_NAME:"X-Ditto-Analytics-App-Name",ANALYTICS_SDK_PRODUCT:"X-Ditto-Analytics-Sdk-Product",ANALYTICS_SDK_VERSION:"X-Ditto-Analytics-Sdk-Version"};t.default=r},7124:function(e,t,r){"use strict";var n=r(5318);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"API_CALL",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"BASE_URL",{enumerable:!0,get:function(){return i.BASE_URL}}),Object.defineProperty(t,"SERVICES",{enumerable:!0,get:function(){return i.SERVICES}}),Object.defineProperty(t,"HEADER",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"RESPONSE",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"ROUTE",{enumerable:!0,get:function(){return c.default}});var o=n(r(2001)),i=r(7501),a=n(r(4541)),s=n(r(801)),c=n(r(3601))},9841:function(e,t,r){"use strict";var n=r(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.LEGACY_ERROR=void 0;var o=n(r(9713));function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var a={DITTO_ALREADY_EXISTS:"ditto-already-exists",NON_SCALE_FRAME_TYPE:"non-scale-frame-type",FRAMES_MISSING:"frames-missing",VIDEO_PROCESSING_ERROR:"video-processing-error"};t.LEGACY_ERROR=a;var s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({ERROR:"error",INVALID_SCAN_ID_ERROR:"invalid-scan-id-error",MISSING_PARAMETER:"missing-parameter",INVALID_CHUNK_NUMBER:"invalid-chunk-number",INVALID_CHUNK_TYPE:"invalid-chunk-type",INVALID_CHUNK_LENGTH:"invalid-chunk-length",INVALID_FRAME_COUNT:"invalid-frame-count",FRAME_ERROR:"frame-error",FRAME_INPUT_SIZE_ERROR:"frame-input-size-error",FRAME_INPUT_NOT_IMAGE_ERROR:"frame-input-not-image-error",FRAME_INPUT_NOT_JPEG_ERROR:"frame-input-not-jpeg-error",FRAME_TYPE_NOT_ALLOWED_ERROR:"frame-type-not-allowed-error",FRAME_SIZE_NOT_ALLOWED_ERROR:"frame-size-not-allowed-error",SCAN_COLLISION:"scan-collision",SESSION_NOT_FOUND:"session-not-found",ALREADY_COMMITTED:"already-committed",COMMIT_IN_PROGRESS:"commit-in-progress",ERROR_TIMED_OUT:"error-timed-out",ERROR_SCALING:"error-scaling",ERROR_DETECTION:"error-detection",INCORRECT_DATA:"incorrect-data",SCAN_STATUS_NOT_FOUND:"scan-status-not-found"},a);t.default=s},801:function(e,t,r){"use strict";var n=r(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(9841)),i=n(r(7967)),a={ERROR:o.default,STATUS:i.default};t.default=a},7967:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={SUCCESS:"success",ERROR:"error",IN_PROGRESS:"in-progress"}},3601:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={START_SESSION:"/",GET_THUMBNAIL:"/thumbnail",GET_FRONTAL_FRAME:"/frontal-frame",GET_DITTO_URL:"/",GET_STRIP:"/strip",POST_CHUNK:"/creation/chunk",POST_FORM:"/creation/form",COMMIT_SESSION:"/creation/commit",COMMIT_SCALE:"/creation/scale",GET_SESSION_STATUS:"/creation/status",FI_ANALYSES:"/",FI_FRONTAL_IMAGE:"/images/frontal",FI_CLIENT_DATA:"/client-data",FI_CUSTOMERS:"/customers",FI_RECOMMENDATIONS:"/recommendations",FI_RESULTS:"/results",FI_STATUS:"/status"};t.default=r},7501:function(e,t,r){"use strict";var n=r(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.SERVICES=t.BASE_URL=void 0;var o,i=n(r(9713)),a={VTO:"VTO",FI:"FI"};t.SERVICES=a;var s=(o={},(0,i.default)(o,a.VTO,"/api/1.4/dittos"),(0,i.default)(o,a.FI,"/faceiq/api/1.0/analyses"),o);t.BASE_URL=s},8821:function(e,t,r){"use strict";var n=r(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(9713)),i=r(7124);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=function(e){var t=[i.RESPONSE.ERROR.ALREADY_COMMITTED,i.RESPONSE.ERROR.COMMIT_IN_PROGRESS],r=e.data.status;return t.includes(r)?Promise.reject({response:s(s({},e),{},{headers:s(s({},e.headers),{},(0,o.default)({},i.HEADER.VCS,"api-manager-mock-vcs")),status:409,data:{status:i.RESPONSE.ERROR.ERROR,detail:r}})}):Promise.resolve(e)};t.default=c},3827:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAnalysisStatus=t.getAnalysisResults=t.getRecommendations=t.getCustomerFace=t.getStrip=t.getDittoUrl=t.getFrontalFrame=t.getThumbnail=t.get=void 0;var n=r(7124);t.get=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t&&t.params&&t.params.glassesId&&(t.params.sku=t.params.glassesId,delete t.params.glassesId),this.request(e,this.REQUEST_TYPE.GET,t)};t.getThumbnail=function(){var e="/".concat(this.scanId).concat(n.ROUTE.GET_THUMBNAIL,"/?type=json");return this.get(e)};t.getFrontalFrame=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="/".concat(this.scanId).concat(n.ROUTE.GET_FRONTAL_FRAME,"/");return this.get(t,{params:e,responseType:"arraybuffer"})};t.getDittoUrl=function(){var e="/".concat(this.scanId,"/");return this.get(e)};t.getStrip=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="/".concat(this.scanId).concat(n.ROUTE.GET_STRIP,"/");return this.get(t,{params:e,responseType:"arraybuffer"})};t.getCustomerFace=function(){var e="".concat(n.ROUTE.FI_CUSTOMERS,"/").concat(this.scanId,"/faces/");return this.get(e)};t.getRecommendations=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="".concat(n.ROUTE.FI_RECOMMENDATIONS,"/by-cid/").concat(this.scanId,"/");return this.get(t,{params:e})};t.getAnalysisResults=function(){var e="/".concat(this.scanId).concat(n.ROUTE.FI_RESULTS,"/");return this.get(e)};t.getAnalysisStatus=function(){var e="/".concat(this.scanId).concat(n.ROUTE.FI_STATUS,"/");return this.get(e)}},2518:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"post",{enumerable:!0,get:function(){return n.post}}),Object.defineProperty(t,"startSession",{enumerable:!0,get:function(){return n.startSession}}),Object.defineProperty(t,"postFrames",{enumerable:!0,get:function(){return n.postFrames}}),Object.defineProperty(t,"postChunk",{enumerable:!0,get:function(){return n.postChunk}}),Object.defineProperty(t,"postForm",{enumerable:!0,get:function(){return n.postForm}}),Object.defineProperty(t,"commitSession",{enumerable:!0,get:function(){return n.commitSession}}),Object.defineProperty(t,"commitScale",{enumerable:!0,get:function(){return n.commitScale}}),Object.defineProperty(t,"getSessionStatus",{enumerable:!0,get:function(){return n.getSessionStatus}}),Object.defineProperty(t,"postAnalyses",{enumerable:!0,get:function(){return n.postAnalyses}}),Object.defineProperty(t,"postCustomer",{enumerable:!0,get:function(){return n.postCustomer}}),Object.defineProperty(t,"put",{enumerable:!0,get:function(){return o.put}}),Object.defineProperty(t,"putFrontalImage",{enumerable:!0,get:function(){return o.putFrontalImage}}),Object.defineProperty(t,"putClientData",{enumerable:!0,get:function(){return o.putClientData}}),Object.defineProperty(t,"get",{enumerable:!0,get:function(){return i.get}}),Object.defineProperty(t,"getThumbnail",{enumerable:!0,get:function(){return i.getThumbnail}}),Object.defineProperty(t,"getFrontalFrame",{enumerable:!0,get:function(){return i.getFrontalFrame}}),Object.defineProperty(t,"getDittoUrl",{enumerable:!0,get:function(){return i.getDittoUrl}}),Object.defineProperty(t,"getStrip",{enumerable:!0,get:function(){return i.getStrip}}),Object.defineProperty(t,"getCustomerFace",{enumerable:!0,get:function(){return i.getCustomerFace}}),Object.defineProperty(t,"getRecommendations",{enumerable:!0,get:function(){return i.getRecommendations}}),Object.defineProperty(t,"getAnalysisResults",{enumerable:!0,get:function(){return i.getAnalysisResults}}),Object.defineProperty(t,"getAnalysisStatus",{enumerable:!0,get:function(){return i.getAnalysisStatus}});var n=r(8679),o=r(9554),i=r(3827)},8679:function(e,t,r){"use strict";var n=r(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.postAnalyses=t.postCustomer=t.getSessionStatus=t.commitScale=t.commitSession=t.postForm=t.postChunk=t.postFrames=t.startSession=t.post=void 0;var o=n(r(9713)),i=r(7124),a=n(r(8821));function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.post=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return this.request(e,this.REQUEST_TYPE.POST,t,r)};t.startSession=function(e){var t=this;return e?this.signature=this.partnerSignature:this.partnerSignature=this.signature,this.post(i.ROUTE.START_SESSION).then((function(e){var r=e.data;return r.status===i.RESPONSE.STATUS.SUCCESS&&r.ditto_id&&(t.scanId=r.ditto_id),r.signature&&(t.signature=r.signature),e}))};t.postFrames=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n="/".concat(this.scanId,"/creation/frames/");return this.post(n,{data:e,params:t,cancelToken:r})};t.postChunk=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n="/".concat(this.scanId).concat(i.ROUTE.POST_CHUNK,"/");return this.post(n,{data:e,params:t,cancelToken:r})};t.postForm=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n="/".concat(this.scanId).concat(i.ROUTE.POST_FORM,"/");return this.post(n,{data:e,onUploadProgress:t,cancelToken:r})};t.commitSession=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="/".concat(this.scanId).concat(i.ROUTE.COMMIT_SESSION,"/"),n=c({},e),o=c({},t);return"boolean"==typeof e.mobile&&(n.mobile=Number(n.mobile)),this.post(r,{params:n,data:o},a.default)};t.commitScale=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r="/".concat(this.scanId).concat(i.ROUTE.COMMIT_SCALE,"/");return this.post(r,{data:e,cancelToken:t})};t.getSessionStatus=function(){var e="/".concat(this.scanId).concat(i.ROUTE.GET_SESSION_STATUS,"/");return this.post(e)};t.postCustomer=function(e){var t="".concat(i.ROUTE.FI_CUSTOMERS,"/");return this.post(t,{data:e})};t.postAnalyses=function(e){var t="".concat(i.ROUTE.FI_ANALYSES).concat(this.scanId,"/");return this.post(t,{data:e})}},9554:function(e,t,r){"use strict";var n=r(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.putClientData=t.putFrontalImage=t.put=void 0;var o=n(r(9713)),i=r(7124);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.put=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return this.request(e,this.REQUEST_TYPE.PUT,t,r)};t.putFrontalImage=function(e){var t="/".concat(this.scanId).concat(i.ROUTE.FI_FRONTAL_IMAGE,"/"),r=this.getHeaders();return this.put(t,{data:e,headers:s(s({},r),{},{"content-type":e.type})})};t.putClientData=function(e){var t="/".concat(this.scanId).concat(i.ROUTE.FI_CLIENT_DATA,"/"),r=this.getHeaders();return this.put(t,{data:e,headers:s(s({},r),{},{"content-type":"application/json"})})}},6753:function(e,t,r){e.exports=r(2575)},2284:function(e,t,r){"use strict";var n=r(8553),o=r(5115),i=r(8600),a=r(292),s=r(3363),c=r(5383),u=r(6918),l=r(6770);e.exports=function(e){return new Promise((function(t,r){var f=e.data,d=e.headers,p=e.responseType;n.isFormData(f)&&delete d["Content-Type"];var h=new XMLHttpRequest;if(e.auth){var E=e.auth.username||"",v=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";d.Authorization="Basic "+btoa(E+":"+v)}var m=s(e.baseURL,e.url);function g(){if(h){var n="getAllResponseHeaders"in h?c(h.getAllResponseHeaders()):null,i={data:p&&"text"!==p&&"json"!==p?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:n,config:e,request:h};o(t,r,i),h=null}}if(h.open(e.method.toUpperCase(),a(m,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,"onloadend"in h?h.onloadend=g:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(g)},h.onabort=function(){h&&(r(l("Request aborted",e,"ECONNABORTED",h)),h=null)},h.onerror=function(){r(l("Network Error",e,null,h)),h=null},h.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(l(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",h)),h=null},n.isStandardBrowserEnv()){var _=(e.withCredentials||u(m))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;_&&(d[e.xsrfHeaderName]=_)}"setRequestHeader"in h&&n.forEach(d,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete d[t]:h.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),p&&"json"!==p&&(h.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){h&&(h.abort(),r(e),h=null)})),f||(f=null),h.send(f)}))}},2575:function(e,t,r){"use strict";var n=r(8553),o=r(6016),i=r(530),a=r(1580);function s(e){var t=new i(e),r=o(i.prototype.request,t);return n.extend(r,i.prototype,t),n.extend(r,t),r}var c=s(r(1540));c.Axios=i,c.create=function(e){return s(a(c.defaults,e))},c.Cancel=r(3789),c.CancelToken=r(6440),c.isCancel=r(5257),c.all=function(e){return Promise.all(e)},c.spread=r(2560),c.isAxiosError=r(149),e.exports=c,e.exports.default=c},3789:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},6440:function(e,t,r){"use strict";var n=r(3789);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},5257:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},530:function(e,t,r){"use strict";var n=r(8553),o=r(292),i=r(6223),a=r(3495),s=r(1580),c=r(5150),u=c.validators;function l(e){this.defaults=e,this.interceptors={request:new i,response:new i}}l.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&c.assertOptions(t,{silentJSONParsing:u.transitional(u.boolean,"1.0.0"),forcedJSONParsing:u.transitional(u.boolean,"1.0.0"),clarifyTimeoutError:u.transitional(u.boolean,"1.0.0")},!1);var r=[],n=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(n=n&&t.synchronous,r.unshift(t.fulfilled,t.rejected))}));var o,i=[];if(this.interceptors.response.forEach((function(e){i.push(e.fulfilled,e.rejected)})),!n){var l=[a,void 0];for(Array.prototype.unshift.apply(l,r),l=l.concat(i),o=Promise.resolve(e);l.length;)o=o.then(l.shift(),l.shift());return o}for(var f=e;r.length;){var d=r.shift(),p=r.shift();try{f=d(f)}catch(e){p(e);break}}try{o=a(f)}catch(e){return Promise.reject(e)}for(;i.length;)o=o.then(i.shift(),i.shift());return o},l.prototype.getUri=function(e){return e=s(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,r){return this.request(s(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,r,n){return this.request(s(n||{},{method:e,url:t,data:r}))}})),e.exports=l},6223:function(e,t,r){"use strict";var n=r(8553);function o(){this.handlers=[]}o.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},3363:function(e,t,r){"use strict";var n=r(5973),o=r(4705);e.exports=function(e,t){return e&&!n(t)?o(e,t):t}},6770:function(e,t,r){"use strict";var n=r(6970);e.exports=function(e,t,r,o,i){var a=new Error(e);return n(a,t,r,o,i)}},3495:function(e,t,r){"use strict";var n=r(8553),o=r(6448),i=r(5257),a=r(1540);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(s(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},6970:function(e){"use strict";e.exports=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},1580:function(e,t,r){"use strict";var n=r(8553);e.exports=function(e,t){t=t||{};var r={},o=["url","method","data"],i=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function c(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function u(o){n.isUndefined(t[o])?n.isUndefined(e[o])||(r[o]=c(void 0,e[o])):r[o]=c(e[o],t[o])}n.forEach(o,(function(e){n.isUndefined(t[e])||(r[e]=c(void 0,t[e]))})),n.forEach(i,u),n.forEach(a,(function(o){n.isUndefined(t[o])?n.isUndefined(e[o])||(r[o]=c(void 0,e[o])):r[o]=c(void 0,t[o])})),n.forEach(s,(function(n){n in t?r[n]=c(e[n],t[n]):n in e&&(r[n]=c(void 0,e[n]))}));var l=o.concat(i).concat(a).concat(s),f=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return n.forEach(f,u),r}},5115:function(e,t,r){"use strict";var n=r(6770);e.exports=function(e,t,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},6448:function(e,t,r){"use strict";var n=r(8553),o=r(1540);e.exports=function(e,t,r){var i=this||o;return n.forEach(r,(function(r){e=r.call(i,e,t)})),e}},1540:function(e,t,r){"use strict";var n=r(8553),o=r(3698),i=r(6970),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(c=r(2284)),c),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,r){if(n.isString(e))try{return(t||JSON.parse)(e),n.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,r=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,a=!r&&"json"===this.responseType;if(a||o&&n.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(a){if("SyntaxError"===e.name)throw i(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){u.headers[e]=n.merge(a)})),e.exports=u},6016:function(e){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},292:function(e,t,r){"use strict";var n=r(8553);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(n.isURLSearchParams(t))i=t.toString();else{var a=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),i=a.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},4705:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},8600:function(e,t,r){"use strict";var n=r(8553);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(o)&&s.push("path="+o),n.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},5973:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},149:function(e){"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},6918:function(e,t,r){"use strict";var n=r(8553);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},3698:function(e,t,r){"use strict";var n=r(8553);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},5383:function(e,t,r){"use strict";var n=r(8553),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,i,a={};return e?(n.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=n.trim(e.substr(0,i)).toLowerCase(),r=n.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([r]):a[t]?a[t]+", "+r:r}})),a):a}},2560:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},5150:function(e,t,r){"use strict";var n=r(7136),o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var i={},a=n.version.split(".");function s(e,t){for(var r=t?t.split("."):a,n=e.split("."),o=0;o<3;o++){if(r[o]>n[o])return!0;if(r[o]<n[o])return!1}return!1}o.transitional=function(e,t,r){var o=t&&s(t);function a(e,t){return"[Axios v"+n.version+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,s){if(!1===e)throw new Error(a(n," has been removed in "+t));return o&&!i[n]&&(i[n]=!0,console.warn(a(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,s)}},e.exports={isOlderVersion:s,assertOptions:function(e,t,r){if("object"!=typeof e)throw new TypeError("options must be an object");for(var n=Object.keys(e),o=n.length;o-- >0;){var i=n[o],a=t[i];if(a){var s=e[i],c=void 0===s||a(s,i,e);if(!0!==c)throw new TypeError("option "+i+" must be "+c)}else if(!0!==r)throw Error("Unknown option "+i)}},validators:o}},8553:function(e,t,r){"use strict";var n=r(6016),o=Object.prototype.toString;function i(e){return"[object Array]"===o.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===o.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isPlainObject:c,isUndefined:a,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:u,isStream:function(e){return s(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function e(){var t={};function r(r,n){c(t[n])&&c(r)?t[n]=e(t[n],r):c(r)?t[n]=e({},r):i(r)?t[n]=r.slice():t[n]=r}for(var n=0,o=arguments.length;n<o;n++)l(arguments[n],r);return t},extend:function(e,t,r){return l(t,(function(t,o){e[o]=r&&"function"==typeof t?n(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},439:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.recorderError=t.overlayError=t.scanError=t.createError=void 0;var n=s(r(5347)),o=s(r(9737)),i=s(r(3572)),a=s(r(4772));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(e,t){if(!(e in n.default))throw new Error("BrowserError ERROR: unrecognized module type: ".concat(e,"."));var r=u({},t);return t.errorTitle||(r.errorTitle="unknown"),u({module:e},r)};t.createError=f;t.scanError=function(e){var t=e.errorType;if(!(t in o.default))throw new Error("ScanError ERROR: unrecognized errorType of type: ".concat(t));return f(n.default.SCAN,e)};t.overlayError=function(e){var t=e.errorType;if(!(t in i.default))throw new Error("OverlayError ERROR: unrecognized errorType of type: ".concat(t));return f(n.default.OVERLAY,e)};t.recorderError=function(e){var t=e.errorType;if(!(t in a.default))throw new Error("RecorderError ERROR: unrecognized errorType of type: ".concat(t));return f(n.default.RECORDER,e)}},4682:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"MODULE",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"SCAN_ERROR",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"OVERLAY_ERROR",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"RECORDER_ERROR",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"scanError",{enumerable:!0,get:function(){return s.scanError}}),Object.defineProperty(t,"overlayError",{enumerable:!0,get:function(){return s.overlayError}}),Object.defineProperty(t,"recorderError",{enumerable:!0,get:function(){return s.recorderError}});var n=c(r(5347)),o=c(r(9737)),i=c(r(3572)),a=c(r(4772)),s=r(439);function c(e){return e&&e.__esModule?e:{default:e}}},3572:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={ERROR:"ERROR",NO_SCAN:"NO_SCAN",NO_PRODUCT:"NO_PRODUCT"};t.default=r},4772:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={ERROR:"ERROR",INIT:"INIT",CAMERA_ACCESS_DENIED:"CAMERA_ACCESS_DENIED",SCAN_FAILED:"SCAN_FAILED",SCALE_FAILED:"SCALE_FAILED",BAD_CAMERA_ID:"BAD_CAMERA_ID",REPEAT_METHOD_CALLS:"REPEAT_METHOD_CALLS",NETWORK_ERROR:"NETWORK_ERROR",AUTH_FAILED:"AUTH_FAILED",AUTH_REQUIRED:"AUTH_REQUIRED"};t.default=r},9737:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={ERROR:"ERROR",SCAN_FAILED:"SCAN_FAILED",NETWORK_ERROR:"NETWORK_ERROR",DENY_CAMERA_ACCESS:"DENY_CAMERA_ACCESS",EXISTING_OVERLAY:"EXISTING_OVERLAY",DETECTION:"DETECTION",NOT_ENOUGH_FRAMES:"NOT_ENOUGH_FRAMES",NO_CAMERA:"NO_CAMERA",CAMERA_BLOCKED:"CAMERA_BLOCKED",UPDATE_FLASH:"UPDATE_FLASH",VIDEO_TOO_LARGE:"VIDEO_TOO_LARGE",BROKEN_SAFARI:"BROKEN_SAFARI",VIDEO_PROCESSING:"VIDEO_PROCESSING",ORIENTATION_CHANGED:"ORIENTATION_CHANGED"};t.default=r},5347:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={SCAN:"SCAN",OVERLAY:"OVERLAY",RECORDER:"RECORDER"};t.default=r},7734:function(e,t,r){e.exports=r(3514)},6470:function(e,t,r){"use strict";var n=r(259),o=r(7575),i=r(8138),a=r(6142),s=r(6301),c=r(9842),u=r(266),l=r(5602);e.exports=function(e){return new Promise((function(t,r){var f=e.data,d=e.headers,p=e.responseType;n.isFormData(f)&&delete d["Content-Type"];var h=new XMLHttpRequest;if(e.auth){var E=e.auth.username||"",v=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";d.Authorization="Basic "+btoa(E+":"+v)}var m=s(e.baseURL,e.url);function g(){if(h){var n="getAllResponseHeaders"in h?c(h.getAllResponseHeaders()):null,i={data:p&&"text"!==p&&"json"!==p?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:n,config:e,request:h};o(t,r,i),h=null}}if(h.open(e.method.toUpperCase(),a(m,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,"onloadend"in h?h.onloadend=g:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(g)},h.onabort=function(){h&&(r(l("Request aborted",e,"ECONNABORTED",h)),h=null)},h.onerror=function(){r(l("Network Error",e,null,h)),h=null},h.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(l(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",h)),h=null},n.isStandardBrowserEnv()){var _=(e.withCredentials||u(m))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;_&&(d[e.xsrfHeaderName]=_)}"setRequestHeader"in h&&n.forEach(d,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete d[t]:h.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),p&&"json"!==p&&(h.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){h&&(h.abort(),r(e),h=null)})),f||(f=null),h.send(f)}))}},3514:function(e,t,r){"use strict";var n=r(259),o=r(7199),i=r(8696),a=r(3540);function s(e){var t=new i(e),r=o(i.prototype.request,t);return n.extend(r,i.prototype,t),n.extend(r,t),r}var c=s(r(4123));c.Axios=i,c.create=function(e){return s(a(c.defaults,e))},c.Cancel=r(1180),c.CancelToken=r(5338),c.isCancel=r(9051),c.all=function(e){return Promise.all(e)},c.spread=r(788),c.isAxiosError=r(3505),e.exports=c,e.exports.default=c},1180:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},5338:function(e,t,r){"use strict";var n=r(1180);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},9051:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},8696:function(e,t,r){"use strict";var n=r(259),o=r(6142),i=r(6443),a=r(5594),s=r(3540),c=r(4878),u=c.validators;function l(e){this.defaults=e,this.interceptors={request:new i,response:new i}}l.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&c.assertOptions(t,{silentJSONParsing:u.transitional(u.boolean,"1.0.0"),forcedJSONParsing:u.transitional(u.boolean,"1.0.0"),clarifyTimeoutError:u.transitional(u.boolean,"1.0.0")},!1);var r=[],n=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(n=n&&t.synchronous,r.unshift(t.fulfilled,t.rejected))}));var o,i=[];if(this.interceptors.response.forEach((function(e){i.push(e.fulfilled,e.rejected)})),!n){var l=[a,void 0];for(Array.prototype.unshift.apply(l,r),l=l.concat(i),o=Promise.resolve(e);l.length;)o=o.then(l.shift(),l.shift());return o}for(var f=e;r.length;){var d=r.shift(),p=r.shift();try{f=d(f)}catch(e){p(e);break}}try{o=a(f)}catch(e){return Promise.reject(e)}for(;i.length;)o=o.then(i.shift(),i.shift());return o},l.prototype.getUri=function(e){return e=s(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,r){return this.request(s(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,r,n){return this.request(s(n||{},{method:e,url:t,data:r}))}})),e.exports=l},6443:function(e,t,r){"use strict";var n=r(259);function o(){this.handlers=[]}o.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},6301:function(e,t,r){"use strict";var n=r(1329),o=r(6741);e.exports=function(e,t){return e&&!n(t)?o(e,t):t}},5602:function(e,t,r){"use strict";var n=r(9983);e.exports=function(e,t,r,o,i){var a=new Error(e);return n(a,t,r,o,i)}},5594:function(e,t,r){"use strict";var n=r(259),o=r(4800),i=r(9051),a=r(4123);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(s(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},9983:function(e){"use strict";e.exports=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},3540:function(e,t,r){"use strict";var n=r(259);e.exports=function(e,t){t=t||{};var r={},o=["url","method","data"],i=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function c(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function u(o){n.isUndefined(t[o])?n.isUndefined(e[o])||(r[o]=c(void 0,e[o])):r[o]=c(e[o],t[o])}n.forEach(o,(function(e){n.isUndefined(t[e])||(r[e]=c(void 0,t[e]))})),n.forEach(i,u),n.forEach(a,(function(o){n.isUndefined(t[o])?n.isUndefined(e[o])||(r[o]=c(void 0,e[o])):r[o]=c(void 0,t[o])})),n.forEach(s,(function(n){n in t?r[n]=c(e[n],t[n]):n in e&&(r[n]=c(void 0,e[n]))}));var l=o.concat(i).concat(a).concat(s),f=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return n.forEach(f,u),r}},7575:function(e,t,r){"use strict";var n=r(5602);e.exports=function(e,t,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},4800:function(e,t,r){"use strict";var n=r(259),o=r(4123);e.exports=function(e,t,r){var i=this||o;return n.forEach(r,(function(r){e=r.call(i,e,t)})),e}},4123:function(e,t,r){"use strict";var n=r(259),o=r(8509),i=r(9983),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(c=r(6470)),c),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,r){if(n.isString(e))try{return(t||JSON.parse)(e),n.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,r=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,a=!r&&"json"===this.responseType;if(a||o&&n.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(a){if("SyntaxError"===e.name)throw i(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){u.headers[e]=n.merge(a)})),e.exports=u},7199:function(e){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},6142:function(e,t,r){"use strict";var n=r(259);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(n.isURLSearchParams(t))i=t.toString();else{var a=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),i=a.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},6741:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},8138:function(e,t,r){"use strict";var n=r(259);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(o)&&s.push("path="+o),n.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1329:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},3505:function(e){"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},266:function(e,t,r){"use strict";var n=r(259);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},8509:function(e,t,r){"use strict";var n=r(259);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},9842:function(e,t,r){"use strict";var n=r(259),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,i,a={};return e?(n.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=n.trim(e.substr(0,i)).toLowerCase(),r=n.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([r]):a[t]?a[t]+", "+r:r}})),a):a}},788:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},4878:function(e,t,r){"use strict";var n=r(1987),o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var i={},a=n.version.split(".");function s(e,t){for(var r=t?t.split("."):a,n=e.split("."),o=0;o<3;o++){if(r[o]>n[o])return!0;if(r[o]<n[o])return!1}return!1}o.transitional=function(e,t,r){var o=t&&s(t);function a(e,t){return"[Axios v"+n.version+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,s){if(!1===e)throw new Error(a(n," has been removed in "+t));return o&&!i[n]&&(i[n]=!0,console.warn(a(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,s)}},e.exports={isOlderVersion:s,assertOptions:function(e,t,r){if("object"!=typeof e)throw new TypeError("options must be an object");for(var n=Object.keys(e),o=n.length;o-- >0;){var i=n[o],a=t[i];if(a){var s=e[i],c=void 0===s||a(s,i,e);if(!0!==c)throw new TypeError("option "+i+" must be "+c)}else if(!0!==r)throw Error("Unknown option "+i)}},validators:o}},259:function(e,t,r){"use strict";var n=r(7199),o=Object.prototype.toString;function i(e){return"[object Array]"===o.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===o.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isPlainObject:c,isUndefined:a,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:u,isStream:function(e){return s(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function e(){var t={};function r(r,n){c(t[n])&&c(r)?t[n]=e(t[n],r):c(r)?t[n]=e({},r):i(r)?t[n]=r.slice():t[n]=r}for(var n=0,o=arguments.length;n<o;n++)l(arguments[n],r);return t},extend:function(e,t,r){return l(t,(function(t,o){e[o]=r&&"function"==typeof t?n(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},8012:function(e,t,r){"use strict";var n=r(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(7757)),i=n(r(8926)),a=n(r(4575)),s=n(r(3913)),c=n(r(2205)),u=n(r(8585)),l=n(r(9754)),f=r(55),d=n(r(1494)),p=n(r(6998)),h=n(r(9928)),E=n(r(2791));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}var m=.01,g=function(e){(0,c.default)(n,e);var t,r=v(n);function n(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.default)(this,n),(e=r.call(this,t)).recordthis=function(){e.recordController.startRecording(e.video),e.video.removeEventListener("playing",e.recordthis)},e.recordVideo=function(){e.recordController.addCallback(h.default.ON_RECORD_VIDEO,(function(){e.dispatchEvent(E.default.VTO_RECORDING_COMPLETE)})),e.recordController.addCallback(h.default.ON_RECORD_VIDEO_PROGRESS,(function(t){e.dispatchEvent(E.default.VTO_GUIDANCE_UPDATE,t)})),e.recordController.addCallback(h.default.ON_FRAME_DUMP,e.dumpFrame),e.recordController.addCallback(h.default.ON_ERROR,e.onError),e.video.addEventListener("playing",e.recordthis),e.video.currentTime=m,e.video.play(),setTimeout((function(){e.video.currentTime=m,e.video.play()}),e.initPause||0)},e.url=t.url,e.initPause=t.timeline.initPause,e.container.removeChild(e.container.children[0]),e.prepareContainer(),e}return(0,s.default)(n,[{key:"prepareContainer",value:(t=(0,i.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=document.createElement("video")).autoplay=!1,t.preload=!0,t.muted=!0,t.setAttribute("src",this.url),t.setAttribute("playsinline","playsinline"),t.setAttribute("crossorigin","anonymous"),t.setAttribute("width","640px"),t.setAttribute("height","480px"),t.classList.add("Recorder-video"),this.video=t,this.container.classList.add("Recorder-videoWrap"),this.container.appendChild(t),t.currentTime=m,e.next=16,this.video.addEventListener("loadedmetadata",(function(){}));case 16:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"accessCamera",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r={},n=Date.now();return t&&(r.video={deviceId:{exact:t}}),(0,d.default)(r).then((function(){var t=e.video,r=t.videoWidth,o=t.videoHeight,i={getSettings:function(){return{width:r,height:o}},getCapabilities:function(){return{width:{max:r},height:{max:o}}},applyConstraints:function(){}};try{e.setCameraCompensation(i),e.scaleVideo()}catch(e){console.warn("camera compensation error: ",e)}if((e.dispatchEvent(E.default.VTO_ANALYSIS_READY),window.AnalyticsSingleton)&&Date.now()-n>500){var a=new Date(n);window.AnalyticsSingleton.track(f.ANALYTICS_FACEINSIGHTS_EVENT.EV_USER_PERMISSION_SHOWN,{timeStamp:a.toISOString()})}return!0})).catch((function(){return e.dispatchEvent(E.default.VTO_ANALYSIS_READY),!1}))}},{key:"recordScale",value:function(){var e=this;this.scaleController.addCallback(h.default.ON_RECORD_SCALE,(function(){e.dispatchEvent(E.default.VTO_SCALE_STEP_COMPLETE)})),this.scaleController.addCallback(h.default.ON_ERROR,this.onError),this.video.currentTime=this.video.duration/2-.3,this.scaleController.startScale(this.video)}},{key:"stopStream",value:function(){return!0}}]),n}(p.default);t.default=g},4956:function(e,t,r){"use strict";var n=r(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.captureFrame=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0;if(!e)return null;var n="image/jpeg",i=r?c.apply(void 0,[e].concat((0,o.default)(r))):s(e,e.videoWidth,e.videoHeight);if(!t){var a=i.toDataURL(n);return a.replace(/^data:image\/(png|jpg|jpeg);base64,/,"")}var u=i.getContext("2d");return u.getImageData(0,0,i.width,i.height)},t.cropFrame=c,t.drawImage=s;var o=n(r(319)),i=n(r(3038)),a=n(r(9482));function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:480,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:480,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,a=document.createElement("canvas");a.width=t*i,a.height=r*i;var s=a.getContext("2d");return s.translate(a.width,0),s.scale(-1,1),s.drawImage(e,Math.abs(n),Math.abs(o),Math.abs(t),Math.abs(r),0,0,a.width,a.height),a}function c(e,t,r){var n=(0,i.default)(t,2),o=n[0],c=n[1],u=(0,i.default)(r,2),l=u[0],f=u[1],d=Math.abs(l-o),p=Math.abs(f-c),h=Math.min(o,l),E=Math.min(c,f),v=Math.max(d,p);return s(e,d,p,h,E,v>a.default.SCAN?a.default.SCAN/v:1)}},61:function(e,t,r){"use strict";var n=r(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(9713)),i=n(r(4575)),a=n(r(3913)),s=r(4682),c=n(r(9928)),u=n(r(2542)),l=r(4956);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var d=u.default.INTERVAL,p=function(){function e(){(0,i.default)(this,e),this.intervalTimer=null,this.tickCount=0,this.callbacks={},this.video=null}return(0,a.default)(e,[{key:"takeFrame",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,r=this.video;if(!r)throw new Error("MediaStream object is undefined.");var n=!t&&this.cropBBox;return(0,l.captureFrame)(r,e,n)}},{key:"start",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!e&&!this.video)throw new Error("MediaStream object is undefined.");this.intervalTimer?this.onError(s.RECORDER_ERROR.REPEAT_METHOD_CALLS):(this.video=e||this.video,this.startIntervalTimer())}},{key:"stop",value:function(){this.stopIntervalTimer(),this.tickCount=0}},{key:"startIntervalTimer",value:function(){}},{key:"stopIntervalTimer",value:function(){this.intervalTimer&&(window.clearInterval(this.intervalTimer),this.intervalTimer=null)}},{key:"onError",value:function(t){var r;r="string"==typeof t?{errorType:s.RECORDER_ERROR.ERROR,errorTitle:t}:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t),this.fireCallback(e.CALLBACK_TYPE.ON_ERROR,r)}},{key:"addCallback",value:function(e,t){if(!Object.values(c.default).includes(e))throw new Error("Unidentified callback of type: ".concat(e,", passed into Controller."));this.callbacks[e]=t}},{key:"fireCallback",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e in this.callbacks&&this.callbacks[e](t)}}],[{key:"INTERVAL",get:function(){return d}},{key:"CALLBACK_TYPE",get:function(){return Object.freeze(c.default)}}]),e}();t.default=p},6554:function(e,t,r){"use strict";var n=r(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(4575)),i=n(r(3913)),a=n(r(1506)),s=n(r(6525)),c=n(r(2205)),u=n(r(8585)),l=n(r(9754)),f=n(r(61)),d=n(r(8895)),p=r(7947),h=n(r(2542));function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}var v=h.default.FRAMES_TO_CAPTURE,m=h.default.CAPTURE_RATE,g=h.default.ON_RECORD_PROGRESS_INTERVAL,_=v;var O=function(e){(0,c.default)(r,e);var t=E(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{initPause:0,turnLeft:2500,leftPause:0,leftToCenter:2500,centerPause:0,turnRight:2500,rightPause:0,rightToCenter:2500},i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,o.default)(this,r),(e=t.call(this)).frameCount=0,e.directionIndex=0,e.totalTicks=0,e.timeline=n,e.overrideFramesNum=i,e.framesToCapture=v,e.setTotalDuration(n),e.setTicksUntilCompletion(),e.setTicksPerDirection(),e.setTickPerFramePerSide(),e.record=e.record.bind((0,a.default)(e)),e}return(0,i.default)(r,[{key:"record",value:function(){this.tickCount+=1,this.totalTicks+=1,this.shouldTakeFrame()&&this.takeFrame(),this.shouldChangeDirection()&&this.changeDirection(),this.shouldReportProgress()&&this.reportProgress(),this.shouldStopRecording()&&this.stopRecording()}},{key:"setTotalDuration",value:function(e){this.totalDuration=Object.values(e).reduce((function(e,t){return e+t}))}},{key:"setTicksUntilCompletion",value:function(){this.ticksUntilCompletion=this.totalDuration/f.default.INTERVAL}},{key:"setTicksPerDirection",value:function(){var e=this;this.ticksPerDirection={},Object.values(p.GUIDANCE_DIRECTION).forEach((function(t){e.ticksPerDirection[t]={ticks:e.timeline[p.GUIDANCE_TO_ARG[t]]/f.default.INTERVAL}}))}},{key:"setTickPerFramePerSide",value:function(){var e=this;if(this.tickPerFramePerSide={},this.overrideFramesNum){var t=p.RECORDING_DIRECTIONS.reduce((function(t,r){return e.ticksPerDirection[r].ticks+t}),0)/v,r=t/Math.round(t);this.framesToCapture*=r,_=this.framesToCapture}p.RECORDING_DIRECTIONS.forEach((function(t){var r=e.ticksPerDirection[t].ticks/(e.framesToCapture/p.RECORDING_DIRECTIONS.length);if(function(e){return e%1!=0}(r)){if(!e.overrideFramesNum)throw new Error("Bad tick vs frames ratio");r=e.framesToCapture>v?Math.floor(r):Math.ceil(r)}e.tickPerFramePerSide[t]={tickRate:r}}))}},{key:"getCurrentDirection",value:function(){return p.DIRECTION_ORDER[this.directionIndex]}},{key:"shouldChangeDirection",value:function(){return this.tickCount>=this.ticksPerDirection[this.getCurrentDirection()].ticks}},{key:"changeDirection",value:function(){this.shouldStopRecording()||(this.tickCount=0,this.directionIndex+=1)}},{key:"shouldStopRecording",value:function(){return this.totalTicks>=this.ticksUntilCompletion}},{key:"shouldTakeFrame",value:function(){var e=this.getCurrentDirection();return p.RECORDING_DIRECTIONS.includes(e)&&this.tickCount%this.tickPerFramePerSide[e].tickRate==0}},{key:"takeFrame",value:function(){this.dumpFrame((0,s.default)((0,l.default)(r.prototype),"takeFrame",this).call(this,!1)),this.frameCount+=1}},{key:"shouldReportProgress",value:function(){return this.tickCount%g==0}},{key:"reportProgress",value:function(){this.fireCallback(f.default.CALLBACK_TYPE.ON_RECORD_VIDEO_PROGRESS,{guidanceState:this.getCurrentDirection(),progress:this.totalTicks/this.ticksUntilCompletion})}},{key:"takeFrontalFrame",value:function(){this.dumpFrame((0,s.default)((0,l.default)(r.prototype),"takeFrame",this).call(this,!1),d.default.FRONTAL)}},{key:"dumpFrame",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.default.DITTO;this.fireCallback(f.default.CALLBACK_TYPE.ON_FRAME_DUMP,{frameKey:"frame-".concat(t.toLowerCase(),"-").concat(this.frameCount),frameType:t,data:e})}},{key:"startRecording",value:function(e){(0,s.default)((0,l.default)(r.prototype),"start",this).call(this,e),this.takeFrontalFrame()}},{key:"stopRecording",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,s.default)((0,l.default)(r.prototype),"stop",this).call(this),this.frameCount=0,this.directionIndex=0,e?(this.totalTicks=0,this.reportProgress()):this.fireCallback(f.default.CALLBACK_TYPE.ON_RECORD_VIDEO)}},{key:"startIntervalTimer",value:function(){this.intervalTimer||(this.intervalTimer=window.setInterval(this.record,f.default.INTERVAL))}}],[{key:"RECORDING_DIRECTIONS",get:function(){return p.RECORDING_DIRECTIONS}},{key:"DIRECTION_ORDER",get:function(){return p.DIRECTION_ORDER}},{key:"CAPTURE_RATE",get:function(){return m}},{key:"ON_RECORD_PROGRESS_INTERVAL",get:function(){return g}},{key:"FRAMES_TO_CAPTURE",get:function(){return _}},{key:"GUIDANCE_DIRECTION",get:function(){return Object.freeze(p.GUIDANCE_DIRECTION)}}]),r}(f.default);t.default=O},9638:function(e,t,r){"use strict";var n=r(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(4575)),i=n(r(3913)),a=n(r(1506)),s=n(r(6525)),c=n(r(2205)),u=n(r(8585)),l=n(r(9754)),f=r(1885),d=r(4682),p=n(r(61)),h=n(r(8895)),E=r(7665);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}var m=function(e){(0,c.default)(r,e);var t=v(r);function r(e){var n,i=e.apiManager,s=e.dispatchError;return(0,o.default)(this,r),(n=t.call(this)).frameCount=0,n.recordScale=n.recordScale.bind((0,a.default)(n)),n.apiManager=i,n.dispatchError=s,n}return(0,i.default)(r,[{key:"recordScale",value:function(){var e=this.takeFrame();this.frameCount+=1,this.dumpFrame(e)}},{key:"takeFrame",value:function(){return(0,s.default)((0,l.default)(r.prototype),"takeFrame",this).call(this,!1,!0)}},{key:"dumpFrame",value:function(e){var t=this,r=this.shouldStopScale(),n=(0,E.formatFormData)([{frameKey:"frame-scale-".concat(this.frameCount),frameType:h.default.SCALE,data:e}]);r&&this.stopScale(),this.apiManager.commitScale(n).then((function(e){var n=e.data.status;return n===f.RESPONSE.STATUS.SUCCESS?!r||t.fireCallback(p.default.CALLBACK_TYPE.ON_RECORD_SCALE):t.dispatchError({errorType:d.RECORDER_ERROR.SCALE_FAILED,errorTitle:n})})).catch((function(e){var r=e.data.detail,n=e.status;t.dispatchError({errorType:d.RECORDER_ERROR.SCALE_FAILED,errorTitle:r,errorCode:n})}))}},{key:"startScale",value:function(e){(0,s.default)((0,l.default)(r.prototype),"start",this).call(this,e)}},{key:"shouldStopScale",value:function(){return this.frameCount>=1}},{key:"stopScale",value:function(){(0,s.default)((0,l.default)(r.prototype),"stop",this).call(this),this.frameCount=0}},{key:"startIntervalTimer",value:function(){this.intervalTimer||(this.intervalTimer=window.setInterval(this.recordScale,p.default.INTERVAL))}}],[{key:"SCALE_FRAMES_TO_CAPTURE",get:function(){return 1}},{key:"FRAME_TYPE",get:function(){return Object.freeze(h.default)}}]),r}(p.default);t.default=m},3155:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return navigator.mediaDevices.enumerateDevices().then((function(e){return e.filter((function(e){return"videoinput"===e.kind})).map((function(e){return{id:e.deviceId,label:e.label,userFacing:!!e.facingMode&&e.facingMode.indexOf("user")>-1}}))})).catch((function(e){return e}))}},6998:function(e,t,r){"use strict";var n=r(7154),o=r(5318),i=r(8);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(r(9713)),s=o(r(4575)),c=o(r(3913)),u=r(4682),l=r(55),f=o(r(3155)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=O(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}n.default=e,r&&r.set(e,n);return n}(r(1494)),p=o(r(6554)),h=o(r(9638)),E=r(1026),v=o(r(6152)),m=o(r(9928)),g=o(r(2791)),_=o(r(8895));function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(O=function(e){return e?r:t})(e)}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var A=function(){},R=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(this,e),this.dumpFrame=function(e){switch(e.frameType){case _.default.FRONTAL:t.dispatchEvent(g.default.VTO_FIRST_FRONTAL_IMAGE,{imageData:e.data});break;case _.default.SCALE:break;default:t.onDumpFrame(e)}},this.onError=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.errorType,n=y({},e);r in u.RECORDER_ERROR||(n.errorType=u.RECORDER_ERROR.ERROR),n.errorTitle||(n.errorTitle="gum-recorder-error"),t.dispatchError(n)},this.container=r.container,this.onDumpFrame=r.onDumpFrame,this.dispatchEvent=r.dispatchEvent,this.dispatchError=r.dispatchError,this.recordController=new p.default(r.timeline,r.overrideFramesNum);var n=r.apiManager,o=r.dispatchEvent,i=r.dispatchError;this.scaleController=new h.default({apiManager:n,dispatchEvent:o,dispatchError:i}),this.video=null,this.stream=null,this.permission=!0,this.styles={wrap:null,facebox:null},this.deviceInfo=(0,v.default)(),this.prepareContainer()}return(0,c.default)(e,[{key:"prepareContainer",value:function(){var e=this,t=document.createElement("video");t.autoplay=!0,t.muted=!0,t.setAttribute("playsinline","playsinline"),t.classList.add("Recorder-video"),t.poster="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",this.video=t,this.container.classList.add("Recorder-videoWrap"),this.container.appendChild(t),this.visChangeHandler=function(){"visible"===document.visibilityState&&e.accessCamera()};var r=this.deviceInfo,n=r.isIOS,o=r.isIPad;(n||o)&&document.addEventListener("visibilitychange",this.visChangeHandler)}},{key:"load",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;e()}},{key:"getCameraList",value:function(){var e=this;return this.accessCamera(null,!0).then((function(e){if(e&&"Error"===e.name)throw e;return(0,f.default)()})).then((function(e){return e})).catch((function(){return[]})).then((function(t){e.dispatchEvent(g.default.CAMERAS_DETECTED,{cameras:t})}))}},{key:"scaleVideo",value:function(){var e=this.container,t=e.parentElement,r=parseInt(getComputedStyle(e).height,10),o=parseInt(getComputedStyle(e).width,10),i=parseInt(getComputedStyle(t).height,10),a=parseInt(getComputedStyle(t).width,10),s=(i-r)/2,c=a<i?a/o:i/r,u={width:"".concat(o,"px"),height:"".concat(r,"px"),top:"".concat(s,"px"),transform:"translateX(-50%) scale(".concat(c,")")};n(e.style,u),this.styles.wrap=u}},{key:"accessCamera",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={},o=Date.now();return t&&(n.video={deviceId:{exact:t}}),!(!r&&!this.permission)&&(0,d.default)(n).then((function(t){e.updateStream(t);try{e.setCameraCompensation(),e.scaleVideo()}catch(e){console.warn("camera compensation error:",e)}if((e.dispatchEvent(g.default.VTO_ANALYSIS_READY),window.AnalyticsSingleton)&&Date.now()-o>500){var r=new Date(o);window.AnalyticsSingleton.track(l.ANALYTICS_FACEINSIGHTS_EVENT.EV_USER_PERMISSION_SHOWN,{timeStamp:r.toISOString()})}return!0})).catch((function(t){var r;return"NotFoundError"===t.name?r={errorType:u.RECORDER_ERROR.BAD_CAMERA_ID,errorTitle:"bad-camera-id"}:(r={errorType:u.RECORDER_ERROR.CAMERA_ACCESS_DENIED,errorTitle:"camera-access-denied"},e.permission=!1),e.onError(r),new Error(r.errorTitle.replace(/-/g," "))}))}},{key:"updateStream",value:function(e){this.stream=e,this.video.srcObject=e}},{key:"setCameraCompensation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.video,r=this.container,o=this.deviceInfo,i=o.isIOS,a=o.isIPad,s=o.isMobile;if(!t.srcObject&&!e)return!1;var c,u,l=e||t.srcObject.getVideoTracks()[0],f=l.getSettings(),p=f.width,h=f.height,v=i||a,m=v&&matchMedia("(orientation: landscape)").matches,g=p,_=h;if("function"==typeof l.getCapabilities){var O=l.getCapabilities();c=O.width.max,u=O.height.max}else l.applyConstraints({width:9999,height:9999}),c=l.getSettings.width,u=l.getSettings.height,l.applyConstraints(d.VIDEO_CONSTRAINTS);if(c&&u||(c=g,u=_),v&&!m||screen.height>screen.width){g=Math.min(p,h),_=Math.max(p,h);var S=[c,u];c=Math.min.apply(Math,S),u=Math.max.apply(Math,S)}this.cameraComp=(0,E.cameraCompensation)([g,_]),this.cameraComp.maxRes=[c,u],this.cameraComp.imageRes=[g,_];var y=this.cameraComp,A=y.faceBBox,R=y.cropBBox,b=y.cropWidth,T=y.cropHeight,C=y.faceWidth,I=y.faceHeight;this.recordController.cropBBox=R,this.scaleController.cropBBox=R;var N={width:"".concat(b,"px"),height:"".concat(T,"px")},w={top:"-".concat(R[0][1],"px"),height:"".concat(_,"px"),width:"".concat(g,"px")};"rtl"===document.dir&&(s||a)?w.right="-".concat(R[0][0],"px"):w.left="-".concat(R[0][0],"px"),n(r.style,N),n(t.style,w);var P=r.querySelector(".Recorder-facebox"),D=P||document.createElement("div");D.classList.add("Recorder-facebox");var M={width:"".concat(C,"px"),height:"".concat(I,"px"),top:"".concat(A[0][1]-R[0][1],"px"),left:"".concat(A[0][0]-R[0][0],"px")};return n(D.style,M),P||r.appendChild(D),this.styles.facebox=M,!0}},{key:"recordVideo",value:function(){var e=this;this.recordController.addCallback(m.default.ON_RECORD_VIDEO,(function(){e.dispatchEvent(g.default.VTO_RECORDING_COMPLETE)})),this.recordController.addCallback(m.default.ON_RECORD_VIDEO_PROGRESS,(function(t){e.dispatchEvent(g.default.VTO_GUIDANCE_UPDATE,t)})),this.recordController.addCallback(m.default.ON_FRAME_DUMP,this.dumpFrame),this.recordController.addCallback(m.default.ON_ERROR,this.onError),this.recordController.startRecording(this.video)}},{key:"recordScale",value:function(){var e=this;this.scaleController.addCallback(m.default.ON_RECORD_SCALE,(function(){e.dispatchEvent(g.default.VTO_SCALE_STEP_COMPLETE)})),this.scaleController.addCallback(m.default.ON_ERROR,this.onError),this.scaleController.startScale(this.video)}},{key:"finalize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;document.removeEventListener("visibilitychange",this.visChangeHandler),e()}},{key:"unload",value:function(){this.stopStream()}},{key:"stopStream",value:function(){this.stream&&(this.stream.getTracks().forEach((function(e){e.stop()})),this.stream=null,this.video.srcObject=null)}},{key:"cancelRecording",value:function(){this.recordController.stopRecording(!0);this.dispatchEvent(g.default.VTO_GUIDANCE_UPDATE,{guidanceState:null,progress:0})}}],[{key:"FRAME_TYPE",get:function(){return Object.freeze(_.default)}}]),e}();t.default=R},1494:function(e,t,r){"use strict";var n=r(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.VIDEO_CONSTRAINTS=void 0,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getUserMedia||s();var t={video:a({},c),audio:!1};e.video&&e.video.deviceId&&(t.video.deviceId=e.video.deviceId);return navigator.mediaDevices.getUserMedia(t)};var o=n(r(9713));function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(){void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia=function(e){var t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return t?new Promise((function(r,n){t.call(navigator,e,r,n)})):Promise.reject(new Error("getUserMedia is not implemented in this browser."))}}var c={height:1080,facingMode:"user"};t.VIDEO_CONSTRAINTS=c},2228:function(e,t,r){"use strict";var n=r(5318);Object.defineProperty(t,"dz",{enumerable:!0,get:function(){return s.default}});var o=n(r(8563)),i=n(r(2791)),a=r(7947),s=n(r(6152));o.default},996:function(e,t){"use strict";function r(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=atob(e),n=t?new Uint8ClampedArray(r.length):new Uint8Array(r.length),o=0;o<n.length;o+=1)n[o]=r.charCodeAt(o);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.base64ToBinary=r,t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/jpeg",n=r(e);return new Blob([n],{type:t})}},1026:function(e,t,r){"use strict";var n=r(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.whichRes=t.predictCameraAngle=t.getCropCalculation=t.getBBoxPoints=t.convertAngle=t.cameraCompensation=void 0;var o=n(r(3038)),i=n(r(319)),a=n(r(6152)),s=480,c=1080,u=[s,720,c],l=334,f=(0,a.default)(),d=f.isMobile,p=f.isIOS,h=f.isIPad,E=function(e){var t=Math.min.apply(Math,(0,i.default)(e));return{isSD:t<=s,isHDReady:t>s&&t<c,isFullHD:t>=c}};t.whichRes=E;var v=function(e,t,r){var n=t/2/Math.tan(e*Math.PI/360);return 2*Math.atan(r/n/2)/Math.PI*180};t.convertAngle=v;var m=function(e){var t,r=E(e),n=r.isFullHD,i=r.isHDReady,a=s;if(n?a=c:i&&(a=720),t=p||h?n?41.32:i?37.48:47.59:d?n?41.32:i?33.6:47.59:n?71.8:i?66.02:54.08,d||h){var l=(0,o.default)(e,2),f=l[0],m=l[1],g=f<m;g&&-1===u.indexOf(f)?t=v(t,a,f):g||(-1===u.indexOf(m)?(t=v(t,a,m),t=v(t,m,f)):t=v(t,m,f))}return t};t.predictCameraAngle=m;var g=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=parseInt(e/2-e/r/2,10),i=parseInt(t/2-e/r/2*n,10),a=parseInt(e/2+e/r/2,10),s=parseInt(t/2+e/r/2*n,10);return[[o,i],[a,s]]};t.getBBoxPoints=g;var _=function(e,t){var r=Math.PI,n=Math.tan,i=e*r/180,a=(0,o.default)(t,2),s=a[0],c=a[1],u=s/c,f=510,d=2*f*n(i/2),p=d/l;return p<1&&(p=1,d=l,f=l/n(i/2)/2),d/u/l<1&&(f=(d=(p=u)*l)/n(i/2)/2),{masks:[g(s,c,d/167,1.3333333333333333),g(s,c,p)],distance:f}};t.getCropCalculation=_;t.cameraCompensation=function(e){var t=Object.entries(E(e)).filter((function(e){return e[1]}))[0][0],r=m(e),n=_(r,e),i=(0,o.default)(n.masks,2),a=i[0],s=i[1],c=n.distance,u=(0,o.default)(s[0],2),l=u[0],f=u[1],d=(0,o.default)(s[1],2),p=d[0]-l,h=d[1]-f,v=(0,o.default)(a[0],2),g=v[0],O=v[1],S=(0,o.default)(a[1],2);return{distance:c,faceBBox:a,cropBBox:s,cropWidth:p,cropHeight:h,faceWidth:S[0]-g,faceHeight:S[1]-O,maxRes:t,cameraAngle:r}}},8621:function(e,t){"use strict";function r(){var e=this,t=function(t,r){var n=r||{bubbles:!1,cancelable:!1,detail:void 0},o=document.createEvent("CustomEvent");o.initCustomEvent(t,n.bubbles,n.cancelable,n.detail);var i=o.preventDefault;return o.preventDefault=function(){i.call(e);try{Object.defineProperty(e,"defaultPrevented",{get:function(){return!0}})}catch(t){e.defaultPrevented=!0}},o};t.prototype=window.Event.prototype,window.CustomEvent=t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{var o=new window.CustomEvent("test");if(o.preventDefault(),!0!==o.defaultPrevented)throw new Error("Could not prevent default")}catch(e){r()}var i=new CustomEvent(e,{bubbles:!0,detail:n});t.dispatchEvent(i)}},6152:function(e,t,r){"use strict";var n=r(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=n(r(9713)),a=n(r(1206));function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u=function(){if(o)return o;var e=a.default.parse(window.navigator.userAgent),t="mobile"===e.platform.type,r="iOS"===e.os.name,n=t&&r,i=!!(r&&!t||!t&&!r&&navigator.maxTouchPoints);return o=c(c({},e),{},{isMobile:t,isIOS:r,isIPhone:n,isIPad:i})};t.default=u},4512:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}},9928:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={ON_LOAD_PROGRESS:"onLoadProgress",ON_LOAD:"onLoad",ON_ERROR:"onError",ON_ACCESS_CAMERA:"onAccessCamera",ON_RECORD_VIDEO:"onRecordVideo",ON_RECORD_VIDEO_PROGRESS:"onRecordVideoProgress",ON_RECORD_SCALE:"onRecordScale",ON_RECORD_DEBUG:"onRecordDebug",ON_FINALIZE:"onFinalize",ON_FRAME_DUMP:"onFrameDump",ON_FRAME_DUMP_COMPLETE:"onFrameDumpComplete"};t.default=r},7947:function(e,t,r){"use strict";var n=r(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.RECORDING_DIRECTIONS=t.GUIDANCE_TO_ARG=t.GUIDANCE_DIRECTION=t.DIRECTION_ORDER=void 0;var o,i=n(r(9713)),a={INIT_PAUSE:"INIT_PAUSE",TURN_LEFT:"TURN_LEFT",LEFT_PAUSE:"LEFT_PAUSE",LEFT_TO_CENTER:"LEFT_TO_CENTER",CENTER_PAUSE:"CENTER_PAUSE",TURN_RIGHT:"TURN_RIGHT",RIGHT_PAUSE:"RIGHT_PAUSE",RIGHT_TO_CENTER:"RIGHT_TO_CENTER"};t.GUIDANCE_DIRECTION=a;var s=[a.INIT_PAUSE,a.TURN_LEFT,a.LEFT_PAUSE,a.LEFT_TO_CENTER,a.CENTER_PAUSE,a.TURN_RIGHT,a.RIGHT_PAUSE,a.RIGHT_TO_CENTER];t.DIRECTION_ORDER=s;var c=[a.LEFT_TO_CENTER,a.TURN_RIGHT];t.RECORDING_DIRECTIONS=c;var u=(o={},(0,i.default)(o,a.INIT_PAUSE,"initPause"),(0,i.default)(o,a.TURN_LEFT,"turnLeft"),(0,i.default)(o,a.LEFT_PAUSE,"leftPause"),(0,i.default)(o,a.LEFT_TO_CENTER,"leftToCenter"),(0,i.default)(o,a.CENTER_PAUSE,"centerPause"),(0,i.default)(o,a.TURN_RIGHT,"turnRight"),(0,i.default)(o,a.RIGHT_PAUSE,"rightPause"),(0,i.default)(o,a.RIGHT_TO_CENTER,"rightToCenter"),o);t.GUIDANCE_TO_ARG=u},650:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={STANDARD:"STANDARD",COMPATIBILITY:"COMPATIBILITY",UNAVAILABLE:"UNAVAILABLE",UNKNOWN:"UNKNOWN",AUTO:"AUTO"};t.default=r},8895:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={DITTO:"DITTO",SCALE:"SCALE",DEBUG:"DEBUG",FRONTAL:"FRONTAL"};t.default=r},2791:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={READY:"ready",CAMERAS_DETECTED:"camerasDetected",VTO_ANALYSIS_READY:"vto:analysisReady",VTO_FIRST_FRONTAL_IMAGE:"vto:firstFrontalImage",VTO_GUIDANCE_UPDATE:"vto:guidanceUpdate",VTO_RECORDING_COMPLETE:"vto:recordingComplete",VTO_SCALE_STEP_COMPLETE:"vto:scaleStepComplete",VTO_UPLOAD_STARTED:"vto:uploadStarted",VTO_SCAN_STARTED:"vto:scanStarted",VTO_SCAN_COMPLETE:"vto:scanComplete",SCAN_ID_READY:"scanIdReady",ERROR:"error"};t.default=r},9482:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={SCAN:640};t.default=r},2542:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={INTERVAL:50,FRAMES_TO_CAPTURE:50,CAPTURE_RATE:50,ON_RECORD_PROGRESS_INTERVAL:2,MILLISECOND_MULTIPLE:1250,MIN_WAIT_TIME:5e3};t.default=r},7665:function(e,t,r){"use strict";var n=r(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.formatFormData=t.default=void 0;var o=n(r(996)),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=new FormData;return e.forEach((function(e){var r=(0,o.default)(e.data);t.append(e.frameKey,r,e.frameKey)})),t};t.formatFormData=i;var a={formatFormData:i};t.default=a},8563:function(e,t,r){"use strict";var n=r(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(9713)),i=n(r(4575)),a=n(r(3913)),s=r(1885),c=r(4682),u=n(r(6998)),l=n(r(8012)),f=n(r(1414)),d=n(r(8621)),p=n(r(4512)),h=n(r(6152)),E=n(r(650)),v=n(r(2791)),m=n(r(8895)),g=r(7947),_=n(r(2542)),O=n(r(9482));function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var A=_.default.MIN_WAIT_TIME,R=_.default.MILLISECOND_MULTIPLE,b={flowType:E.default.STANDARD,timeline:void 0,sdkProduct:"browser",sdkVersion:"0.0.0"},T=(0,h.default)(),C=T.isMobile,I=T.isIOS,N=function(){function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,i.default)(this,e),this.restartSession=function(e){return r.recorder.cancelRecording(),r.dispatcher.reset(),r.startSession(!0).then((function(){e&&r.vtoStartRecording.bind(r)}))},this.pollSessionStatus=function(){var e=Date.now();return r.apiManager.getSessionStatus().then((function(t){var n=t.data,o=n.status,i=n.real_scale;switch(o){case s.RESPONSE.STATUS.SUCCESS:r.dispatchEvent(v.default.VTO_SCAN_COMPLETE,{realScale:i});break;case s.RESPONSE.STATUS.IN_PROGRESS:var a=Date.now()-e,u=a<A?A-a:0;setTimeout(r.pollSessionStatus,u);break;default:r.dispatchError({errorType:c.RECORDER_ERROR.SCAN_FAILED,errorTitle:o})}})).catch((function(e){var t=e.data.detail,n=e.status;r.dispatchError({errorType:c.RECORDER_ERROR.SCAN_FAILED,errorTitle:t,errorCode:n})}))},this.dispatchMedia=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Array.isArray(e)?e:[e];r.dispatcher.enqueue(t)},this.dispatchEvent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.values(v.default).includes(e);if(!n)throw new Error("Unidentified event in Recorder.");(0,d.default)(e,r.containerElement,t)},this.dispatchError=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r.dispatchEvent(e.EVENT.ERROR,(0,c.recorderError)(t))},!t)throw new Error("No element passed to Recorder constructor.");this.containerElement=t,this.recorder=null,this.dispatcher=null,this.config=y(y({},b),n),this.validateTimeline(this.config.timeline),this.flowType=this.config.flowType,this.apiManager=new s.RecorderApiManager({tryOnServer:n.tryOnServer,accessKey:n.accessKey,partnerSignature:n.partnerSignature,sdkProduct:n.sdkProduct,sdkVersion:n.sdkVersion,appName:n.appName})}return(0,a.default)(e,[{key:"validateTimeline",value:function(e){var t=this;return void 0===e||g.RECORDING_DIRECTIONS.forEach((function(r){e[g.GUIDANCE_TO_ARG[r]]%R!=0&&(t.overrideFramesNum=!0)})),!0}},{key:"init",value:function(){var t=this;this.dispatcher=new f.default({apiManager:this.apiManager,onSuccess:function(){t.commitSession()},onFailure:function(e){t.dispatchError(e)}});var r=this.config,n=r.dev,o=r.flowOverride;if(n&&o&&(this.flowType=o),this.flowType!==e.FLOW_TYPE.STANDARD&&this.flowType!==e.FLOW_TYPE.AUTO)return this.unload(),void this.dispatchError({errorType:c.RECORDER_ERROR.ERROR,errorTitle:"unsupported-flow-".concat(this.flowType),errorDescription:"".concat(this.flowType," is not supported by this library.")});(0,p.default)(this.containerElement),this.containerElement.appendChild(document.createElement("div"));var i={container:this.containerElement.firstChild,onDumpFrame:this.dispatchMedia,dispatchEvent:this.dispatchEvent,dispatchError:this.dispatchError,timeline:this.config.timeline,overrideFramesNum:this.overrideFramesNum,apiManager:this.apiManager};this.flowType===E.default.STANDARD?this.recorder=new u.default(i):this.flowType===E.default.AUTO&&(this.recorder=new l.default(y(y({},i),{},{url:this.config.testFile}))),null!==this.recorder&&this.recorder.load((function(){t.dispatchEvent(e.EVENT.READY,{flowType:t.flowType})}))}},{key:"startSession",value:function(t){var r=this;return this.apiManager.startSession(t).then((function(t){var n=t.data,o=n.status,i=n.ditto_id,a=n.signature;o===s.RESPONSE.STATUS.SUCCESS&&i?r.dispatchEvent(e.EVENT.SCAN_ID_READY,{scanId:i,overlaySignature:a}):r.dispatchEvent(e.EVENT.ERROR,{errorType:c.RECORDER_ERROR.SCAN_FAILED,errorMessage:o})})).catch((function(e){var t=e.data.detail,n=e.status;r.dispatchError({errorType:c.RECORDER_ERROR.SCAN_FAILED,errorTitle:t,errorCode:n})}))}},{key:"checkForCamera",value:function(){this.recorder.getCameraList()}},{key:"startCamera",value:function(e,t){this.recorder.accessCamera(e,t)}},{key:"vtoStartRecording",value:function(){this.dispatcher.start(),this.recorder.recordVideo(),this.dispatchEvent(e.EVENT.VTO_UPLOAD_STARTED)}},{key:"vtoTakeScale",value:function(){this.recorder.recordScale()}},{key:"finalize",value:function(){var e=this;this.recorder.finalize((function(){e.dispatcher.completeQueueing()}))}},{key:"unload",value:function(){this.recorder&&this.recorder.unload(),(0,p.default)(this.containerElement)}},{key:"commitSession",value:function(){var t,r=this,n=this.dispatcher.getFrameCount(),o={frames_count_ditto:n[m.default.DITTO]||0,frames_count_scale:n[m.default.SCALE]};if(this.recorder.cameraComp){var i=this.recorder.cameraComp,a=i.distance,u=i.maxRes,l=i.imageRes,f=i.cameraAngle,d=i.cropBBox,p=i.faceBBox,h=Math.abs(d[0][0]-d[1][0]),v=Math.abs(d[0][1]-d[1][1]),g=Math.max(h,v),_=this.config.flowType===E.default.AUTO?E.default.STANDARD.toLowerCase():this.config.flowType.toLowerCase();t={original_angle_x:f,device_properties:{user_agent:window.navigator.userAgent,maximum_resolution:{width:u[0],height:u[1]},is_mobile:C,is_ios:I},crop_resize_params:{resize_ratio:g>O.default.SCAN?O.default.SCAN/g:1},creation_params:{sdk:this.config.sdkProduct,sdk_version:this.config.sdkVersion,creation_type:_,captured_resolution:{width:l[0],height:l[1]},mask_crop_params:{top_left_x:p[0][0],top_left_y:p[0][1],bottom_right_x:p[1][0],bottom_right_y:p[1][1]},face_crop_params:{top_left_x:d[0][0],top_left_y:d[0][1],bottom_right_x:d[1][0],bottom_right_y:d[1][1]},is_predicted_angle:!0,distance_to_camera:a}}}return this.dispatchEvent(e.EVENT.VTO_SCAN_STARTED),this.apiManager.commitSession(o,t).then((function(e){var t=e.data.status;t!==s.RESPONSE.STATUS.SUCCESS?r.dispatchError({errorType:c.RECORDER_ERROR.SCAN_FAILED,errorTitle:t}):r.pollSessionStatus()})).catch((function(e){var t=[s.RESPONSE.ERROR.COMMIT_IN_PROGRESS,s.RESPONSE.ERROR.ALREADY_COMMITTED],n=e.data.detail,o=e.status;t.includes(n)?r.pollSessionStatus():r.dispatchError({errorType:c.RECORDER_ERROR.SCAN_FAILED,errorTitle:n,errorCode:o})}))}},{key:"styles",get:function(){return this.recorder.styles}}],[{key:"EVENT",get:function(){return Object.freeze(v.default)}},{key:"ERROR",get:function(){return Object.freeze(c.RECORDER_ERROR)}},{key:"FLOW_TYPE",get:function(){return Object.freeze(E.default)}},{key:"GUIDANCE",get:function(){return Object.freeze(g.GUIDANCE_DIRECTION)}}]),e}();t.default=N},1414:function(e,t,r){"use strict";var n=r(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(319)),i=n(r(9713)),a=n(r(4575)),s=n(r(3913)),c=r(7734),u=r(4682),l=r(7665),f=n(r(8895));function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=function(){function e(t){var r,n=this;(0,a.default)(this,e),this.dispatch=function(){if(n.shouldDispatch()){var e=n.frameQueue.splice(0,5);if(0===e.length)return;n.uploadRequestCount+=1;var t=(0,l.formatFormData)(e);return n.ApiManager.postFrames(t,{},n.cancelTokenSource.token).then((function(t){n.onDispatchSuccess(t,e)})).catch(n.onDispatchFailure).then((function(e){e&&499===e.status||(n.uploadRequestCount-=1)}))}},this.onDispatchFailure=function(e){var t=e.status,r=e.data;return[403,503].includes(t)||!t?n.abort({errorType:u.RECORDER_ERROR.NETWORK_ERROR,errorCode:t,errorTitle:r.status}):n.handleDispatchError(r.status),e},this.ApiManager=t.apiManager,this.onSuccess=t.onSuccess,this.onFailure=t.onFailure,this.dispatchTimer=null,this.errorCount=0,this.frameQueue=[],this.queueingComplete=!1,this.uploadedCount=0,this.uploadRequestCount=0,this.frameCount=(r={},(0,i.default)(r,f.default.DITTO,0),(0,i.default)(r,f.default.SCALE,0),r),this.cancelTokenSource=c.CancelToken.source()}return(0,s.default)(e,[{key:"shouldDispatch",value:function(){return!(this.uploadRequestCount===e.MAX_UPLOAD_REQUESTS)&&!this.isComplete()}},{key:"onDispatchSuccess",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=["frame-parse-error","frame-save-error"],n=e.data,o=n.status?n.status:"Server error - no json in reponse.";"success"!==n.status&&(r.includes(n.status)?this.handleDispatchError(n.status,t):this.abort({errorType:u.RECORDER_ERROR.SCAN_FAILED,errorTitle:o}))}},{key:"handleDispatchError",value:function(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(this.errorCount+=1,this.errorCount>=e.MAX_ERRORS&&this.abort({errorType:u.RECORDER_ERROR.SCAN_FAILED,errorTitle:"too-many-errors",errorMessage:"Recorder has encountered too many errors."}),n)&&(r=this.frameQueue).unshift.apply(r,(0,o.default)(n))}},{key:"isComplete",value:function(){return!(0!==this.frameQueue.length||0!==this.uploadRequestCount||!this.queueingComplete)&&(this.completeDispatch(),!0)}},{key:"completeDispatch",value:function(){this.stopDispatchTimer(),this.onSuccess()}},{key:"abort",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.stop(),this.onFailure(e)}},{key:"incrementFrameCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=function(e,t){var r=p({},e),n=t.frameType;return n in r||(r[n]=0),r[n]+=1,r};this.frameCount=e.reduce(t,this.frameCount)}},{key:"startDispatchTimer",value:function(){this.dispatchTimer||(this.dispatchTimer=setInterval(this.dispatch,e.DISPATCH_INTERVAL))}},{key:"stopDispatchTimer",value:function(){this.dispatchTimer&&(clearInterval(this.dispatchTimer),this.dispatchTimer=null)}},{key:"enqueue",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.incrementFrameCount(t),(e=this.frameQueue).push.apply(e,(0,o.default)(t))}},{key:"start",value:function(){this.startDispatchTimer()}},{key:"stop",value:function(e){this.cancelTokenSource.cancel(e),this.stopDispatchTimer()}},{key:"reset",value:function(){var e;this.stop("cancelled for recording reset"),this.cancelTokenSource=c.CancelToken.source(),this.errorCount=0,this.queueingComplete=!1,this.frameQueue=[],this.uploadedCount=0,this.uploadRequestCount=0,this.frameCount=(e={},(0,i.default)(e,f.default.DITTO,0),(0,i.default)(e,f.default.SCALE,0),e)}},{key:"completeQueueing",value:function(){this.queueingComplete=!0}},{key:"getFrameCount",value:function(){return this.frameCount}}],[{key:"DISPATCH_INTERVAL",get:function(){return 500}},{key:"MAX_ERRORS",get:function(){return 20}},{key:"MAX_UPLOAD_REQUESTS",get:function(){return 3}},{key:"MAX_FRAMES_PER_BATCH",get:function(){return 5}}]),e}();t.default=h},1206:function(e){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=90)}({17:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=r(18),o=function(){function e(){}return e.getFirstMatch=function(e,t){var r=t.match(e);return r&&r.length>0&&r[1]||""},e.getSecondMatch=function(e,t){var r=t.match(e);return r&&r.length>1&&r[2]||""},e.matchAndReturnConst=function(e,t,r){if(e.test(t))return r},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,r,n){void 0===n&&(n=!1);var o=e.getVersionPrecision(t),i=e.getVersionPrecision(r),a=Math.max(o,i),s=0,c=e.map([t,r],(function(t){var r=a-e.getVersionPrecision(t),n=t+new Array(r+1).join(".0");return e.map(n.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(n&&(s=a-Math.min(o,i)),a-=1;a>=s;){if(c[0][a]>c[1][a])return 1;if(c[0][a]===c[1][a]){if(a===s)return 0;a-=1}else if(c[0][a]<c[1][a])return-1}},e.map=function(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n},e.find=function(e,t){var r,n;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,n=e.length;r<n;r+=1){var o=e[r];if(t(o,r))return o}},e.assign=function(e){for(var t,r,n=e,o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(i));var s=function(){var e=i[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){n[t]=e[t]}))};for(t=0,r=i.length;t<r;t+=1)s();return e},e.getBrowserAlias=function(e){return n.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return n.BROWSER_MAP[e]||""},e}();t.default=o,e.exports=t.default},18:function(e,t,r){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=(n=r(91))&&n.__esModule?n:{default:n},i=r(18);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(){}var t,r,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new o.default(e,t)},e.parse=function(e){return new o.default(e).getResult()},t=e,n=[{key:"BROWSER_MAP",get:function(){return i.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return i.ENGINE_MAP}},{key:"OS_MAP",get:function(){return i.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return i.PLATFORMS_MAP}}],(r=null)&&a(t.prototype,r),n&&a(t,n),e}();t.default=s,e.exports=t.default},91:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=c(r(92)),o=c(r(93)),i=c(r(94)),a=c(r(95)),s=c(r(17));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=s.default.find(n.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=s.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=s.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=s.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return s.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,r={},n=0,o={},i=0;if(Object.keys(e).forEach((function(t){var a=e[t];"string"==typeof a?(o[t]=a,i+=1):"object"==typeof a&&(r[t]=a,n+=1)})),n>0){var a=Object.keys(r),c=s.default.find(a,(function(e){return t.isOS(e)}));if(c){var u=this.satisfies(r[c]);if(void 0!==u)return u}var l=s.default.find(a,(function(e){return t.isPlatform(e)}));if(l){var f=this.satisfies(r[l]);if(void 0!==f)return f}}if(i>0){var d=Object.keys(o),p=s.default.find(d,(function(e){return t.isBrowser(e,!0)}));if(void 0!==p)return this.compareVersion(o[p])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var r=this.getBrowserName().toLowerCase(),n=e.toLowerCase(),o=s.default.getBrowserTypeByAlias(n);return t&&o&&(n=o.toLowerCase()),n===r},t.compareVersion=function(e){var t=[0],r=e,n=!1,o=this.getBrowserVersion();if("string"==typeof o)return">"===e[0]||"<"===e[0]?(r=e.substr(1),"="===e[1]?(n=!0,r=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?r=e.substr(1):"~"===e[0]&&(n=!0,r=e.substr(1)),t.indexOf(s.default.compareVersions(o,r,n))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=u,e.exports=t.default},92:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=(n=r(17))&&n.__esModule?n:{default:n},i=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},r=o.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},r=o.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},r=o.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},r=o.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},r=o.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},r=o.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},r=o.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},r=o.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=o.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},r=o.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},r=o.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},r=o.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},r=o.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},r=o.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},r=o.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},r=o.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},r=o.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},r=o.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},r=o.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},r=o.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},r=o.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},r=o.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},r=o.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},r=o.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},r=o.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},r=o.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},r=o.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t={name:"Android Browser"},r=o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},r=o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},r=o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:o.default.getFirstMatch(t,e),version:o.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=(n=r(17))&&n.__esModule?n:{default:n},i=r(18),a=[{test:[/Roku\/DVP/],describe:function(e){var t=o.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:i.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=o.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=o.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=o.default.getWindowsVersionName(t);return{name:i.OS_MAP.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:i.OS_MAP.iOS},r=o.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe:function(e){var t=o.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=o.default.getMacOSVersionName(t),n={name:i.OS_MAP.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=o.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:i.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t=o.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=o.default.getAndroidVersionName(t),n={name:i.OS_MAP.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=o.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:i.OS_MAP.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=o.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||o.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||o.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:i.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=o.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=o.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:i.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:i.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=o.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=(n=r(17))&&n.__esModule?n:{default:n},i=r(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=o.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:i.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe:function(e){var t=o.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:i.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=(n=r(17))&&n.__esModule?n:{default:n},i=r(18),a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:i.ENGINE_MAP.Blink};var t=o.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:i.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:i.ENGINE_MAP.Trident},r=o.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:i.ENGINE_MAP.Presto},r=o.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe:function(e){var t={name:i.ENGINE_MAP.Gecko},r=o.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:i.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:i.ENGINE_MAP.WebKit},r=o.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];t.default=a,e.exports=t.default}})},6808:function(e,t,r){var n,o;!function(i){if(void 0===(o="function"==typeof(n=i)?n.call(t,r,t,e):n)||(e.exports=o),!0,e.exports=i(),!!0){var a=window.Cookies,s=window.Cookies=i();s.noConflict=function(){return window.Cookies=a,s}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(n){function o(){}function i(t,r,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(r);/^[\{\[]/.test(a)&&(r=a)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in i)i[c]&&(s+="; "+c,!0!==i[c]&&(s+="="+i[c].split(";")[0]));return document.cookie=t+"="+r+s}}function a(e,r){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var s=i[a].split("="),c=s.slice(1).join("=");r||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=t(s[0]);if(c=(n.read||n)(c,u)||t(c),r)try{c=JSON.parse(c)}catch(e){}if(o[u]=c,e===u)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return a(e,!1)},o.getJSON=function(e){return a(e,!0)},o.remove=function(t,r){i(t,"",e(r,{expires:-1}))},o.defaults={},o.withConverter=r,o}((function(){}))}))},1614:function(e,t,r){"use strict";var n;r.r(t),r.d(t,{NIL:function(){return w},parse:function(){return v},stringify:function(){return d},v1:function(){return E},v3:function(){return b},v4:function(){return T},v5:function(){return N},validate:function(){return s},version:function(){return P}});var o=new Uint8Array(16);function i(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(o)}var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var s=function(e){return"string"==typeof e&&a.test(e)},c=[],u=0;u<256;++u)c.push((u+256).toString(16).substr(1));var l,f,d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]).toLowerCase();if(!s(r))throw TypeError("Stringified UUID is invalid");return r},p=0,h=0;var E=function(e,t,r){var n=t&&r||0,o=t||new Array(16),a=(e=e||{}).node||l,s=void 0!==e.clockseq?e.clockseq:f;if(null==a||null==s){var c=e.random||(e.rng||i)();null==a&&(a=l=[1|c[0],c[1],c[2],c[3],c[4],c[5]]),null==s&&(s=f=16383&(c[6]<<8|c[7]))}var u=void 0!==e.msecs?e.msecs:Date.now(),E=void 0!==e.nsecs?e.nsecs:h+1,v=u-p+(E-h)/1e4;if(v<0&&void 0===e.clockseq&&(s=s+1&16383),(v<0||u>p)&&void 0===e.nsecs&&(E=0),E>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=u,h=E,f=s;var m=(1e4*(268435455&(u+=122192928e5))+E)%4294967296;o[n++]=m>>>24&255,o[n++]=m>>>16&255,o[n++]=m>>>8&255,o[n++]=255&m;var g=u/4294967296*1e4&268435455;o[n++]=g>>>8&255,o[n++]=255&g,o[n++]=g>>>24&15|16,o[n++]=g>>>16&255,o[n++]=s>>>8|128,o[n++]=255&s;for(var _=0;_<6;++_)o[n+_]=a[_];return t||d(o)};var v=function(e){if(!s(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};function m(e,t,r){function n(e,n,o,i){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=v(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+e.length);if(a.set(n),a.set(e,n.length),(a=r(a))[6]=15&a[6]|t,a[8]=63&a[8]|128,o){i=i||0;for(var s=0;s<16;++s)o[i+s]=a[s];return o}return d(a)}try{n.name=e}catch(e){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}function g(e){return 14+(e+64>>>9<<4)+1}function _(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function O(e,t,r,n,o,i){return _((a=_(_(t,e),_(n,i)))<<(s=o)|a>>>32-s,r);var a,s}function S(e,t,r,n,o,i,a){return O(t&r|~t&n,e,t,o,i,a)}function y(e,t,r,n,o,i,a){return O(t&n|r&~n,e,t,o,i,a)}function A(e,t,r,n,o,i,a){return O(t^r^n,e,t,o,i,a)}function R(e,t,r,n,o,i,a){return O(r^(t|~n),e,t,o,i,a)}var b=m("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){for(var t=[],r=32*e.length,n="0123456789abcdef",o=0;o<r;o+=8){var i=e[o>>5]>>>o%32&255,a=parseInt(n.charAt(i>>>4&15)+n.charAt(15&i),16);t.push(a)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[g(t)-1]=t;for(var r=1732584193,n=-271733879,o=-1732584194,i=271733878,a=0;a<e.length;a+=16){var s=r,c=n,u=o,l=i;r=S(r,n,o,i,e[a],7,-680876936),i=S(i,r,n,o,e[a+1],12,-389564586),o=S(o,i,r,n,e[a+2],17,606105819),n=S(n,o,i,r,e[a+3],22,-1044525330),r=S(r,n,o,i,e[a+4],7,-176418897),i=S(i,r,n,o,e[a+5],12,1200080426),o=S(o,i,r,n,e[a+6],17,-1473231341),n=S(n,o,i,r,e[a+7],22,-45705983),r=S(r,n,o,i,e[a+8],7,1770035416),i=S(i,r,n,o,e[a+9],12,-1958414417),o=S(o,i,r,n,e[a+10],17,-42063),n=S(n,o,i,r,e[a+11],22,-1990404162),r=S(r,n,o,i,e[a+12],7,1804603682),i=S(i,r,n,o,e[a+13],12,-40341101),o=S(o,i,r,n,e[a+14],17,-1502002290),r=y(r,n=S(n,o,i,r,e[a+15],22,1236535329),o,i,e[a+1],5,-165796510),i=y(i,r,n,o,e[a+6],9,-1069501632),o=y(o,i,r,n,e[a+11],14,643717713),n=y(n,o,i,r,e[a],20,-373897302),r=y(r,n,o,i,e[a+5],5,-701558691),i=y(i,r,n,o,e[a+10],9,38016083),o=y(o,i,r,n,e[a+15],14,-660478335),n=y(n,o,i,r,e[a+4],20,-405537848),r=y(r,n,o,i,e[a+9],5,568446438),i=y(i,r,n,o,e[a+14],9,-1019803690),o=y(o,i,r,n,e[a+3],14,-187363961),n=y(n,o,i,r,e[a+8],20,1163531501),r=y(r,n,o,i,e[a+13],5,-1444681467),i=y(i,r,n,o,e[a+2],9,-51403784),o=y(o,i,r,n,e[a+7],14,1735328473),r=A(r,n=y(n,o,i,r,e[a+12],20,-1926607734),o,i,e[a+5],4,-378558),i=A(i,r,n,o,e[a+8],11,-2022574463),o=A(o,i,r,n,e[a+11],16,1839030562),n=A(n,o,i,r,e[a+14],23,-35309556),r=A(r,n,o,i,e[a+1],4,-1530992060),i=A(i,r,n,o,e[a+4],11,1272893353),o=A(o,i,r,n,e[a+7],16,-155497632),n=A(n,o,i,r,e[a+10],23,-1094730640),r=A(r,n,o,i,e[a+13],4,681279174),i=A(i,r,n,o,e[a],11,-358537222),o=A(o,i,r,n,e[a+3],16,-722521979),n=A(n,o,i,r,e[a+6],23,76029189),r=A(r,n,o,i,e[a+9],4,-640364487),i=A(i,r,n,o,e[a+12],11,-421815835),o=A(o,i,r,n,e[a+15],16,530742520),r=R(r,n=A(n,o,i,r,e[a+2],23,-995338651),o,i,e[a],6,-198630844),i=R(i,r,n,o,e[a+7],10,1126891415),o=R(o,i,r,n,e[a+14],15,-1416354905),n=R(n,o,i,r,e[a+5],21,-57434055),r=R(r,n,o,i,e[a+12],6,1700485571),i=R(i,r,n,o,e[a+3],10,-1894986606),o=R(o,i,r,n,e[a+10],15,-1051523),n=R(n,o,i,r,e[a+1],21,-2054922799),r=R(r,n,o,i,e[a+8],6,1873313359),i=R(i,r,n,o,e[a+15],10,-30611744),o=R(o,i,r,n,e[a+6],15,-1560198380),n=R(n,o,i,r,e[a+13],21,1309151649),r=R(r,n,o,i,e[a+4],6,-145523070),i=R(i,r,n,o,e[a+11],10,-1120210379),o=R(o,i,r,n,e[a+2],15,718787259),n=R(n,o,i,r,e[a+9],21,-343485551),r=_(r,s),n=_(n,c),o=_(o,u),i=_(i,l)}return[r,n,o,i]}(function(e){if(0===e.length)return[];for(var t=8*e.length,r=new Uint32Array(g(t)),n=0;n<t;n+=8)r[n>>5]|=(255&e[n/8])<<n%32;return r}(e),8*e.length))}));var T=function(e,t,r){var n=(e=e||{}).random||(e.rng||i)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var o=0;o<16;++o)t[r+o]=n[o];return t}return d(n)};function C(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function I(e,t){return e<<t|e>>>32-t}var N=m("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var n=unescape(encodeURIComponent(e));e=[];for(var o=0;o<n.length;++o)e.push(n.charCodeAt(o))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var i=e.length/4+2,a=Math.ceil(i/16),s=new Array(a),c=0;c<a;++c){for(var u=new Uint32Array(16),l=0;l<16;++l)u[l]=e[64*c+4*l]<<24|e[64*c+4*l+1]<<16|e[64*c+4*l+2]<<8|e[64*c+4*l+3];s[c]=u}s[a-1][14]=8*(e.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(e.length-1)&4294967295;for(var f=0;f<a;++f){for(var d=new Uint32Array(80),p=0;p<16;++p)d[p]=s[f][p];for(var h=16;h<80;++h)d[h]=I(d[h-3]^d[h-8]^d[h-14]^d[h-16],1);for(var E=r[0],v=r[1],m=r[2],g=r[3],_=r[4],O=0;O<80;++O){var S=Math.floor(O/20),y=I(E,5)+C(S,v,m,g)+_+t[S]+d[O]>>>0;_=g,g=m,m=I(v,30)>>>0,v=E,E=y}r[0]=r[0]+E>>>0,r[1]=r[1]+v>>>0,r[2]=r[2]+m>>>0,r[3]=r[3]+g>>>0,r[4]=r[4]+_>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]})),w="00000000-0000-0000-0000-000000000000";var P=function(e){if(!s(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},6355:function(e){!function(t){var r="Modernizr"in t,n=t.Modernizr;!function(e,t,r,n){var o=[],i={_version:"3.11.8",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var r=this;setTimeout((function(){t(r[e])}),0)},addTest:function(e,t,r){o.push({name:e,fn:t,options:r})},addAsyncTest:function(e){o.push({name:null,fn:e})}},a=function(){};a.prototype=i,a=new a;var s,c,u=[];function l(e,t){return typeof e===t}s=l(c={}.hasOwnProperty,"undefined")||l(c.call,"undefined")?function(e,t){return t in e&&l(e.constructor.prototype[t],"undefined")}:function(e,t){return c.call(e,t)};var f=r.documentElement,d="svg"===f.nodeName.toLowerCase();function p(e,t){if("object"==typeof e)for(var r in e)s(e,r)&&p(r,e[r]);else{var n=(e=e.toLowerCase()).split("."),o=a[n[0]];if(2===n.length&&(o=o[n[1]]),void 0!==o)return a;t="function"==typeof t?t():t,1===n.length?a[n[0]]=t:(!a[n[0]]||a[n[0]]instanceof Boolean||(a[n[0]]=new Boolean(a[n[0]])),a[n[0]][n[1]]=t),function(e){var t=f.className,r=a._config.classPrefix||"";if(d&&(t=t.baseVal),a._config.enableJSClass){var n=new RegExp("(^|\\s)"+r+"no-js(\\s|$)");t=t.replace(n,"$1"+r+"js$2")}a._config.enableClasses&&(e.length>0&&(t+=" "+r+e.join(" "+r)),d?f.className.baseVal=t:f.className=t)}([(t&&!1!==t?"":"no-")+n.join("-")]),a._trigger(e,t)}return a}function h(){return"function"!=typeof r.createElement?r.createElement(arguments[0]):d?r.createElementNS.call(r,"http://www.w3.org/2000/svg",arguments[0]):r.createElement.apply(r,arguments)}i._l={},i.on=function(e,t){this._l[e]||(this._l[e]=[]),this._l[e].push(t),a.hasOwnProperty(e)&&setTimeout((function(){a._trigger(e,a[e])}),0)},i._trigger=function(e,t){if(this._l[e]){var r=this._l[e];setTimeout((function(){var e;for(e=0;e<r.length;e++)(0,r[e])(t)}),0),delete this._l[e]}},a._q.push((function(){i.addTest=p})),function(){var e=h("audio");a.addTest("audio",(function(){var t=!1;try{(t=!!e.canPlayType)&&(t=new Boolean(t))}catch(e){}return t}));try{e.canPlayType&&(a.addTest("audio.ogg",e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"")),a.addTest("audio.mp3",e.canPlayType('audio/mpeg; codecs="mp3"').replace(/^no$/,"")),a.addTest("audio.opus",e.canPlayType('audio/ogg; codecs="opus"')||e.canPlayType('audio/webm; codecs="opus"').replace(/^no$/,"")),a.addTest("audio.wav",e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,"")),a.addTest("audio.m4a",(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,"")))}catch(e){}}(),a.addTest("canvas",(function(){var e=h("canvas");return!(!e.getContext||!e.getContext("2d"))}));var E=h("canvas");a.addTest("todataurljpeg",(function(){var e=!1;try{e=!!a.canvas&&0===E.toDataURL("image/jpeg").indexOf("data:image/jpeg")}catch(e){}return e})),a.addTest("todataurlpng",(function(){var e=!1;try{e=!!a.canvas&&0===E.toDataURL("image/png").indexOf("data:image/png")}catch(e){}return e})),a.addTest("todataurlwebp",(function(){var e=!1;try{e=!!a.canvas&&0===E.toDataURL("image/webp").indexOf("data:image/webp")}catch(e){}return e})),a.addTest("cors","XMLHttpRequest"in t&&"withCredentials"in new XMLHttpRequest);var v="Moz O ms Webkit",m=i._config.usePrefixes?v.split(" "):[];i._cssomPrefixes=m;var g={elem:h("modernizr")};a._q.push((function(){delete g.elem}));var _={style:g.elem.style};function O(e,t,n,o){var i,a,s,c,u="modernizr",l=h("div"),p=function(){var e=r.body;return e||((e=h(d?"svg":"body")).fake=!0),e}();if(parseInt(n,10))for(;n--;)(s=h("div")).id=o?o[n]:u+(n+1),l.appendChild(s);return(i=h("style")).type="text/css",i.id="s"+u,(p.fake?p:l).appendChild(i),p.appendChild(l),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(r.createTextNode(e)),l.id=u,p.fake&&(p.style.background="",p.style.overflow="hidden",c=f.style.overflow,f.style.overflow="hidden",f.appendChild(p)),a=t(l,e),p.fake&&p.parentNode?(p.parentNode.removeChild(p),f.style.overflow=c,f.offsetHeight):l.parentNode.removeChild(l),!!a}function S(e){return e.replace(/([A-Z])/g,(function(e,t){return"-"+t.toLowerCase()})).replace(/^ms-/,"-ms-")}function y(e,r,n){var o;if("getComputedStyle"in t){o=getComputedStyle.call(t,e,r);var i=t.console;if(null!==o)n&&(o=o.getPropertyValue(n));else if(i)i[i.error?"error":"log"].call(i,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}else o=!r&&e.currentStyle&&e.currentStyle[n];return o}function A(e,r,o,i){if(i=!l(i,"undefined")&&i,!l(o,"undefined")){var a=function(e,r){var o=e.length;if("CSS"in t&&"supports"in t.CSS){for(;o--;)if(t.CSS.supports(S(e[o]),r))return!0;return!1}if("CSSSupportsRule"in t){for(var i=[];o--;)i.push("("+S(e[o])+":"+r+")");return O("@supports ("+(i=i.join(" or "))+") { #modernizr { position: absolute; } }",(function(e){return"absolute"===y(e,null,"position")}))}return n}(e,o);if(!l(a,"undefined"))return a}for(var s,c,u,f,d,p=["modernizr","tspan","samp"];!_.style&&p.length;)s=!0,_.modElem=h(p.shift()),_.style=_.modElem.style;function E(){s&&(delete _.style,delete _.modElem)}for(u=e.length,c=0;c<u;c++)if(f=e[c],d=_.style[f],~(""+f).indexOf("-")&&(f=f.replace(/([a-z])-([a-z])/g,(function(e,t,r){return t+r.toUpperCase()})).replace(/^-/,"")),_.style[f]!==n){if(i||l(o,"undefined"))return E(),"pfx"!==r||f;try{_.style[f]=o}catch(e){}if(_.style[f]!==d)return E(),"pfx"!==r||f}return E(),!1}a._q.unshift((function(){delete _.style}));var R=i._config.usePrefixes?v.toLowerCase().split(" "):[];function b(e,t){return function(){return e.apply(t,arguments)}}function T(e,t,r,n,o){var i=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+m.join(i+" ")+i).split(" ");return l(t,"string")||l(t,"undefined")?A(a,t,n,o):function(e,t,r){var n;for(var o in e)if(e[o]in t)return!1===r?e[o]:l(n=t[e[o]],"function")?b(n,r||t):n;return!1}(a=(e+" "+R.join(i+" ")+i).split(" "),t,r)}function C(e,t,r){return T(e,n,n,t,r)}i._domPrefixes=R,i.testAllProps=T,i.testAllProps=C,a.addTest("flexbox",C("flexBasis","1px",!0)),a.addTest("flexboxlegacy",C("boxDirection","reverse",!0)),a.addTest("flexboxtweener",C("flexAlign","end",!0)),a.addTest("csstransforms",(function(){return-1===navigator.userAgent.indexOf("Android 2.")&&C("transform","scale(1)",!0)})),a.addTest("customevent","CustomEvent"in t&&"function"==typeof t.CustomEvent),a.addTest("classlist","classList"in f),a.addTest("eventlistener","addEventListener"in t),a.addTest("filereader",!!(t.File&&t.FileList&&t.FileReader)),a.addTest("fileinput",(function(){var e=navigator.userAgent;if(e.match(/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|(Windows Phone (OS 7|8.0))|(XBLWP)|(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|(Kindle\/(1.0|2.0|2.5|3.0))/)||e.match(/\swv\).+(chrome)\/([\w\.]+)/i))return!1;var t=h("input");return t.type="file",!t.disabled})),a.addTest("imgcrossorigin","crossOrigin"in h("img"));var I=function(e){if("undefined"==typeof XMLHttpRequest)return!1;var t=new XMLHttpRequest;t.open("get","/",!0);try{t.responseType=e}catch(e){return!1}return"response"in t&&t.responseType===e};a.addTest("xhrresponsetypearraybuffer",I("arraybuffer")),a.addTest("xhrresponsetypejson",I("json"));var N=i._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];i._prefixes=N;var w=function(){var e=t.matchMedia||t.msMatchMedia;return e?function(t){var r=e(t);return r&&r.matches||!1}:function(e){var t=!1;return O("@media "+e+" { #modernizr { position: absolute; } }",(function(e){t="absolute"===y(e,null,"position")})),t}}();i.mq=w,a.addTest("touchevents",(function(){if("ontouchstart"in t||t.TouchEvent||t.DocumentTouch&&r instanceof DocumentTouch)return!0;var e=["(",N.join("touch-enabled),("),"heartz",")"].join("");return w(e)})),a.addTest("typedarrays","ArrayBuffer"in t),a.addAsyncTest((function(){-1!==navigator.userAgent.indexOf("MSIE 7.")&&setTimeout((function(){a.addTest("datauri",new Boolean(!1))}),10);var e=new Image;e.onerror=function(){a.addTest("datauri",new Boolean(!1))},e.onload=function(){1===e.width&&1===e.height?function(){var e=new Image;e.onerror=function(){a.addTest("datauri",new Boolean(!0)),a.addTest("datauri.over32kb",!1)},e.onload=function(){a.addTest("datauri",new Boolean(!0)),a.addTest("datauri.over32kb",1===e.width&&1===e.height)};var t="R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";for(;t.length<33e3;)t="\r\n"+t;e.src="data:image/gif;base64,"+t}():a.addTest("datauri",new Boolean(!1))},e.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="})),function(){var e=h("video");a.addTest("video",(function(){var t=!1;try{(t=!!e.canPlayType)&&(t=new Boolean(t))}catch(e){}return t}));try{e.canPlayType&&(a.addTest("video.ogg",e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"")),a.addTest("video.h264",e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"")),a.addTest("video.h265",e.canPlayType('video/mp4; codecs="hev1"').replace(/^no$/,"")),a.addTest("video.webm",e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")),a.addTest("video.vp9",e.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,"")),a.addTest("video.hls",e.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,"")),a.addTest("video.av1",e.canPlayType('video/mp4; codecs="av01"').replace(/^no$/,"")))}catch(e){}}(),a.addTest("getUserMedia","mediaDevices"in navigator&&"getUserMedia"in navigator.mediaDevices),a.addTest("atobbtoa","atob"in t&&"btoa"in t,{aliases:["atob-btoa"]}),function(){var e,t,r,n,i,s;for(var c in o)if(o.hasOwnProperty(c)){if(e=[],(t=o[c]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(r=0;r<t.options.aliases.length;r++)e.push(t.options.aliases[r].toLowerCase());for(n=l(t.fn,"function")?t.fn():t.fn,i=0;i<e.length;i++)1===(s=e[i].split(".")).length?a[s[0]]=n:(a[s[0]]&&(!a[s[0]]||a[s[0]]instanceof Boolean)||(a[s[0]]=new Boolean(a[s[0]])),a[s[0]][s[1]]=n),u.push((n?"":"no-")+s.join("-"))}}(),delete i.addTest,delete i.addAsyncTest;for(var P=0;P<a._q.length;P++)a._q[P]();e.Modernizr=a}(t,t,document),e.exports=t.Modernizr,r?t.Modernizr=n:delete t.Modernizr}(window)},7136:function(e){"use strict";e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')},1987:function(e){"use strict";e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};!function(){"use strict";function e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.r(n),r.d(n,{Overlay:function(){return k},Scan:function(){return K},flowType:function(){return oe},getFrontalFrame:function(){return te},getProducts:function(){return ee},iframeAssetsRoot:function(){return re},iframeOrigin:function(){return ne},readOnly:function(){return ie}});var t=r(1885),o=r(6355),i=r.n(o),a=r(2228);var s={STANDARD:"STANDARD",COMPATIBILITY:"COMPATIBILITY",UNAVAILABLE:"UNAVAILABLE",UNKNOWN:"UNKNOWN",AUTO:"AUTO"};const c=(0,a.dz)(),u=e=>{const t=i().classlist&&i().canvas&&i().todataurljpeg&&(i().flexbox||i().flexboxlegacy||i().flexboxtweener)&&i().xhrresponsetypearraybuffer&&i().cors&&i().eventlistener&&i().atobbtoa;return"function"==typeof e&&e(t),t};function l(){const e="Safari"===c.browser.name,t=c.browser.version,r=c.os.name,n=c.os.version,o="macOS"===r&&e&&t<"11.1"||"iOS"===r&&e&&n<"11.3",a=(void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getUserMedia||i().getusermedia)&&i().typedarrays&&i().video&&void 0!==window.Uint8ClampedArray&&void 0!==window.Uint8Array&&void 0!==window.Uint32Array&&!!new Blob;return!o&&a}const f=e=>{const t=c.platform.type,r=!("tablet"===t||"mobile"===t);let n=s.UNAVAILABLE;return u()&&(l()?n=s.STANDARD:(e=>{const t=i().fileinput&&i().filereader;return"function"==typeof e&&e(t),t})()&&!r&&(n=s.COMPATIBILITY)),"function"==typeof e&&e(n),n};var d={whichFlow:f,getFeatures:function(e){const t={MODERNIZR_FILEINPUT:i().fileinput,MODERNIZR_CLASSLIST:i().classlist,MODERNIZR_CANVAS:i().canvas,MODERNIZR_TODATAURLJPEG:i().todataurljpeg,MODERNIZR_FLEXBOX:i().flexbox,MODERNIZR_FLEXBOXLEGACY:i().flexboxlegacy,MODERNIZR_FLEXBOXTWEENER:i().flexboxtweener,MODERNIZR_FILEREADER:i().filereader,MODERNIZR_XHRRESPONSEARRAYBUFFER:i().xhrresponsetypearraybuffer,MODERNIZR_CORS:i().cors,MODERNIZR_EVENTLISTENER:i().eventlistener,MODERNIZR_ATOBBTOA:i().atobbtoa,BOWSER_MAC:"macOS"===c.os.name,BOWSER_IOS:"iOS"===c.os.name,BOWSER_SAFARI:"Safari"===c.browser.name,BOWSER_VERSION:c.browser.version,BOWSER_OSVERSION:c.os.version,NAVIGATOR_MEDIADEVICES:void 0!==navigator.mediaDevices,NAVIGATOR_MEDIADEVICES_GETUSERMEDIA:void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getUserMedia,MODERNIZR_GETUSERMEDIA:i().getusermedia,MODERNIZR_TYPEDARRAYS:i().typedarrays,MODERNIZR_VIDEO:i().video,WINDOW_Uint8ClampedArray:void 0!==window.Uint8ClampedArray,WINDOW_Uint8Array:void 0!==window.Uint8Array,WINDOW_Uint32Array:void 0!==window.Uint32Array,BLOB:!!new Blob,BOWSER_TABLET:"tablet"===c.platform.type,BOWSER_MOBILE:"mobile"===c.platform.type,BOWSER_IPAD:c.isIPad};u((e=>{t._HAS_BASIC_SUPPORT=e})),t._HAS_GUM_SUPPORT=l(),f((e=>{t._WHICH_FLOW=e})),e(t)}};function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}class h{constructor(e=null){this.targetId=`${e}-${h.counter+=1}`,this.iframe=null,this.iframeOrigin=`${window.location.protocol}//${window.Ditto.iframeOrigin}`,this.isMobile();window.addEventListener("message",(e=>{e.origin===this.iframeOrigin&&e.data.target===this.targetId&&this.onMessage(e.data)}),!1)}postMessage(t){const r=function(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?p(Object(n),!0).forEach((function(r){e(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({target:this.targetId},t);this.iframe.contentWindow&&this.iframe.contentWindow.postMessage(r,this.iframeOrigin)}onMessage(){}isMobile(){const e="ditto-mobile-api";d.whichFlow((t=>{t!==s.COMPATIBILITY||document.documentElement.classList.contains(e)||document.documentElement.classList.add(e)}))}}h.counter=0;var E=h;var v=function(e=null,t=[],r=134){const n=t[0],o=t[1],i=r/(t[2]-n);return{top:-(i*o)+"px",left:-(i*n)+"px",width:e.width*i+"px"}};var m=function(e=null,t={}){Object.keys(t).forEach((r=>{e.style&&(e.style[r]=t[r])}))};const g=65535;var _=function(e,t="image/jpeg"){const r=new Uint8Array(e),n=[];for(let e=0;e*g<r.length;e+=1){const t=r.subarray(e*g,(e+1)*g),o=String.fromCharCode(...t);n.push(o)}return`data:${t};base64,${btoa(n.join(""))}`};var O={INITIALIZE:"INITIALIZE",RESIZE:"RESIZE"};var S={INITIALIZED:"INITIALIZED",DIMENSIONS:"DIMENSIONS"};var y={INITIALIZED:"INITIALIZED",SUCCESS:"SUCCESS",FAILURE:"FAILURE",ONCLICK:"ONCLICK"};function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?A(Object(n),!0).forEach((function(r){e(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const b={SERVER:"tryOnServer",PARTNER_ID:"partnerId",SELECTOR:"domSelector",ACCESS_KEY:"accessKey"},T=R(R({},b),{},{SIGNATURE:"partnerSignature",FI_SERVER:"faceInsightsServer",GLASSES_ID:"glassesId",FONT:"font",SET_SCALE:"setScale",DISABLE_CLOSE:"disableClose",ENABLE_FI:"enableFaceInsights",FI_CONFIG:"faceInsightsConfig"}),C=R(R({},b),{},{SIGNATURE:"overlaySignature",GLASSES_ID:"glassesId",SCAN_ID:"scanId",DISABLE_PREVIEW:"disablePreview",PARTNER_ID:"partnerId"}),I=[b.SERVER,b.PARTNER_ID,b.SELECTOR,b.ACCESS_KEY],N={REQUIRED_SCAN:[...I,T.SIGNATURE],REQUIRED_OVERLAY:[...I,C.SIGNATURE],[b.PARTNER_ID]:["ditto","default"],[T.FONT]:["montserrat","notosans","nunito","nunitosans","opensans","roboto","scheherazade","markazitext","assistant","rubik"],[T.SET_SCALE]:["optional","force","disable"]};function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?w(Object(n),!0).forEach((function(r){e(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const D={disablePreview:!1},{appName:M,sdkProduct:L,sdkVersion:j}={appName:"default bsdk",sdkProduct:"browser",sdkVersion:"5.1.0"};class x extends E{constructor(e={},r={}){super("overlay"),this.destroy=()=>{this.iframe.removeEventListener("load",this.onIframeLoad),this.destroyIframe()},this.destroyIframe=()=>{const e=document.querySelector(this.config.domSelector),t=e.querySelector('iframe[name="ditto-iframe"]');t&&e.removeChild(t)},this.onIframeLoad=()=>{this.postMessage({event:x.API_EVENT_TYPE.INITIALIZE,glassesId:this.activeGlassesId,tryOnServer:this.config.tryOnServer,partnerId:this.config.partnerId,scanId:this.config.scanId,accessKey:this.config.accessKey,overlaySignature:this.config.overlaySignature,origin:window.location.origin,disablePreview:this.config.disablePreview,viewportWidth:this.getContainerWidth(),readOnly:window.Ditto.readOnly})},this.config=P(P({},D),e),this.callbacks=r,this.iframe=null,this.activeGlassesId=null,this.config.tryOnServer=this.config.tryOnServer.replace(/\/$/,""),this.ApiManager=(0,t.ClientSideApiManager)({tryOnServer:this.config.tryOnServer,accessKey:this.config.accessKey,overlaySignature:this.config.overlaySignature,scanId:this.config.scanId,appName:M,sdkProduct:L,sdkVersion:j}),this.checkConfigs(),e.thumbnailSelector&&this.getDittoThumbnail(e.thumbnailSelector,e.glassesId),this.setGlassesId(this.config.glassesId)}checkConfigs(){const{config:e}=this;if(N[C.PARTNER_ID].includes(e[C.PARTNER_ID]))throw new Error(`Overlay ERROR: config.${C.PARTNER_ID} is incorrect. Please use your own partnerId`);const t=N.REQUIRED_OVERLAY.filter((t=>!e[t]));if(t.length){const e=t.length>1?`Overlay ERROR: ${t.join(" and ")} are required configs.`:`Overlay ERROR: ${t[0]} is a required config`;throw new Error(e)}}createIframe(){const e=document.querySelector(this.config.domSelector),t=document.createElement("iframe");t.name="ditto-iframe",t.width="100%",t.height="100%",t.frameBorder="0",t.scrolling="no",t.allowTransparency=!0,t.classList.add("DittoSandbox"),t.title="Ditto Overlay",this.destroyIframe(),this.iframe=t,e.appendChild(t)}setGlassesId(e=null){this.activeGlassesId=e||void 0,this.createIframe(),this.iframe.addEventListener("load",this.onIframeLoad),this.iframe.src=`${window.Ditto.iframeAssetsRoot}/overlay.html`}getDittoThumbnail(e=null,t=null){const r=document.querySelector(e);let n;return m(r,{width:"134px",height:"100px",position:"relative"}),this.ApiManager.getThumbnail().then((e=>{const{data:o}=e;if("success"!==o.status)return;({bbox:n}=o);const{offset:i}=o,a=document.createElement("img");return a.src=o.image_data_uri,m(a,{position:"absolute",left:`${i.x}px`,top:0}),r.appendChild(a),this.ApiManager.getFrontalFrame({product_id:t})})).then((e=>{const{data:t}=e,o=document.createElement("img");o.onload=()=>{const e=v(o,n);m(o,P({position:"absolute",opacity:0,transition:"opacity .4s"},e)),r.appendChild(o),setTimeout((()=>{o.style.opacity=1}),0)},o.src=_(t)})).catch((()=>{const e=document.createElement("img");r.appendChild(e)}))}shouldFireCallback(e){return e in x.OVERLAY_CALLBACK_EVENT_TYPE&&e.toLowerCase()in this.callbacks}getContainerWidth(){return document.querySelector(this.config.domSelector).offsetWidth}onMessage(e={}){this.shouldFireCallback(e.event)&&this.callbacks[e.event.toLowerCase()](e.details)}static get API_EVENT_TYPE(){return Object.freeze(O)}static get OVERLAY_EVENT_TYPE(){return Object.freeze(S)}static get OVERLAY_CALLBACK_EVENT_TYPE(){return Object.freeze(y)}}var k=x;function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?F(Object(n),!0).forEach((function(r){e(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var V=function(e={},t=[]){return Object.keys(e).filter((e=>t.includes(e))).reduce(((t,r)=>U(U({},t),{},{[r]:e[r]})),{})};var B={SUCCESS:"SUCCESS",FAILURE:"FAILURE",PROGRESS:"PROGRESS",CLOSE:"CLOSE",RE_RECORD:"RE_RECORD",FACEIQ_RESULT:"FACEIQ_RESULT"};var G={CLOSE:"CLOSE",SUCCESS:"SUCCESS",FAILURE:"FAILURE",PROGRESS:"PROGRESS",RE_RECORD:"RE_RECORD",FACEIQ_RESULT:"FACEIQ_RESULT"};var Y={[B.SUCCESS]:["scanId","realScale","accessKey","overlaySignature"],[B.FAILURE]:["status","description"],[B.PROGRESS]:["status","description","value","sessionId"],[B.CLOSE]:["description"],[B.FACEIQ_RESULT]:["faceShape","faceWidth","prescriptionInfo","pupillaryDistance"]};function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?H(Object(n),!0).forEach((function(r){e(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const W={setScale:"optional",disableClose:!1,enableFaceInsights:!1};class q extends E{constructor(e={},t={}){super("scan"),this.destroy=()=>{const e=document.querySelector('iframe[name="scan-iframe"]');e&&e.parentElement.removeChild(e),this.iframe=null},this.onIframeLoad=()=>{const{config:e,iframe:t,flowType:r}=this,n=e.tryOnServer.replace(/\/$/,""),o=window.getComputedStyle(t).height;r!==s.COMPATIBILITY&&o&&parseInt(o,10)<600&&console.warn("Ditto: Styling the iframe `#scan-iframe` with a height property value other than 600px may cause irregularities in the iframes interface.\nPlease set the iframes height property to 600px or remove the height property to avoid unexpected results."),e.faceInsightsServer&&e.faceInsightsServer.length||(e.faceInsightsServer=n.replace(/(\/\/[a-zA-Z-]*)(vto)([a-zA-Z-]*\..*)/,"$1face$3")),this.postMessage({event:q.API_EVENT_TYPE.INITIALIZE,config:{iframeAssetsRoot:window.Ditto.iframeAssetsRoot,iframeOrigin:window.Ditto.iframeOrigin,readOnly:window.Ditto.readOnly,tryOnServer:n,faceInsightsServer:e.faceInsightsServer,accessKey:e.accessKey,partnerSignature:e.partnerSignature,partnerId:e.partnerId,font:e.font,custom:e.custom,flowType:this.flowType,targetId:this.targetId,parentOrigin:window.location.origin,initializeStart:this.initializeStart,setScale:e.setScale,disableClose:e.disableClose,enableFaceInsights:e.enableFaceInsights,faceInsightsConfig:e.faceInsightsConfig},features:this.features})},this.config=z(z({},W),e),this.callbacks=t,this.iframe=null,this.initializeStart=null,this.flowType=null,this.features=null,this.checkConfigs(),this.initializeIframe()}checkConfigs(){const{config:e}=this;if(e[T.FONT]&&!N[T.FONT].includes(e[T.FONT])&&console.warn(`Scan WARNING: "${e[T.FONT]}" is a non-included font that may not work for everyone.`),e[T.SET_SCALE]&&!N[T.SET_SCALE].includes(e[T.SET_SCALE])&&console.error(`Scan ERROR: "${e[T.SET_SCALE]}" is not an accepted setScale option. Falling back to "optional".`),N[T.PARTNER_ID].includes(e[T.PARTNER_ID]))throw new Error(`Scan ERROR: config.${T.PARTNER_ID} is incorrect. Please use your own partnerId`);const t=N.REQUIRED_SCAN.filter((t=>!e[t]));if(t.length){const e=t.length>1?`Scan ERROR: ${t.join(" and ")} are required configs.`:`Scan ERROR: ${t[0]} is a required config`;throw new Error(e)}return!0}initializeIframe(){this.destroy(),this.initializeStart=Date.now();const e=document.createElement("iframe");e.name="scan-iframe",e.frameBorder="0",e.classList.add("DittoSandbox"),e.id="scan-iframe",e.allow="camera; autoplay",e.title="Ditto Try-On Scan",this.iframe=e,this.asyncUpdateIframe()}asyncUpdateIframe(){d.whichFlow((e=>{if(this.flowType=this.config.flow||e,this.iframe.src=`${window.Ditto.iframeAssetsRoot}/scan-`,this.flowType===s.COMPATIBILITY)this.iframe.width="100%",this.iframe.height="100%",this.iframe.src+="compatibility.html",m(this.iframe,{position:"fixed",left:"0",top:"0"}),document.body.appendChild(this.iframe);else{this.iframe.width="100%",this.iframe.height="600px",this.flowType===s.AUTO?this.iframe.src+="automation.html":this.iframe.src+="standard.html",this.config.enableFaceInsights&&(this.iframe.src=this.iframe.src.replace(".html","-fa.html"));document.querySelector(this.config.domSelector).appendChild(this.iframe)}this.iframe.addEventListener("load",this.onIframeLoad)})),d.getFeatures((e=>{this.features=e}))}shrinkIframe(){this.iframe&&(this.iframe.width="1",this.iframe.height="1",m(this.iframe,{position:"absolute",left:"0",top:"0"}))}callbackExists(e){return e in q.SCAN_CALLBACK_EVENT_TYPE&&e.toLowerCase()in this.callbacks}tryFireCallback(e={}){const{event:t}=e;if(this.callbackExists(t)){const r=V(e,Y[t]);this.callbacks[t.toLowerCase()](r)}}onMessage(e={}){const{event:t}=e;switch(t){case G.SUCCESS:this.flowType===s.COMPATIBILITY&&this.shrinkIframe();break;case B.CLOSE:this.destroy()}this.tryFireCallback(e)}static get SCAN_EVENT_TYPE(){return Object.freeze(B)}static get API_EVENT_TYPE(){return Object.freeze(O)}static get SCAN_CALLBACK_EVENT_TYPE(){return Object.freeze(G)}static get SCAN_EVENT_FILTERS(){return Object.freeze(Y)}}var K=q;const{appName:$,sdkProduct:Q,sdkVersion:X}={appName:"default bsdk",sdkProduct:"browser",sdkVersion:"5.1.0"},Z=e=>e.replace(/^https?:/,"").replace(/^(?!\/\/)\/?/,"//").replace(/\/$/,""),J=(e,t)=>({accept:"application/json","X-Ditto-Access-Key-Id":e,"X-Ditto-Signature":t,"X-Ditto-Analytics-App-Name":$,"X-Ditto-Analytics-Sdk-Product":Q,"X-Ditto-Analytics-Sdk-Version":X}),ee=(e,t,r)=>{const{tryOnServer:n,accessKey:o,partnerSignature:i}=e,a=`${Z(n)}/api/1.4/products/`,s=J(o,i);fetch(a,{headers:s}).then((e=>e.json())).then((e=>{"function"==typeof t?t(e):console.error("No callback function was passed into api.getProducts",e)})).catch((e=>{"function"==typeof r?r(e):console.error(e)}))},te=(e,t,r)=>{const{tryOnServer:n,accessKey:o,overlaySignature:i,scanId:a,glassesId:s,size:c}=e,u=Z(n),l=J(o,i),f=`${u}/api/1.4/dittos/${a}/frontal-frame/`,d=new URLSearchParams;s&&d.set("product_id",s),c&&(Array.isArray(c)?d.set("size",c.join(",")):d.set("size",c)),fetch(`${f}?${d}`,{headers:l}).then((e=>e.blob())).then((e=>{"function"==typeof t?t(e):console.error("No callback function was passed into api.getFrontalFrame",e)})).catch((e=>{"function"==typeof r?r(e):console.error(e)}))};const re="//bsdk.api.ditto.com/default/5.1.0/en-in",ne="bsdk.api.ditto.com",oe=d.whichFlow(),ie={};fetch("https://bsdk.api.ditto.com/config/global.json").then((e=>e.json())).then((e=>{Object.entries(e).forEach((([e,t])=>{ie[e]=t,Object.freeze(ie[e])})),Object.freeze(ie)}))}(),window.Ditto=n}();